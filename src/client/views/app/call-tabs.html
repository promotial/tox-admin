<template name="callList">
  <!-- call lists buttons -->
  <div class="call-list-button call-list-button-pending {{pending}}">
    <div class="call-list-buttons-text">Pending</div>
  </div>
  <div class="call-list-button call-list-button-active {{active}}">
    <div class="call-list-buttons-text">Active</div>
  </div>
  <!-- call list tab -->
  <div class="call-tab">
    {{#each calls}}
      {{> callItem}}
    {{/each}}
  </div>
</template>

<template name="closedCalls">
  <!-- tab title -->
  <div id="closed-calls-title" class="call-list-button {{hide}}">
    <div class="call-list-buttons-text">Closed Calls</div>
  </div>
  <!-- tab content -->
  <div id="call-tab-closed" class="call-tab {{hide}}">
    {{#each calls}}
      {{> callItem}}
    {{/each}}
  </div>
</template>

<template name="callItem">
  <div class="call-list-item">
    <!-- action button -->
    <a id="call-item-action-btn" class="call-item-btn call-item-btn-{{status}}-action call-item-btn-{{status}}-{{myCall operator}}"  href="">{{action status}}</a>
    <!-- view button -->
    <a id="call-item-view-btn" class="call-item-btn call-item-btn-{{status}}-view" href={{pathFor 'callView'}}>View</a>
    <!-- display callers number -->
    <div id="call-item-number" class="call-item-btn">{{number}}</div>
    <!-- display call date -->
    <div id="call-item-date" class="call-item-btn">{{callTimeAgo date}}</div>

    {{#if notTaken status }}
    <!-- assigned operator -->
    <div id="call-item-assigned" class="call-item-btn call-item-assigned-{{myCall operator}}">
      <!-- operator initials/photo -->
      <span title={{operator}}>{{getInitials operator}}</span> 
      {{#if myCall operator}}
        <!-- leave/open buttons -->
        <a href="" id="call-item-assigned-action" class="call-item-btn">{{assignedAction status}}</a>
      {{/if}}
    </div>
    {{/if}}
  </div>
</template>

<template name="callView">
  {{#with call}}
  <!-- tab title -->
  <div id="call-view-title" class="call-list-button {{shrink}}">
    <div class="call-view-title-text">{{number}}</div>
    <select id="call-view-urgency">
      <option>None</option>
      <option>Minor</option>
      <option>Delayed</option>
      <option>Immediate</option>
      <option>Morgue</option>
    </select> 
  </div>
  <!-- tab content -->
  <div id="call-tab-view" class="call-tab {{shrink}}">
    <!-- call description -->
    <div id="call-view-description" class="call-view-box"> 
      <div class="call-view-box-title"> <div style="padding:5px;">Call Description</div> </div>
      <div style="overflow-y:auto; height:150px;">
        <div id="call-view-description-text">
          {{name}} called at {{ callTime date }} regarding an incident that took place {{#with ago}} {{hrs}}hrs {{min}}m {{/with}} before the time of the call. The subject is a {{age}} year old {{sex}} who weighs {{weight}}kg.
        </div>
      </div> 
    </div>
    <!-- attached photos -->
    <div id="call-view-photos" class="call-view-box"> 
      <div class="call-view-box-title"> <div style="padding:5px;">Attached Photos</div> </div>
      <div style="overflow-x:scroll; overflow-y: hidden; height:150px; white-space: nowrap;">
        <img src="/img/no-image.png" class="call-view-photo-item">
        <img src="/img/no-image.png" class="call-view-photo-item">
        <img src="/img/no-image.png" class="call-view-photo-item">
        <img src="/img/no-image.png" class="call-view-photo-item">
      </div> 
    </div>
    <!-- caller location -->
    <div id="call-view-map" class="call-view-box"></div>
    <!-- call description -->
    <div id="call-view-comments" class="call-view-box"> 
      <div class="call-view-box-title"> <div style="padding:5px;">Comments</div> </div>
    </div>
  </div>
  {{/with}}
</template>

<template name="noCallView">
  <!-- tab title -->
  <div id="call-view-title" class="call-list-button {{shrink}}">
    <div id="no-call-view-title" class="call-view-title-text">No Call Selected</div>
  </div>
  <!-- tab content -->
  <div id="call-tab-view" class="call-tab {{shrink}}">
  </div>
</template>