(function(a,w){var h=window.kendo,v=h.mobile.ui,x=v.Widget,m=x.prototype.init,t=v.Shim.prototype.init,l=["Header","Footer","LeftItem","RightItem","View-Title","ListItem","ListView-Link","Page","Label","Text","Password","Search","Url","Email","Number","Tel","Date","Time","Month","DateTime","DateTime-Local","Textarea"],b=["Header","Footer"],s=Math.round,y={actionsheet:"ActionSheet",backbutton:"BackButton",button:"Button",buttongroup:"ButtonGroup",content:"Content",detailbutton:"DetailButton",drawer:"Drawer",footer:"Footer",header:"Header",label:"Label",layout:"Layout",listitem:"List Item",listview:"ListView","listview-link":"ListView Link",loader:"Loader",modalview:"ModalView",navbar:"NavBar",popover:"PopOver",scroller:"Scroller",scrollview:"ScrollView",scrollpage:"Scroll Page",splitview:"SplitView","switch":"Switch",touch:"Touch",tab:"Tab",tabstrip:"TabStrip",text:"Text",password:"Password",search:"Search",url:"Url",email:"Email",number:"Number",tel:"Tel",date:"Date",time:"Time",month:"Month",datetime:"DateTime","datetime-local":"DateTime-Local",textarea:"Textarea",view:"View","view-title":"View-Title"},e={actionsheet:"ActionSheet",backbutton:"BackButton",button:"Button",buttongroup:"ButtonGroup",detailbutton:"DetailButton",footer:"Footer",header:"Header",label:"Label",layout:"Layout",listitem:"ListItem",listview:"ListView","listview-link":"ListView Link",navbar:"NavBar",scrollview:"ScrollView",scrollpage:"ScrollPage","switch":"Switch",tab:"Tab",tabstrip:"TabStrip",text:"Text",password:"Password",popover:"PopOver",search:"Search",url:"Url",email:"Email",number:"Number",tel:"Tel",date:"Date",time:"Time",month:"Month",datetime:"DateTime","datetime-local":"DateTime-Local",textarea:"Textarea",view:"View","view-title":"View-Title"},g=0,j=l.length,u={depth:0,cleanTree:function(i){var z=document.createNodeIterator(i,NodeFilter.SHOW_TEXT,null,false);while(z.nextNode()){if(z.referenceNode&&!z.referenceNode.textContent.trim()){z.referenceNode.parentNode.removeChild(z.referenceNode)}}},cleanItems:function(C,z){for(var A=0,D=C.length;A<D;A++){var B=C[A];if(B.items&&B.items.length){B.items=u.cleanItems(B.items,z)}}return a.map(C,function(i){if(i.text&&i.id){if(i.items&&!i.items.length){delete i.items}if(z&&i.id.indexOf("_layout")!==-1){return null}return i}else{if(i.items){return i.items}}return null})},censor:function(A,C){var B={};if(typeof(this)==="object"){if(this.__passed__){this.__passed__=w;u.depth--}if(C&&(C instanceof Node)&&isNaN(A)){return"[Node]"}if(C&&typeof(C)=="object"){for(var z in C){try{B[z]=C[z]}catch(i){}}this.__passed__=true;u.depth++}if(u.depth>10){return w}}return h.size(B)?B:C},initMinis:function(z){var i,A=a(h.roleSelector("view"),z);a(h.roleSelector("popover actionsheet"),z).each(function(){var B=a(this);B.attr("data-kendo-parent-view",B.closest(A).data("kendo-id"))});a(h.roleSelector("buttongroup"),z).find(">li").attr("data-kendo-name","Button");a(h.roleSelector("listview"),z).find(">li,ul>li").attr("data-kendo-name","ListItem").children().each(function(){i=a(this);if(i.is("a")){i.addClass("km-listview-link").attr(h.attr("role"),"listview-link").attr("data-kendo-name","ListView Link")}if(i.is("label")){i.attr(h.attr("role"),"label").attr("data-kendo-name","Label").children("input").each(function(){var B=a(this),C=B.attr("type");B.attr(h.attr("role"),C).attr("data-kendo-name",C[0].toUpperCase()+C.substr(1))})}})},padLeft:function(A,z,i){return(new Array(i+1).join(z)+A).slice(-i)},padRight:function(A,z,i){return(A+new Array(i+1).join(z)).slice(0,i)},prepareReferenceTree:function(i){var z=window.preview.layoutBase;if(!z||!z.childNodes.length){z=document.createDocumentFragment();a(z).append(a(i).clone(true))}window.preview.layoutBase=z;return z},cloneReferenceTree:function(z,A){if(!z){return false}var B=document.createDocumentFragment(),C=[{text:"Root",id:"Root",expanded:true}],D=document.createTreeWalker(z,NodeFilter.SHOW_ALL,f,false);function i(H,F,G,E){if(H.currentNode){if(H.currentNode.childNodes.length){H.firstChild();G[E].expanded=true;G[E].items=[];G[E].items.push(q(H.currentNode));i(H,F.appendChild(r(H.currentNode)),G[E].items,0)}if(H.currentNode.nextSibling){H.nextSibling();G.push(q(H.currentNode));if(F.parentNode){i(H,F.parentNode.appendChild(r(H.currentNode)),G,++E)}}else{H.parentNode()}}}i(D,B,C,0);u.cleanTree(B);C=u.cleanItems(C,!A);return{result:B,roles:C}},kendoIdSelector:function(i){return"[data-kendo-id="+i+"]"}};var n=document.addEventListener;document.addEventListener=function(z,A,i){if(z=="deviceready"){a(function(){try{A(new window.CustomEvent("deviceready",{}))}catch(B){}})}n.call(document,z,A,i)};for(;g<j;g++){v.plugin(x.extend({init:function k(i,z){x.fn.init.call(this,i,z);if(this.options.name!="View-Title"){a(this.wrapper).addClass("km-"+this.options.name.toLowerCase())}},options:{name:l[g]},click:{},value:function(){}}))}x.prototype.init=function(z,B){var C=this,A,i=a(z).closest(".km-scroll-container");m.call(C,z,a.extend(B,{prefix:C.options.prefix}));A=C.options.name;z=C.element;if(A&&!z.attr("data-kendo-name")){z[0].setAttribute("data-kendo-name",A.replace("-"," "));if(b.indexOf(A)!=-1){z.addClass("km-"+A.toLowerCase())}}if(A=="PopOver"&&i[0]){C.element.closest(".km-overlay").appendTo(i)}};var o=h.mobile.Application.prototype.init,p=h.mobile.Application.prototype;h.mobile.Application=h.Observable.extend({init:function(i,A){if(window.preview){i=a(i?i:document.body);var z=i.children(h.roleSelector("layout"));if(z[0]){window.preview.layoutReference=u.cloneReferenceTree(u.prepareReferenceTree(z),true)}u.initMinis(i)}o.call(this,i[0],A)},showLoading:function(){},hideLoading:function(){}});h.mobile.Application.prototype=p;h.ui.Movable.prototype.refresh=function(){var z=this,i="translate3d("+s(z.x)+"px,"+s(z.y)+"px,0) scale("+z.scale+")";if(i!=z.coordinates){z.element[0].style[h.support.transitions.prefix+"Transform"]=i;z._saveCoordinates(i);z.trigger("change");window.preview._deselect()}};v.Layout.prototype.detach=function(z){var i=this;if(z.header===i.header&&i.header[0]){i.header.remove()}if(z.footer===i.footer&&i.footer.length){i.footer.remove()}i.trigger("hide",{layout:i,view:z})};v.Layout.prototype.attach=function(A){var z=this,i=z.currentView;if(i){z.detach(i)}if(A.header===z.header){z.header.detach();A.element.children(h.roleSelector("header")).remove();A.element.prepend(z.header)}if(A.footer===z.footer){z.footer.detach();A.element.children(h.roleSelector("footer")).remove();A.element.append(z.footer)}z.trigger("show",{layout:z,view:A});z.previousView=i;z.currentView=A};v.Shim.prototype.init=function(i,z){var A=this,B=a(i).closest(h.roleSelector("view"));t.call(A,i,a.extend(z,{prefix:A.options.prefix}));if(B[0]){A.shim.appendTo(B)}};v.Drawer.prototype._moveViewTo=function(i){this.userEvents.cancel();this._transitioning=false;this.transition.moveTo({location:i,duration:1,ease:h.effects.Transition.easeOutExpo})};v.Switch.prototype._drag=function(){var i=this;i.userEvents=new h.UserEvents(i.wrapper,{})};v.Button.prototype._release=function(){};v.Pane.prototype._mouseup=function(){};v.Loader.prototype.show=function(){};v.Loader.prototype.hide=function(){};v.ActionSheet.prototype._click=function(i){};function f(i){if(/script|link|style/i.test(i.nodeName)){return NodeFilter.FILTER_REJECT}else{return NodeFilter.FILTER_ACCEPT}}function r(z){var i=z.cloneNode(false);if(i.id){i.removeAttribute("id")}i.ref=z;return i}function q(B){var z={},A,C,i=B.dataset;if(i&&i.role!="content"){C=A=i.kendoName||y[i.role]||(i.role?i.role[0].toUpperCase()+i.role.substr(1):i.role);A=A?A.toLowerCase().replace(" ","-"):"";if(A&&B.id){C="<span>#"+B.id+"</span>"}else{if(A&&i.id){C="<span>#"+i.id+"</span>"}}z={encoded:false,text:C,spriteCssClass:A in e?A:"general",id:i.kendoId}}return z}function d(){}function c(i){d.prototype=i;return new d()}window.tools=u;window.tools.clone=c})(jQuery);