(function(a,x,aA){var R=window.kendo=window.kendo||{cultures:{}},z=a.extend,p=a.each,an=a.proxy,L=a.isArray,Z=a.noop,V=Math,aw,O=window.JSON||{},av={},ak=/%/,B=/\{(\d+)(:[^\}]+)?\}/g,g=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,ac=/^(\+|-?)\d+(\.?)\d*$/,C="function",au="string",ab="number",ad="object",aa="null",f="boolean",aB="undefined",H={},ap={},at=[].slice,I=window.Globalize;R.version="2013.2.1002";function h(){}h.extend=function(aK){var aH=function(){},aJ,aM=this,aL=aK&&aK.init?aK.init:function(){aM.apply(this,arguments)},aI;aH.prototype=aM.prototype;aI=aL.fn=aL.prototype=new aH();for(aJ in aK){if(typeof aK[aJ]===ad&&!(aK[aJ] instanceof Array)&&aK[aJ]!==null){aI[aJ]=z(true,{},aH.prototype[aJ],aK[aJ])}else{aI[aJ]=aK[aJ]}}aI.constructor=aL;aL.extend=aM.extend;return aL};function N(aH){return typeof aH==="function"}R.isFunction=N;var am=function(){this._defaultPrevented=true};var M=function(){return this._defaultPrevented===true};var ae=h.extend({init:function(){this._events={}},bind:function(aH,aL,aP){var aR=this,aN,aI=typeof aH===au?[aH]:aH,aO,aQ,aK,aM=typeof aL===C,aJ;if(aL===aA){for(aN in aH){aR.bind(aN,aH[aN])}return aR}for(aN=0,aO=aI.length;aN<aO;aN++){aH=aI[aN];aK=aM?aL:aL[aH];if(aK){if(aP){aQ=aK;aK=function(){aR.unbind(aH,aK);aQ.apply(aR,arguments)}}aJ=aR._events[aH]=aR._events[aH]||[];aJ.push(aK)}}return aR},one:function(aH,aI){return this.bind(aH,aI,true)},first:function(aH,aL){var aP=this,aN,aI=typeof aH===au?[aH]:aH,aO,aK,aM=typeof aL===C,aJ;for(aN=0,aO=aI.length;aN<aO;aN++){aH=aI[aN];aK=aM?aL:aL[aH];if(aK){aJ=aP._events[aH]=aP._events[aH]||[];aJ.unshift(aK)}}return aP},trigger:function(aI,aH){var aM=this,aJ=aM._events[aI],aK,aL;if(aJ){aH=aH||{};aH.sender=aM;aH._defaultPrevented=false;aH.preventDefault=am;aH.isDefaultPrevented=M;aJ=aJ.slice();for(aK=0,aL=aJ.length;aK<aL;aK++){aJ[aK].call(aM,aH)}return aH._defaultPrevented===true}return false},unbind:function(aH,aJ){var aL=this,aI=aL._events[aH],aK;if(aH===aA){aL._events={}}else{if(aI){if(aJ){for(aK=aI.length-1;aK>=0;aK--){if(aI[aK]===aJ){aI.splice(aK,1)}}}else{aL._events[aH]=[]}}}return aL}});function i(aI,aK){if(aK){return"'"+aI.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var aH=aI.charAt(0),aJ=aI.substring(1);if(aH==="="){return"+("+aJ+")+"}else{if(aH===":"){return"+e("+aJ+")+"}else{return";"+aI+";o+="}}}}var e=/^\w+/,r=/\$\{([^}]*)\}/g,s=/\\\}/g,k=/__CURLY__/g,t=/\\#/g,aq=/__SHARP__/g,aG=["","0","00","000","0000"];aw={paramName:"data",useWithBlock:true,render:function(aL,aH){var aJ,aK,aI="";for(aJ=0,aK=aH.length;aJ<aK;aJ++){aI+=aL(aH[aJ])}return aI},compile:function(aQ,aM){var aP=z({},this,aM),aN=aP.paramName,aH=aN.match(e)[0],aR=aP.useWithBlock,aK="var o,e=kendo.htmlEncode;",aJ,aO,aL;if(N(aQ)){if(aQ.length===2){return function(aS){return aQ(a,{data:aS}).join("")}}return aQ}aK+=aR?"with("+aN+"){":"";aK+="o=";aO=aQ.replace(s,"__CURLY__").replace(r,"#=e($1)#").replace(k,"}").replace(t,"__SHARP__").split("#");for(aL=0;aL<aO.length;aL++){aK+=i(aO[aL],aL%2===0)}aK+=aR?";}":";";aK+="return o;";aK=aK.replace(aq,"#");try{aJ=new Function(aH,aK);aJ._slotCount=Math.floor(aO.length/2);return aJ}catch(aI){throw new Error(R.format("Invalid template:'{0}' Generated code:'{1}'",aQ,aK))}}};function ag(aJ,aH,aI){aJ=aJ+"";aH=aH||2;aI=aH-aJ.length;if(aI){return aG[aH].substring(0,aI)+aJ}return aJ}(function(){var aH=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,aI,aJ,aK={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},aM,aO={}.toString;if(typeof Date.prototype.toJSON!==C){Date.prototype.toJSON=function(){var aP=this;return isFinite(aP.valueOf())?ag(aP.getUTCFullYear(),4)+"-"+ag(aP.getUTCMonth()+1)+"-"+ag(aP.getUTCDate())+"T"+ag(aP.getUTCHours())+":"+ag(aP.getUTCMinutes())+":"+ag(aP.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function aL(aP){aH.lastIndex=0;return aH.test(aP)?'"'+aP.replace(aH,function(aQ){var aR=aK[aQ];return typeof aR===au?aR:"\\u"+("0000"+aQ.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+aP+'"'}function aN(aS,aP){var aQ,aR,aX,aT,aU=aI,aV,aY=aP[aS],aW;if(aY&&typeof aY===ad&&typeof aY.toJSON===C){aY=aY.toJSON(aS)}if(typeof aM===C){aY=aM.call(aP,aS,aY)}aW=typeof aY;if(aW===au){return aL(aY)}else{if(aW===ab){return isFinite(aY)?String(aY):aa}else{if(aW===f||aW===aa){return String(aY)}else{if(aW===ad){if(!aY){return aa}aI+=aJ;aV=[];if(aO.apply(aY)==="[object Array]"){aT=aY.length;for(aQ=0;aQ<aT;aQ++){aV[aQ]=aN(aQ,aY)||aa}aX=aV.length===0?"[]":aI?"[\n"+aI+aV.join(",\n"+aI)+"\n"+aU+"]":"["+aV.join(",")+"]";aI=aU;return aX}if(aM&&typeof aM===ad){aT=aM.length;for(aQ=0;aQ<aT;aQ++){if(typeof aM[aQ]===au){aR=aM[aQ];aX=aN(aR,aY);if(aX){aV.push(aL(aR)+(aI?": ":":")+aX)}}}}else{for(aR in aY){if(Object.hasOwnProperty.call(aY,aR)){aX=aN(aR,aY);if(aX){aV.push(aL(aR)+(aI?": ":":")+aX)}}}}aX=aV.length===0?"{}":aI?"{\n"+aI+aV.join(",\n"+aI)+"\n"+aU+"}":"{"+aV.join(",")+"}";aI=aU;return aX}}}}}if(typeof O.stringify!==C){O.stringify=function(aS,aQ,aR){var aP;aI="";aJ="";if(typeof aR===ab){for(aP=0;aP<aR;aP+=1){aJ+=" "}}else{if(typeof aR===au){aJ=aR}}aM=aQ;if(aQ&&typeof aQ!==C&&(typeof aQ!==ad||typeof aQ.length!==ab)){throw new Error("JSON.stringify")}return aN("",{"":aS})}}})();(function(){var aJ=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,aX=/^(n|c|p|e)(\d*)$/i,aR=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,aI=/\,/g,aK="",aU=".",aH=",",aW="#",aZ="0",aT="??",aL="en-US",aS={}.toString;R.cultures["en-US"]={name:aL,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function aN(a0){if(a0){if(a0.numberFormat){return a0}if(typeof a0===au){var a1=R.cultures;return a1[a0]||a1[a0.split("-")[0]]||null}return null}return null}function aQ(a0){if(a0){a0=aN(a0)}return a0||R.cultures.current}function aM(a0){a0.groupSizes=a0.groupSize;a0.percent.groupSizes=a0.percent.groupSize;a0.currency.groupSizes=a0.currency.groupSize}R.culture=function(a1){var a2=R.cultures,a0;if(a1!==aA){a0=aN(a1)||a2[aL];a0.calendar=a0.calendars.standard;a2.current=a0;if(I){aM(a0.numberFormat)}}else{return a2.current}};R.findCulture=aN;R.getCulture=aQ;R.culture(aL);function aO(a2,a4,a1){a1=aQ(a1);var a0=a1.calendars.standard,a3=a0.days,a5=a0.months;a4=a0.patterns[a4]||a4;return a4.replace(aJ,function(a6){var a7;if(a6==="d"){a7=a2.getDate()}else{if(a6==="dd"){a7=ag(a2.getDate())}else{if(a6==="ddd"){a7=a3.namesAbbr[a2.getDay()]}else{if(a6==="dddd"){a7=a3.names[a2.getDay()]}else{if(a6==="M"){a7=a2.getMonth()+1}else{if(a6==="MM"){a7=ag(a2.getMonth()+1)}else{if(a6==="MMM"){a7=a5.namesAbbr[a2.getMonth()]}else{if(a6==="MMMM"){a7=a5.names[a2.getMonth()]}else{if(a6==="yy"){a7=ag(a2.getFullYear()%100)}else{if(a6==="yyyy"){a7=ag(a2.getFullYear(),4)}else{if(a6==="h"){a7=a2.getHours()%12||12}else{if(a6==="hh"){a7=ag(a2.getHours()%12||12)}else{if(a6==="H"){a7=a2.getHours()}else{if(a6==="HH"){a7=ag(a2.getHours())}else{if(a6==="m"){a7=a2.getMinutes()}else{if(a6==="mm"){a7=ag(a2.getMinutes())}else{if(a6==="s"){a7=a2.getSeconds()}else{if(a6==="ss"){a7=ag(a2.getSeconds())}else{if(a6==="f"){a7=V.floor(a2.getMilliseconds()/100)}else{if(a6==="ff"){a7=V.floor(a2.getMilliseconds()/10)}else{if(a6==="fff"){a7=a2.getMilliseconds()}else{if(a6==="tt"){a7=a2.getHours()<12?a0.AM[0]:a0.PM[0]}}}}}}}}}}}}}}}}}}}}}}return a7!==aA?a7:a6.slice(1,a6.length-1)})}function aP(bp,a7,a1){a1=aQ(a1);var bq=a1.numberFormat,bc=bq.groupSize[0],bb=bq[aH],a4=bq[aU],bt=bq.decimals,br=bq.pattern[0],bn=[],by,bk,bl,a3,a8,bo=bp<0,bi,a9,bj,ba,bu=aK,bz=aK,bh,bm,a0,bd,be,a5,bv,bA,bg,bf,bs,a2,bx,bw=-1,a6;if(bp===aA){return aK}if(!isFinite(bp)){return bp}if(!a7){return a1.name.length?bp.toLocaleString():bp.toString()}a8=aX.exec(a7);if(a8){a7=a8[1].toLowerCase();bk=a7==="c";bl=a7==="p";if(bk||bl){bq=bk?bq.currency:bq.percent;bc=bq.groupSize[0];bb=bq[aH];a4=bq[aU];bt=bq.decimals;by=bq.symbol;br=bq.pattern[bo?0:1]}a3=a8[2];if(a3){bt=+a3}if(a7==="e"){return a3?bp.toExponential(bt):bp.toExponential()}if(bl){bp*=100}bp=aV(bp,bt);bp=bp.split(aU);bi=bp[0];a9=bp[1];if(bo){bi=bi.substring(1)}bz=bi;bj=bi.length;if(bj>=bc){bz=aK;for(bh=0;bh<bj;bh++){if(bh>0&&(bj-bh)%bc===0){bz+=bb}bz+=bi.charAt(bh)}}if(a9){bz+=a4+a9}if(a7==="n"&&!bo){return bz}bp=aK;for(bh=0,bm=br.length;bh<bm;bh++){a0=br.charAt(bh);if(a0==="n"){bp+=bz}else{if(a0==="$"||a0==="%"){bp+=by}else{bp+=a0}}}return bp}if(bo){bp=-bp}if(a7.indexOf("'")>-1||a7.indexOf('"')>-1||a7.indexOf("\\")>-1){a7=a7.replace(aR,function(bC){var bD=bC.charAt(0).replace("\\",""),bB=bC.slice(1).replace(bD,"");bn.push(bB);return aT})}a7=a7.split(";");if(bo&&a7[1]){a7=a7[1];be=true}else{if(bp===0){a7=a7[2]||a7[0];if(a7.indexOf(aW)==-1&&a7.indexOf(aZ)==-1){return a7}}else{a7=a7[0]}}bs=a7.indexOf("%");a2=a7.indexOf("$");bl=bs!=-1;bk=a2!=-1;if(bl){bp*=100}if(bk&&a7[a2-1]==="\\"){a7=a7.split("\\").join("");bk=false}if(bk||bl){bq=bk?bq.currency:bq.percent;bc=bq.groupSize[0];bb=bq[aH];a4=bq[aU];bt=bq.decimals;by=bq.symbol}bd=a7.indexOf(aH)>-1;if(bd){a7=a7.replace(aI,aK)}a5=a7.indexOf(aU);bm=a7.length;if(a5!=-1){a9=bp.toString().split("e");if(a9[1]){a9=aV(bp,Math.abs(a9[1]))}else{a9=a9[0]}a9=a9.split(aU)[1]||aK;bA=a7.lastIndexOf(aZ)-a5;bv=a7.lastIndexOf(aW)-a5;bg=bA>-1;bf=bv>-1;bh=a9.length;if(!bg&&!bf){a7=a7.substring(0,a5)+a7.substring(a5+1);bm=a7.length;a5=-1;bh=0}if(bg&&bA>bv){bh=bA}else{if(bv>bA){if(bf&&bh>bv){bh=bv}else{if(bg&&bh<bA){bh=bA}}}}if(bh>-1){bp=aV(bp,bh)}}else{bp=aV(bp)}bv=a7.indexOf(aW);bx=bA=a7.indexOf(aZ);if(bv==-1&&bA!=-1){bw=bA}else{if(bv!=-1&&bA==-1){bw=bv}else{bw=bv>bA?bA:bv}}bv=a7.lastIndexOf(aW);bA=a7.lastIndexOf(aZ);if(bv==-1&&bA!=-1){a6=bA}else{if(bv!=-1&&bA==-1){a6=bv}else{a6=bv>bA?bv:bA}}if(bw==bm){a6=bw}if(bw!=-1){bz=bp.toString().split(aU);bi=bz[0];a9=bz[1]||aK;bj=bi.length;ba=a9.length;if(bd){if(bj===bc&&bj<a5-bx){bi=bb+bi}else{if(bj>bc){bz=aK;for(bh=0;bh<bj;bh++){if(bh>0&&(bj-bh)%bc===0){bz+=bb}bz+=bi.charAt(bh)}bi=bz}}}bp=a7.substring(0,bw);if(bo&&!be){bp+="-"}for(bh=bw;bh<bm;bh++){a0=a7.charAt(bh);if(a5==-1){if(a6-bh<bj){bp+=bi;break}}else{if(bA!=-1&&bA<bh){bu=aK}if((a5-bh)<=bj&&a5-bh>-1){bp+=bi;bh=a5}if(a5===bh){bp+=(a9?a4:aK)+a9;bh+=a6-a5+1;continue}}if(a0===aZ){bp+=a0;bu=a0}else{if(a0===aW){bp+=bu}}}if(a6>=bw){bp+=a7.substring(a6+1)}if(bk||bl){bz=aK;for(bh=0,bm=bp.length;bh<bm;bh++){a0=bp.charAt(bh);bz+=(a0==="$"||a0==="%")?by:a0}bp=bz}bm=bn.length;if(bm){for(bh=0;bh<bm;bh++){bp=bp.replace(aT,bn[bh])}}}return bp}var aV=function(a2,a1){var a0=Math.pow(10,a1||0);return(Math.round(a2*a0)/a0).toFixed(a1)};var aY=function(a2,a1,a0){if(a1){if(aS.call(a2)==="[object Date]"){return aO(a2,a1,a0)}else{if(typeof a2===ab){return aP(a2,a1,a0)}}}return a2!==aA?a2:""};if(I){aY=an(I.format,I)}R.format=function(a0){var a1=arguments;return a0.replace(B,function(a3,a2,a4){var a5=a1[parseInt(a2,10)+1];return aY(a5,a4?a4.substring(1):"")})};R._extractFormat=function(a0){if(a0.slice(0,3)==="{0:"){a0=a0.slice(3,a0.length-1)}return a0};R._activeElement=function(){try{return document.activeElement}catch(a0){return document.documentElement.activeElement}};R._round=aV;R.toString=aY})();(function(){var aQ=/\u00A0/g,aK=/[eE][\-+]?[0-9]+/,aV=/[+|\-]\d{1,2}/,aM=/[+|\-]\d{1,2}:\d{2}/,aI=/^\/Date\((.*?)\)\/$/,aL=["G","g","d","F","D","y","m","T","t"],aR={2:/^\d{1,2}/,4:/^\d{4}/},aS={}.toString;function aT(aY,aX,aW){return !(aY>=aX&&aY<=aW)}function aJ(aW){return aW.charAt(0)}function aP(aW){return a.map(aW,aJ)}function aH(aW,aX){if(!aX&&aW.getHours()===23){aW.setHours(aW.getHours()+2)}}function aN(aX){var aY=0,aZ=aX.length,aW=[];for(;aY<aZ;aY++){aW[aY]=(aX[aY]+"").toLowerCase()}return aW}function aO(aW){var aX={},aY;for(aY in aW){aX[aY]=aN(aW[aY])}return aX}function aU(bq,a5,a1){if(!bq){return null}var be=function(bu){var bt=0;while(a5[ba]===bu){bt++;ba++}if(bt>0){ba-=1}return bt},a7=function(bv){var bu=aR[bv]||new RegExp("^\\d{1,"+bv+"}"),bt=bq.substr(br,bv).match(bu);if(bt){bt=bt[0];br+=bt.length;return parseInt(bt,10)}return null},a6=function(by,bv){var bt=0,bu=by.length,bw,bx,bz;for(;bt<bu;bt++){bw=by[bt];bx=bw.length;bz=bq.substr(br,bx);if(bv){bz=bz.toLowerCase()}if(bz==bw){br+=bx;return bt+1}}return null},aZ=function(){var bt=false;if(bq.charAt(br)===a5[ba]){br++;bt=true}return bt},aX=a1.calendars.standard,bs=null,bj=null,a3=null,a8=null,bh=null,bn=null,bg=null,ba=0,br=0,bd=false,a2=new Date(),bo=aX.twoDigitYearMax||2029,a4=a2.getFullYear(),aY,a0,bc,bk,bm,bp,bb,bf,aW,bl,a9,bi;if(!a5){a5="d"}bk=aX.patterns[a5];if(bk){a5=bk}a5=a5.split("");bc=a5.length;for(;ba<bc;ba++){aY=a5[ba];if(bd){if(aY==="'"){bd=false}else{aZ()}}else{if(aY==="d"){a0=be("d");if(!aX._lowerDays){aX._lowerDays=aO(aX.days)}a3=a0<3?a7(2):a6(aX._lowerDays[a0==3?"namesAbbr":"names"],true);if(a3===null||aT(a3,1,31)){return null}}else{if(aY==="M"){a0=be("M");if(!aX._lowerMonths){aX._lowerMonths=aO(aX.months)}bj=a0<3?a7(2):a6(aX._lowerMonths[a0==3?"namesAbbr":"names"],true);if(bj===null||aT(bj,1,12)){return null}bj-=1}else{if(aY==="y"){a0=be("y");bs=a7(a0);if(bs===null){return null}if(a0==2){if(typeof bo==="string"){bo=a4+parseInt(bo,10)}bs=(a4-a4%100)+bs;if(bs>bo){bs-=100}}}else{if(aY==="h"){be("h");a8=a7(2);if(a8==12){a8=0}if(a8===null||aT(a8,0,11)){return null}}else{if(aY==="H"){be("H");a8=a7(2);if(a8===null||aT(a8,0,23)){return null}}else{if(aY==="m"){be("m");bh=a7(2);if(bh===null||aT(bh,0,59)){return null}}else{if(aY==="s"){be("s");bn=a7(2);if(bn===null||aT(bn,0,59)){return null}}else{if(aY==="f"){a0=be("f");bg=a7(a0);if(bg!==null&&a0>3){bg=parseInt(bg.toString().substring(0,3),10)}if(bg===null||aT(bg,0,999)){return null}}else{if(aY==="t"){a0=be("t");aW=aX.AM;bl=aX.PM;if(a0===1){aW=aP(aW);bl=aP(bl)}bm=a6(bl);if(!bm&&!a6(aW)){return null}}else{if(aY==="z"){bp=true;a0=be("z");if(bq.substr(br,1)==="Z"){if(!bb){return null}aZ();continue}bf=bq.substr(br,6).match(a0>2?aM:aV);if(!bf){return null}bf=bf[0];br=bf.length;bf=bf.split(":");a9=parseInt(bf[0],10);if(aT(a9,-12,13)){return null}if(a0>2){bi=parseInt(bf[1],10);if(isNaN(bi)||aT(bi,0,59)){return null}}}else{if(aY==="T"){bb=aZ()}else{if(aY==="'"){bd=true;aZ()}else{if(!aZ()){return null}}}}}}}}}}}}}}}if(bs===null){bs=a4}if(bm&&a8<12){a8+=12}if(a3===null){a3=1}if(bp){if(a9){a8+=-a9}if(bi){bh+=-bi}bq=new Date(Date.UTC(bs,bj,a3,a8,bh,bn,bg))}else{bq=new Date(bs,bj,a3,a8,bh,bn,bg);aH(bq,a8)}if(bs<100){bq.setFullYear(bs)}if(bq.getDate()!==a3&&bp===aA){return null}return bq}R.parseDate=function(a2,aY,aW){if(aS.call(a2)==="[object Date]"){return a2}var aZ=0,aX=null,a0,a1;if(a2&&a2.indexOf("/D")===0){aX=aI.exec(a2);if(aX){return new Date(parseInt(aX[1],10))}}aW=R.getCulture(aW);if(!aY){aY=[];a1=aW.calendar.patterns;a0=aL.length;for(;aZ<a0;aZ++){aY[aZ]=a1[aL[aZ]]}aZ=0;aY.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}aY=L(aY)?aY:[aY];a0=aY.length;for(;aZ<a0;aZ++){aX=aU(a2,aY[aZ],aW);if(aX){return aX}}return aX};R.parseInt=function(aY,aW){var aX=R.parseFloat(aY,aW);if(aX){aX=aX|0}return aX};R.parseFloat=function(a6,aW,aY){if(!a6&&a6!==0){return null}if(typeof a6===ab){return a6}a6=a6.toString();aW=R.getCulture(aW);var a1=aW.numberFormat,a3=a1.percent,aX=a1.currency,a5=aX.symbol,a4=a3.symbol,a0=a6.indexOf("-"),a2,aZ;if(aK.test(a6)){a6=parseFloat(a6.replace(a1["."],"."));if(isNaN(a6)){a6=null}return a6}if(a0>0){return null}else{a0=a0>-1}if(a6.indexOf(a5)>-1||(aY&&aY.toLowerCase().indexOf("c")>-1)){a1=aX;a2=a1.pattern[0].replace("$",a5).split("n");if(a6.indexOf(a2[0])>-1&&a6.indexOf(a2[1])>-1){a6=a6.replace(a2[0],"").replace(a2[1],"");a0=true}}else{if(a6.indexOf(a4)>-1){aZ=true;a1=a3;a5=a4}}a6=a6.replace("-","").replace(a5,"").replace(aQ," ").split(a1[","].replace(aQ," ")).join("").replace(a1["."],".");a6=parseFloat(a6);if(isNaN(a6)){a6=null}else{if(a0){a6*=-1}}if(a6&&aZ){a6/=100}return a6};if(I){R.parseDate=function(aY,aX,aW){if(aS.call(aY)==="[object Date]"){return aY}return I.parseDate(aY,aX,aW)};R.parseFloat=function(aX,aW){if(typeof aX===ab){return aX}if(aX===aA||aX===null){return null}aX=I.parseFloat(aX,aW);return isNaN(aX)?null:aX}}})();function aE(aK){var aJ=av.browser,aO,aM=aK.css("direction")=="rtl";if(!aK.parent().hasClass("k-animation-container")){var aT=aK.css(R.support.transitions.css+"box-shadow")||aK.css("box-shadow"),aR=aT?aT.match(g)||[0,0,0,0,0]:[0,0,0,0,0],aH=V.max((+aR[3]),+(aR[4]||0)),aN=(-aR[1])+aH,aS=(+aR[1])+aH,aI=(+aR[2])+aH,aU=aK[0].style.width,aL=aK[0].style.height,aQ=ak.test(aU),aP=ak.test(aL);if(aJ.opera){aN=aS=aI=5}aO=aQ||aP;if(!aQ){aU=aK.outerWidth()}if(!aP){aL=aK.outerHeight()}aK.wrap(a("<div/>").addClass("k-animation-container").css({width:aU,height:aL,marginLeft:aN*(aM?1:-1),paddingLeft:aN,paddingRight:aS,paddingBottom:aI}));if(aO){aK.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var aV=aK.parent(".k-animation-container"),aW=aV[0].style;if(aV.is(":hidden")){aV.show()}aO=ak.test(aW.width)||ak.test(aW.height);if(!aO){aV.css({width:aK.outerWidth(),height:aK.outerHeight()})}}if(aJ.msie&&V.floor(aJ.version)<=7){aK.css({zoom:1});aK.children(".k-menu").width(aK.width())}return aK.parent()}function m(aH){var aI=1,aJ=arguments.length;for(aI=1;aI<aJ;aI++){n(aH,arguments[aI])}return aH}function n(aI,aO){var aK=R.data.ObservableArray,aH=R.data.DataSource,aL,aN,aM,aJ;for(aL in aO){aN=aO[aL];aM=typeof aN;if(aM===ad&&aN!==null&&aN.constructor!==Array&&aN.constructor!==aK&&aN.constructor!==aH){if(aN instanceof Date){aI[aL]=new Date(aN.getTime())}else{aJ=aI[aL];if(typeof(aJ)===ad){aI[aL]=aJ||{}}else{aI[aL]={}}n(aI[aL],aN)}}else{if(aM!==aB){aI[aL]=aN}}}return aI}function ay(aH,aK,aI){for(var aJ in aK){if(aK.hasOwnProperty(aJ)&&aK[aJ].test(aH)){return aJ}}return aI!==aA?aI:aH}function E(aI,aJ){var aK={},aH;if(document.defaultView&&document.defaultView.getComputedStyle){aH=document.defaultView.getComputedStyle(aI,"");if(aJ){a.each(aJ,function(aL,aM){aK[aM]=aH.getPropertyValue(aM)})}}else{aH=aI.currentStyle;if(aJ){a.each(aJ,function(aL,aM){aK[aM]=aH[aM.replace(/\-(\w)/g,function(aO,aN){return aN.toUpperCase()})]})}}if(!R.size(aK)){aK=aH}return aK}(function(){av.scrollbar=function(){var aO=document.createElement("div"),aP;aO.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both";aO.innerHTML="&nbsp;";document.body.appendChild(aO);aP=aO.offsetWidth-aO.scrollWidth;document.body.removeChild(aO);return aP};av.isRtl=function(aO){return a(aO).closest(".k-rtl").length>0};var aL=document.createElement("table");try{aL.innerHTML="<tr><td></td></tr>";av.tbodyInnerHtml=true}catch(aI){av.tbodyInnerHtml=false}av.touch="ontouchstart" in window;av.msPointers=navigator.msPointerEnabled;av.pointers=navigator.pointerEnabled;var aN=av.transitions=false,aM=av.transforms=false,aJ="HTMLElement" in window?HTMLElement.prototype:[];av.hasHW3D=("WebKitCSSMatrix" in window&&"m11" in new window.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;p(["Moz","webkit","O","ms"],function(){var aQ=this.toString(),aO=typeof aL.style[aQ+"Transition"]===au;if(aO||typeof aL.style[aQ+"Transform"]===au){var aP=aQ.toLowerCase();aM={css:(aP!="ms")?"-"+aP+"-":"",prefix:aQ,event:(aP==="o"||aP==="webkit")?aP:""};if(aO){aN=aM;aN.event=aN.event?aN.event+"TransitionEnd":"transitionend"}return false}});av.transforms=aM;av.transitions=aN;av.devicePixelRatio=window.devicePixelRatio===aA?1:window.devicePixelRatio;try{av.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth;av.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(aI){av.screenWidth=window.screen.availWidth;av.screenHeight=window.screen.availHeight}av.detectOS=function(aX){var aV=false,aT,aS=[],aU=!/mobile safari/i.test(aX),aP={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},aW={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},aR={tablet:/playbook|ipad|fire/i},aQ={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var aO in aP){if(aP.hasOwnProperty(aO)){aS=aX.match(aP[aO]);if(aS){if(aO=="windows"&&"plugins" in navigator){return false}aV={};aV.device=aO;aV.tablet=ay(aO,aR,false);aV.browser=ay(aX,aQ,"default");aV.name=ay(aO,aW);aV[aV.name]=true;aV.majorVersion=aS[2];aV.minorVersion=aS[3].replace("_",".");aT=aV.minorVersion.replace(".","").substr(0,2);aV.flatVersion=aV.majorVersion+aT+(new Array(3-(aT.length<3?aT.length:2)).join("0"));aV.appMode=window.navigator.standalone||(/file|local|wmapp/).test(window.location.protocol)||typeof window.PhoneGap!==aB||typeof window.cordova!==aB;if(aV.android&&(av.devicePixelRatio<1.5&&aV.flatVersion<400||aU)&&(av.screenWidth>800||av.screenHeight>800)){aV.tablet=aO}break}}}return aV};var aK=av.mobileOS=av.detectOS(navigator.userAgent);av.wpDevicePixelRatio=aK.wp?screen.width/320:0;av.kineticScrollNeeded=aK&&(av.touch||av.msPointers||av.pointers);av.hasNativeScrolling=false;if((aK.ios&&aK.majorVersion>4)||(aK.android&&aK.majorVersion>2)||aK.wp){av.hasNativeScrolling=aK}av.mouseAndTouchPresent=av.touch&&!(av.mobileOS.ios||av.mobileOS.android);av.detectBrowser=function(aS){var aP=false,aR=[],aQ={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var aO in aQ){if(aQ.hasOwnProperty(aO)){aR=aS.match(aQ[aO]);if(aR){aP={};aP[aO]=true;aP[aR[1].toLowerCase()]=true;aP.version=parseInt(document.documentMode||aR[2],10);break}}}return aP};av.browser=av.detectBrowser(navigator.userAgent);av.zoomLevel=function(){try{return av.touch?(document.documentElement.clientWidth/window.innerWidth):av.browser.msie&&av.browser.version>=10?((top||window).outerWidth/(top||window).innerWidth):1}catch(aO){return 1}};av.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(av.browser.msie&&av.browser.version<8);(function(aO){var aP,aQ=parseInt(aO.version,10);if(aO.msie){aP="ie"}else{if(aO.mozilla){aP="ff"}else{if(aO.safari){aP="safari"}else{if(aO.webkit){aP="webkit"}else{if(aO.opera){aP="opera"}}}}}if(aP){a(document.documentElement).addClass("k-"+aP+" k-"+aP+aQ)}})(av.browser);av.eventCapture=document.documentElement.addEventListener;av.placeholder="placeholder" in document.createElement("input");av.stableSort=(function(){var aO=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return aO[0]===0&&aO[1]===1&&aO[2]===2&&aO[3]===3&&aO[4]===4&&aO[5]===5&&aO[6]===6&&aO[7]===7&&aO[8]===8&&aO[9]===9&&aO[10]===10&&aO[11]===11&&aO[12]===12})();av.matchesSelector=aJ.webkitMatchesSelector||aJ.mozMatchesSelector||aJ.msMatchesSelector||aJ.oMatchesSelector||aJ.matchesSelector||function(aQ){var aP=document.querySelectorAll?(this.parentNode||document).querySelectorAll(aQ)||[]:a(aQ),aO=aP.length;while(aO--){if(aP[aO]==this){return true}}return false};av.pushState=window.history&&window.history.pushState;var aH=document.documentMode;av.hashChange=("onhashchange" in window)&&!(av.browser.msie&&(!aH||aH<=8))})();function ar(aI){var aJ=0,aH;for(aH in aI){if(aI.hasOwnProperty(aH)&&aH!="toJSON"){aJ++}}return aJ}function G(aH,aN,aL){if(!aN){aN="offset"}var aM=aH[aN](),aI=av.mobileOS;if(av.touch&&aI.ios&&aI.flatVersion<410){var aJ=aN=="offset"?aM:aH.offset(),aK=(aM.left==aJ.left&&aM.top==aJ.top);if(aK){return{top:aM.top-window.scrollY,left:aM.left-window.scrollX}}}if((R.support.pointers||R.support.msPointers)&&!aL){aM.top-=(window.pageYOffset-document.documentElement.scrollTop);aM.left-=(window.pageXOffset-document.documentElement.scrollLeft)}return aM}var o={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function ah(aI){var aH={};p((typeof aI==="string"?aI.split(" "):aI),function(aJ){aH[aJ]=this});return aH}function D(aH){return new R.effects.Element(aH)}var q={};a.extend(q,{Element:function(aH){this.element=a(aH)},promise:function(aH,aI){if(!aH.is(":visible")){aH.css({display:aH.data("olddisplay")||"block"}).css("display")}if(aI.hide){aH.data("olddisplay",aH.css("display")).hide()}if(aI.init){aI.init()}if(aI.completeCallback){aI.completeCallback(aH)}aH.dequeue()},transitionPromise:function(aJ,aI,aK){var aH=R.wrap(aJ);aH.append(aI);aJ.hide();aI.show();if(aK.completeCallback){aK.completeCallback(aJ)}return aJ}});function al(aJ,aI,aK,aH){if(typeof aJ===au){if(N(aI)){aH=aI;aI=400;aK=false}if(N(aK)){aH=aK;aK=false}if(typeof aI===f){aK=aI;aI=400}aJ={effects:aJ,duration:aI,reverse:aK,complete:aH}}return z({effects:{},duration:400,reverse:false,init:Z,teardown:Z,hide:false},aJ,{completeCallback:aJ.complete,complete:Z})}function c(aJ,aN,aI,aO,aH){var aK=0,aM=aJ.length,aL;for(;aK<aM;aK++){aL=a(aJ[aK]);aL.queue(function(){q.promise(aL,al(aN,aI,aO,aH))})}return aJ}function d(aK,aI,aL,aJ,aM,aH){return q.transitionPromise(aK,aI,al(aL,aJ,aM,aH))}function az(aJ,aI,aK,aH){if(aI){aI=aI.split(" ");p(aI,function(aL,aM){aJ.toggleClass(aM,aH)})}return aJ}if(!("kendoAnimate" in a.fn)){z(a.fn,{kendoStop:function(aH,aI){return this.stop(aH,aI)},kendoAnimate:function(aJ,aI,aK,aH){return c(this,aJ,aI,aK,aH)},kendoAnimateTo:function(aI,aK,aJ,aL,aH){return d(this,aI,aK,aJ,aL,aH)},kendoAddClass:function(aH,aI){return R.toggleClass(this,aH,aI,true)},kendoRemoveClass:function(aH,aI){return R.toggleClass(this,aH,aI,false)},kendoToggleClass:function(aH,aI,aJ){return R.toggleClass(this,aH,aI,aJ)}})}var b=/&/g,U=/</g,J=/>/g;function K(aH){return(""+aH).replace(b,"&amp;").replace(U,"&lt;").replace(J,"&gt;")}var w=function(aH){return aH.target};if(av.touch){w=function(aH){var aI="originalEvent" in aH?aH.originalEvent.changedTouches:"changedTouches" in aH?aH.changedTouches:null;return aI?document.elementFromPoint(aI[0].clientX,aI[0].clientY):aH.target};p(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(aH,aI){a.fn[aI]=function(aJ){return this.bind(aI,aJ)}})}if(av.touch){if(!av.mobileOS){av.mousedown="mousedown touchstart";av.mouseup="mouseup touchend";av.mousemove="mousemove touchmove";av.mousecancel="mouseleave touchcancel";av.click="click";av.resize="resize"}else{av.mousedown="touchstart";av.mouseup="touchend";av.mousemove="touchmove";av.mousecancel="touchcancel";av.click="touchend";av.resize="orientationchange"}}else{if(av.pointers){av.mousemove="pointermove";av.mousedown="pointerdown";av.mouseup="pointerup";av.mousecancel="pointercancel";av.click="pointerup";av.resize="orientationchange resize"}else{if(av.msPointers){av.mousemove="MSPointerMove";av.mousedown="MSPointerDown";av.mouseup="MSPointerUp";av.mousecancel="MSPointerCancel";av.click="MSPointerUp";av.resize="orientationchange resize"}else{av.mousemove="mousemove";av.mousedown="mousedown";av.mouseup="mouseup";av.mousecancel="mouseleave";av.click="click";av.resize="resize"}}}var aF=function(aM,aN){var aO=aN||"d",aJ,aI,aK,aL,aH=1;for(aI=0,aK=aM.length;aI<aK;aI++){aL=aM[aI];if(aL!==""){aJ=aL.indexOf("[");if(aJ!==0){if(aJ==-1){aL="."+aL}else{aH++;aL="."+aL.substring(0,aJ)+" || {})"+aL.substring(aJ)}}aH++;aO+=aL+((aI<aK-1)?" || {})":")")}}return new Array(aH).join("(")+aO},T=/^([a-z]+:)?\/\//i;z(R,{ui:R.ui||{},fx:R.fx||D,effects:R.effects||q,mobile:R.mobile||{},data:R.data||{},dataviz:R.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:R.support||av,animate:R.animate||c,ns:"",attr:function(aH){return"data-"+R.ns+aH},wrap:aE,deepExtend:m,getComputedStyles:E,size:ar,getOffset:R.getOffset||G,parseEffects:R.parseEffects||ah,toggleClass:R.toggleClass||az,directions:R.directions||o,Observable:ae,Class:h,Template:aw,template:an(aw.compile,aw),render:an(aw.render,aw),stringify:an(O.stringify,O),eventTarget:w,htmlEncode:K,isLocalUrl:function(aH){return aH&&!T.test(aH)},expr:function(aH,aJ,aI){aH=aH||"";if(typeof aJ==au){aI=aJ;aJ=false}aI=aI||"d";if(aH&&aH.charAt(0)!=="["){aH="."+aH}if(aJ){aH=aF(aH.split("."),aI)}else{aH=aI+aH}return aH},getter:function(aH,aI){return H[aH]=H[aH]||new Function("d","return "+R.expr(aH,aI))},setter:function(aH){return ap[aH]=ap[aH]||new Function("d,value",R.expr(aH)+"=value")},accessor:function(aH){return{get:R.getter(aH),set:R.setter(aH)}},guid:function(){var aI="",aH,aJ;for(aH=0;aH<32;aH++){aJ=V.random()*16|0;if(aH==8||aH==12||aH==16||aH==20){aI+="-"}aI+=(aH==12?4:(aH==16?(aJ&3|8):aJ)).toString(16)}return aI},roleSelector:function(aH){return aH.replace(/(\S+)/g,"["+R.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(aH){return(/^(label|input|textarea|select)$/i).test(aH.target.tagName)},logToConsole:function(aI){var aH=window.console;if(typeof(aH)!="undefined"&&aH.log){aH.log(aI)}}});var aD=ae.extend({init:function(aH,aI){var aJ=this;aJ.element=R.jQuery(aH).handler(aJ);ae.fn.init.call(aJ);aI=aJ.options=z(true,{},aJ.options,aI);if(!aJ.element.attr(R.attr("role"))){aJ.element.attr(R.attr("role"),(aI.name||"").toLowerCase())}aJ.element.data("kendo"+aI.prefix+aI.name,aJ);aJ.bind(aJ.events,aI)},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].kendoBindingTarget},_tabindex:function(aK){aK=aK||this.wrapper;var aH=this.element,aJ="tabindex",aI=aK.attr(aJ)||aH.attr(aJ);aH.removeAttr(aJ);aK.attr(aJ,!isNaN(aI)?aI:0)},setOptions:function(aK){var aL=this,aI=0,aJ=aL.events.length,aH;for(;aI<aJ;aI++){aH=aL.events[aI];if(aL.options[aH]&&aK[aH]){aL.unbind(aH,aL.options[aH])}}a.extend(aL.options,aK);aL.bind(aL.events,aK)},destroy:function(){var aH=this;aH.element.removeData("kendo"+aH.options.prefix+aH.options.name);aH.element.removeData("handler");aH.unbind()}});R.notify=Z;var ax=/template$/i,Q=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,P=/^\{(\d+)(:[^\}]+)?\}/,l=/([A-Z])/g;function ai(aH,aI){var aJ;if(aI.indexOf("data")===0){aI=aI.substring(4);aI=aI.charAt(0).toLowerCase()+aI.substring(1)}aI=aI.replace(l,"-$1");aJ=aH.getAttribute("data-"+R.ns+aI);if(aJ===null){aJ=aA}else{if(aJ==="null"){aJ=null}else{if(aJ==="true"){aJ=true}else{if(aJ==="false"){aJ=false}else{if(ac.test(aJ)){aJ=parseFloat(aJ)}else{if(Q.test(aJ)&&!P.test(aJ)){aJ=x("("+aJ+")")}}}}}}return aJ}function aj(aH,aJ){var aK={},aI,aL;for(aI in aJ){aL=ai(aH,aI);if(aL!==aA){if(ax.test(aI)){aL=R.template(a("#"+aL).html())}aK[aI]=aL}}return aK}R.initWidget=function(aI,aM,aP){var aN,aL,aR,aJ,aK,aO,aQ,aH;if(!aP){aP=R.ui.roles}else{if(aP.roles){aP=aP.roles}}aI=aI.nodeType?aI:aI[0];aO=aI.getAttribute("data-"+R.ns+"role");if(!aO){return}if(aO.indexOf(".")===-1){aR=aP[aO]}else{aR=R.getter(aO)(window)}if(!aR){return}aH=ai(aI,"dataSource");aM=a.extend({},aj(aI,aR.fn.options),aM);if(aH){if(typeof aH===au){aM.dataSource=R.getter(aH)(window)}else{aM.dataSource=aH}}for(aJ=0,aK=aR.fn.events.length;aJ<aK;aJ++){aL=aR.fn.events[aJ];aQ=ai(aI,aL);if(aQ!==aA){aM[aL]=R.getter(aQ)(window)}}aN=a(aI).data("kendo"+aR.fn.options.prefix+aR.fn.options.name);if(!aN){aN=new aR(aI,aM)}else{aN.setOptions(aM)}return aN};R.rolesFromNamespaces=function(aJ){var aK=[],aH,aI;if(!aJ[0]){aJ=[R.ui,R.dataviz.ui]}for(aH=0,aI=aJ.length;aH<aI;aH++){aK[aH]=aJ[aH].roles}return z.apply(null,[{}].concat(aK.reverse()))};R.init=function(aH){var aI=R.rolesFromNamespaces(at.call(arguments,1));a(aH).find("[data-"+R.ns+"role]").andSelf().each(function(){R.initWidget(this,{},aI)})};R.destroy=function(aH){a(aH).find("[data-"+R.ns+"role]").andSelf().each(function(){var aI=a(this),aJ=R.widgetInstance(aI,R.ui)||R.widgetInstance(aI,R.mobile.ui)||R.widgetInstance(aI,R.dataviz.ui);if(aJ){aJ.destroy()}})};R.parseOptions=aj;z(R.ui,{Widget:aD,roles:{},progress:function(aI,aO){var aM=aI.find(".k-loading-mask"),aN=R.support,aH=aN.browser,aK,aL,aP,aJ;if(aO){if(!aM.length){aK=aN.isRtl(aI);aL=aK?"right":"left";aJ=aI.scrollLeft();aP=aH.webkit?(!aK?0:aI[0].scrollWidth-aI.width()-2*aJ):0;aM=a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",aI.scrollTop()).css(aL,Math.abs(aJ)+aP).prependTo(aI)}}else{if(aM){aM.remove()}}},plugin:function(aL,aK,aJ){var aI=aL.fn.options.name,aH;aK=aK||R.ui;aJ=aJ||"";aK[aI]=aL;aK.roles[aI.toLowerCase()]=aL;aH="getKendo"+aJ+aI;aI="kendo"+aJ+aI;a.fn[aI]=function(aN){var aO=this,aM;if(typeof aN===au){aM=at.call(arguments,1);this.each(function(){var aR=a.data(this,aI),aP,aQ;if(!aR){throw new Error(R.format("Cannot call method '{0}' of {1} before it is initialized",aN,aI))}aP=aR[aN];if(typeof aP!==C){throw new Error(R.format("Cannot find method '{0}' of {1}",aN,aI))}aQ=aP.apply(aR,aM);if(aQ!==aA){aO=aQ;return false}})}else{this.each(function(){new aL(this,aN)})}return aO};a.fn[aH]=function(){return this.data(aI)}}});var j={bind:function(){return this}};var W=aD.extend({init:function(aH,aI){aD.fn.init.call(this,aH,aI);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){aD.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var aH=this.element.closest(R.roleSelector("view splitview modalview drawer"));return R.widgetInstance(aH,R.mobile.ui)},container:function(){var aH=this.element.closest(R.roleSelector("view layout modalview drawer"));return R.widgetInstance(aH,R.mobile.ui)||j}});z(R.mobile,{init:function(aH){R.init(aH,R.mobile.ui,R.ui,R.dataviz.ui)},ui:{Widget:W,roles:{},plugin:function(aH){R.ui.plugin(aH,R.mobile.ui,"Mobile")}}});R.touchScroller=function(aH,aI){return a(aH).map(function(aK,aJ){aJ=a(aJ);if(av.kineticScrollNeeded&&R.mobile.ui.Scroller&&!aJ.data("kendoMobileScroller")){aJ.kendoMobileScroller(aI);return aJ.data("kendoMobileScroller")}else{return false}})[0]};R.preventDefault=function(aH){aH.preventDefault()};R.widgetInstance=function(aH,aI){var aJ=aI.roles[aH.data(R.ns+"role")];if(aJ){return aH.data("kendo"+aJ.fn.options.prefix+aJ.fn.options.name)}};R.onResize=function(aH){var aI=aH;if(av.mobileOS.android){aI=function(){setTimeout(aH,600)}}a(window).on(av.resize,aI);return aI};R.unbindResize=function(aH){a(window).off(av.resize,aH)};R.attrValue=function(aH,aI){return aH.data(R.ns+aI)};R.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function A(aH,aI){var aJ=aH.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(aJ)?!aH.disabled:"a"===aJ?aH.href||aI:aI)&&aC(aH)}function aC(aH){return !a(aH).parents().andSelf().filter(function(){return a.css(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.extend(a.expr[":"],{kendoFocusable:function(aH){var aI=a.attr(aH,"tabindex");return A(aH,!isNaN(aI)&&aI>-1)}});var X=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var y="label, input, [data-rel=external]";var Y={setupMouseMute:function(){var aJ=0,aK=X.length,aH=document.documentElement;if(Y.mouseTrap||!av.eventCapture){return}Y.mouseTrap=true;Y.bustClick=false;Y.captureMouse=false;var aI=function(aL){if(Y.captureMouse){if(aL.type==="click"){if(Y.bustClick&&!a(aL.target).is(y)){aL.preventDefault();aL.stopPropagation()}}else{aL.stopPropagation()}}};for(;aJ<aK;aJ++){aH.addEventListener(X[aJ],aI,true)}},muteMouse:function(aH){Y.captureMouse=true;if(aH.data.bustClick){Y.bustClick=true}clearTimeout(Y.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Y.mouseTrapTimeoutID);Y.mouseTrapTimeoutID=setTimeout(function(){Y.captureMouse=false;Y.bustClick=false},400)}};var u={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(av.touch&&(av.mobileOS.ios||av.mobileOS.android)){u={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else{if(av.pointers){u={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else{if(av.msPointers){u={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}}}if(av.msPointers&&!("onmspointerenter" in window)){a.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(aI,aH){a.event.special[aI]={delegateType:aH,bindType:aH,handle:function(aJ){var aM,aN=this,aL=aJ.relatedTarget,aK=aJ.handleObj;if(!aL||(aL!==aN&&!a.contains(aN,aL))){aJ.type=aK.origType;aM=aK.handler.apply(this,arguments);aJ.type=aH}return aM}}})}var F=function(aH){return(u[aH]||aH)},v=/([^ ]+)/g;R.applyEventMap=function(aH,aI){aH=aH.replace(v,F);if(aI){aH=aH.replace(v,"$1."+aI)}return aH};var af=a.fn.on;function S(aI,aH){return new S.fn.init(aI,aH)}z(true,S,a);S.fn=S.prototype=new a();S.fn.constructor=S;S.fn.init=function(aI,aH){if(aH&&aH instanceof a&&!(aH instanceof S)){aH=S(aH)}return a.fn.init.call(this,aI,aH,ao)};S.fn.init.prototype=S.fn;var ao=S(document);z(S.fn,{handler:function(aH){this.data("handler",aH);return this},autoApplyNS:function(aH){this.data("kendoNS",aH||R.guid());return this},on:function(){var aO=this,aM=aO.data("kendoNS");if(arguments.length===1){return af.call(aO,arguments[0])}var aK=aO,aH=at.call(arguments);if(typeof aH[aH.length-1]===aB){aH.pop()}var aJ=aH[aH.length-1],aL=R.applyEventMap(aH[0],aM);if(av.mouseAndTouchPresent&&aL.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Y.setupMouseMute();var aN=aH.length===2?null:aH[1],aI=aL.indexOf("click")>-1&&aL.indexOf("touchend")>-1;af.call(this,{touchstart:Y.muteMouse,touchend:Y.unMuteMouse},aN,{bustClick:aI})}if(typeof aJ===au){aK=aO.data("handler");aJ=aK[aJ];aH[aH.length-1]=function(aP){aJ.call(aK,aP)}}aH[0]=aL;af.apply(aO,aH);return aO},kendoDestroy:function(aH){aH=aH||this.data("kendoNS");if(aH){this.off("."+aH)}return this}});R.jQuery=S;R.eventMap=u;R.timezone=(function(){var aN={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var aK={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function aQ(a0,aX){var aT;var aY;var aW;var aU=aX[3];var aV=aX[4];var aZ=aX[5];var aS=aX[8];if(!aS){aX[8]=aS={}}if(aS[a0]){return aS[a0]}if(!isNaN(aV)){aT=new Date(Date.UTC(a0,aN[aU],aV,aZ[0],aZ[1],aZ[2],0))}else{if(aV.indexOf("last")===0){aT=new Date(Date.UTC(a0,aN[aU]+1,1,aZ[0]-24,aZ[1],aZ[2],0));aY=aK[aV.substr(4,3)];aW=aT.getUTCDay();aT.setUTCDate(aT.getUTCDate()+aY-aW-(aY>aW?7:0))}else{if(aV.indexOf(">=")>=0){aT=new Date(Date.UTC(a0,aN[aU],aV.substr(5),aZ[0],aZ[1],aZ[2],0));aY=aK[aV.substr(0,3)];aW=aT.getUTCDay();aT.setUTCDate(aT.getUTCDate()+aY-aW+(aY<aW?7:0))}}}return aS[a0]=aT}function aL(aV,aT,aX){aT=aT[aX];if(!aT){var aU=aX.split(":");var aS=0;if(aU.length>1){aS=aU[0]*60+Number(aU[1])}return[-1000000,"max","-","Jan",1,[0,0,0],aS,"-"]}var aW=new Date(aV).getUTCFullYear();aT=jQuery.grep(aT,function(aZ){var aY=aZ[0];var a0=aZ[1];return aY<=aW&&(a0>=aW||(aY==aW&&a0=="only")||a0=="max")});aT.push(aV);aT.sort(function(aY,aZ){if(typeof aY!="number"){aY=Number(aQ(aW,aY))}if(typeof aZ!="number"){aZ=Number(aQ(aW,aZ))}return aY-aZ});return aT[jQuery.inArray(aV,aT)-1]}function aM(aV,aY,aT){var aX=aY[aT];if(typeof aX==="string"){aX=aY[aX]}if(!aX){throw new Error('Timezone "'+aT+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var aS=aX.length-1;aS>=0;aS--){var aU=aX[aS][3];if(aU&&aV>aU){break}}var aW=aX[aS+1];if(!aW){throw new Error('Timezone "'+aT+'" not found on '+aV+".")}return aW}function aR(aU,aW,aS,aT){if(typeof aU!=ab){aU=Date.UTC(aU.getFullYear(),aU.getMonth(),aU.getDate(),aU.getHours(),aU.getMinutes(),aU.getSeconds(),aU.getMilliseconds())}var aV=aM(aU,aW,aT);return{zone:aV,rule:aL(aU,aS,aV[1])}}function aO(aV,aU){if(aU=="Etc/UTC"||aU=="Etc/GMT"){return 0}var aS=aR(aV,this.zones,this.rules,aU);var aW=aS.zone;var aT=aS.rule;return aT?aW[0]-aT[6]:aW[0]}function aH(aW,aV){var aT=aR(aW,this.zones,this.rules,aV);var aX=aT.zone;var aU=aT.rule;var aS=aX[2];if(aS.indexOf("/")>=0){return aS.split("/")[aU&&aU[6]?1:0]}else{if(aS.indexOf("%s")>=0){return aS.replace("%s",(!aU||aU[7]=="-")?"":aU[7])}}return aS}function aJ(aS,aU,aW){if(typeof aU==au){aU=this.offset(aS,aU)}if(typeof aW==au){aW=this.offset(aS,aW)}var aT=aS.getTimezoneOffset();aS=new Date(aS.getTime()+(aU-aW)*60000);var aV=aS.getTimezoneOffset();return new Date(aS.getTime()+(aV-aT)*60000)}function aI(aS,aT){return this.convert(aS,aS.getTimezoneOffset(),aT)}function aP(aS,aT){return this.convert(aS,aT,aS.getTimezoneOffset())}return{zones:{},rules:{},offset:aO,convert:aJ,apply:aI,remove:aP,abbr:aH}})();R.date=(function(){var aS=60000,aR=86400000;function aI(aY,aZ){if(aZ===0&&aY.getHours()===23){aY.setHours(aY.getHours()+2);return true}return false}function aT(aY,aZ,a0){var a1=aY.getHours();a0=a0||1;aZ=((aZ-aY.getDay())+(7*a0))%7;aY.setDate(aY.getDate()+aZ);aI(aY,a1)}function aJ(aY,aZ,a0){aY=new Date(aY);aT(aY,aZ,a0);return aY}function aK(aY){return new Date(aY.getFullYear(),aY.getMonth(),1)}function aQ(aY){var a0=new Date(aY.getFullYear(),aY.getMonth()+1,0),aZ=aK(aY),a1=Math.abs(a0.getTimezoneOffset()-aZ.getTimezoneOffset());if(a1){a0.setHours(aZ.getHours()+(a1/60))}return a0}function aL(aY){aY=new Date(aY.getFullYear(),aY.getMonth(),aY.getDate(),0,0,0);aI(aY,0);return aY}function aX(aY){return Date.UTC(aY.getFullYear(),aY.getMonth(),aY.getDate(),aY.getHours(),aY.getMinutes(),aY.getSeconds(),aY.getMilliseconds())}function aM(aY){return aY.getTime()-aL(aY)}function aO(a3,aZ,aY){var a1=aM(aZ),a0=aM(aY),a2;if(!a3||a1==a0){return true}if(aZ>=aY){aY+=aR}a2=aM(a3);if(a1>a2){a2+=aR}if(a0<a1){a0+=aR}return a2>=a1&&a2<=a0}function aN(a3,aZ,aY){var a1=aZ.getTime(),a0=aY.getTime(),a2;if(a1>=a0){a0+=aR}a2=a3.getTime();return a2>=a1&&a2<=a0}function aH(aY,a0){var aZ=aY.getHours();aY=new Date(aY);aU(aY,a0*aR);aI(aY,aZ);return aY}function aU(aY,a1,a0){var a2=aY.getTimezoneOffset();var aZ;aY.setTime(aY.getTime()+a1);if(!a0){aZ=aY.getTimezoneOffset()-a2;aY.setTime(aY.getTime()+aZ*aS)}}function aV(){return aL(new Date())}function aP(aY){return aL(aY).getTime()==aV().getTime()}function aW(aY){var aZ=new Date(1980,1,1,0,0,0);if(aY){aZ.setHours(aY.getHours(),aY.getMinutes(),aY.getSeconds(),aY.getMilliseconds())}return aZ}return{adjustDST:aI,dayOfWeek:aJ,setDayOfWeek:aT,getDate:aL,isInDateRange:aN,isInTimeRange:aO,isToday:aP,nextDay:function(aY){return aH(aY,1)},previousDay:function(aY){return aH(aY,-1)},toUtcTime:aX,MS_PER_DAY:aR,MS_PER_MINUTE:aS,setTime:aU,addDays:aH,today:aV,toInvariantTime:aW,firstDayOfMonth:aK,lastDayOfMonth:aQ,getMilliseconds:aM}})();R.stripWhitespace=function(aH){var aI=document.createNodeIterator(aH,NodeFilter.SHOW_TEXT,function(aJ){return aJ.parentNode==aH?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(aI.nextNode()){if(aI.referenceNode&&!aI.referenceNode.textContent.trim()){aI.referenceNode.parentNode.removeChild(aI.referenceNode)}}}})(jQuery,eval);if(typeof kendo_module==="undefined"){kendo_module=function(){}}kendo_module({id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."});kendo_module({id:"router",name:"History",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:false});(function(a,k){var h=window.kendo,j=h.support,i=window.location,f=window.history,b=50,e=/^#*/,d=window.document;function c(l,m){if(!m){return l}if(l+"/"===m){l=m}var n=new RegExp("^"+m,"i");if(!n.test(l)){l=m+"/"+l}return i.protocol+"//"+(i.host+"/"+l).replace(/\/\/+/g,"/")}var g=h.Observable.extend({start:function(l){var m=this;l=l||{};m.bind(["change"],l);if(m._started){return}m._started=true;m._pushStateRequested=!!l.pushState;m._pushState=j.pushState&&m._pushStateRequested;m.root=l.root||"/";m._interval=0;if(m._normalizeUrl()){return true}m.current=m._currentLocation();m.locations=[m.current];m._listenToLocationChange()},stop:function(){a(window).unbind(".kendo");this.unbind("change");clearInterval(this._interval);this._started=false},change:function(l){this.bind("change",l)},navigate:function(n,l){var m=this;if(n==="#:back"){f.back();return}n=n.replace(e,"");if(m.current===n||m.current===decodeURIComponent(n)){return}if(!l){if(m.trigger("change",{url:n})){return}}if(m._pushState){f.pushState({},d.title,m._makePushStateUrl(n));m.current=m._currentLocation()}else{i.hash=m.current=n}m.locations.push(m.current)},_normalizeUrl:function(){var q=this,o,l=q.root==i.pathname,m=q.root==i.pathname+"/",p=q._pushStateRequested&&!j.pushState&&!l,n=q._pushState&&l&&i.hash;if(m&&q._pushState){f.replaceState({},d.title,q.root)}if(p){i.replace(q.root+"#"+q._stripRoot(i.pathname));return true}else{if(n){o=q._makePushStateUrl(i.hash.replace(e,""));f.replaceState({},d.title,o);return false}}return false},_listenToLocationChange:function(){var m=this,l=a.proxy(m._checkUrl,m);if(this._pushState){a(window).bind("popstate.kendo",l)}else{if(j.hashChange){a(window).bind("hashchange.kendo",l)}else{m._interval=setInterval(l,b)}}},_checkUrl:function(){var o=this,m=o._currentLocation().replace(e,""),l=m===o.locations[o.locations.length-2],n=o.current;if(o.current===m||o.current===decodeURIComponent(m)){return}o.current=m;if(o.trigger("change",{url:m})){if(l){f.forward()}else{f.back()}o.current=n;return}if(l){o.locations.pop()}else{o.locations.push(m)}},_stripRoot:function(m){var l=this;if(m.indexOf(l.root)===0){return(m.substr(l.root.length)).replace(/\/\//g,"/")}else{return m}},_makePushStateUrl:function(l){return c(l,this.root)},_currentLocation:function(){var m=this,l;if(m._pushState){l=i.pathname;if(i.search){l+=i.search}return m._stripRoot(l)}else{return i.hash.replace(e,"")}}});h.absoluteURL=c;h.history=new g()})(window.kendo.jQuery);(function(){var e=window.kendo,c=e.history,h=e.Observable,d="init",k="routeMissing",a="change",i=/\((.*?)\)/g,f=/(\(\?)?:\w+/g,n=/\*\w+/g,b=/[\-{}\[\]+?.,\\\^$|#\s]/g;function g(o,p){return p?o:"([^/]+)"}function m(o){return new RegExp("^"+o.replace(b,"\\$&").replace(i,"(?:$1)?").replace(f,g).replace(n,"(.*?)")+"$")}var j=e.Class.extend({init:function(p,o){if(!(p instanceof RegExp)){p=m(p)}this.route=p;this._callback=o},callback:function(r){var q=this.route.exec(r).slice(1),o=0,p=q.length;for(;o<p;o++){if(typeof q[o]!=="undefined"){q[o]=decodeURIComponent(q[o])}}this._callback.apply(null,q)},worksWith:function(o){if(this.route.test(o)){this.callback(o);return true}else{return false}}});var l=h.extend({init:function(o){h.fn.init.call(this);this.routes=[];this.pushState=o?o.pushState:false;if(o&&o.root){this.root=o.root}this.bind([d,k,a],o)},destroy:function(){c.unbind("change",this._urlChangedProxy);this.unbind()},start:function(){var p=this,q=function(r){p._urlChanged(r)};c.start({change:q,pushState:p.pushState,root:p.root});var o={url:c.current||"/"};if(!p.trigger(d,o)){p._urlChanged(o)}this._urlChangedProxy=q},route:function(p,o){this.routes.push(new j(p,o))},navigate:function(p,o){e.history.navigate(p,o)},_urlChanged:function(o){var t=o.url;if(!t){t="/"}if(this.trigger(a,{url:o.url})){o.preventDefault();return}var p=0,s=this.routes,r,q=s.length;for(;p<q;p++){r=s[p];if(r.worksWith(t)){return}}if(this.trigger(k,{url:t})){o.preventDefault()}}});e.Router=l})();kendo_module({id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder"],hidden:false});(function(a,j){var d=window.kendo,f=d.Observable,g="SCRIPT",c="init",h="show",b="hide",i=/unrecognized expression/;var k=f.extend({init:function(l,m){var n=this;m=m||{};f.fn.init.call(n);n.content=l;n.tagName=m.tagName||"div";n.model=m.model;n._wrap=m.wrap!==false;n.bind([c,h,b],m)},render:function(l){var n=this,m=!n.element;if(m){n.element=n._createElement()}if(l){a(l).append(n.element)}if(m){d.bind(n.element,n.model);n.trigger(c)}if(l){n.trigger(h)}return n.element},hide:function(){this.element.detach();this.trigger(b)},destroy:function(){var l=this.element;if(l){d.unbind(l);d.destroy(l);l.remove()}},_createElement:function(){var o=this,n,l;try{l=a(document.getElementById(o.content)||o.content)}catch(m){if(i.test(m.message)){l=o.content}}n=a("<"+o.tagName+" />").append(l[0].tagName===g?l.html():l);if(!o._wrap){n=n.contents()}return n}});var e=k.extend({init:function(l,m){k.fn.init.call(this,l,m);this.regions={}},showIn:function(l,n){var m=this.regions[l];if(m){m.hide()}n.render(this.render().find(l),m);this.regions[l]=n}});d.Layout=e;d.View=k})(window.kendo.jQuery);kendo_module({id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]});(function(a,am){var F=window.kendo,z=F.effects,u=a.each,x=a.extend,R=a.proxy,Y=F.support,i=Y.browser,af=Y.transforms,ai=Y.transitions,V={scale:0,scalex:0,scaley:0,scale3d:0},ak={translate:0,translatex:0,translatey:0,translate3d:0},A=(typeof document.documentElement.style.zoom!=="undefined")&&!af,H=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,p=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,al=/translatex?$/i,K=/(zoom|fade|expand)(\w+)/,W=/(zoom|fade|expand)/,an=/[xy]$/i,ae=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],ac=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],ad={rotate:"deg",scale:"",skew:"px",translate:"px"},q=af.css,U=Math.round,h="",S="px",I="none",f="auto",ao="width",B="height",C="hidden",L="origin",b="abortId",M="overflow",aj="translate",m="completeCallback",ah=q+"transition",aa=q+"transform",g=q+"backface-visibility",Q=q+"perspective",s="1500px",ab="perspective("+s+")",E=Y.mobileOS&&Y.mobileOS.majorVersion==7,t={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};F.directions=t;x(a.fn,{kendoStop:function(ap,aq){if(ai){return z.stopQueue(this,ap||false,aq||false)}else{return this.stop(ap,aq)}}});if(af&&!ai){u(ac,function(ap,aq){a.fn[aq]=function(au){if(typeof au=="undefined"){return e(this,aq)}else{var ar=a(this)[0],at=aq+"("+au+ad[aq.replace(an,"")]+")";if(ar.style.cssText.indexOf(aa)==-1){a(this).css(aa,at)}else{ar.style.cssText=ar.style.cssText.replace(new RegExp(aq+"\\(.*?\\)","i"),at)}}return this};a.fx.step[aq]=function(ar){a(ar.elem)[aq](ar.now)}});var r=a.fx.prototype.cur;a.fx.prototype.cur=function(){if(ac.indexOf(this.prop)!=-1){return parseFloat(a(this.elem)[this.prop]())}return r.apply(this,arguments)}}F.toggleClass=function(ar,aq,at,ap){if(aq){aq=aq.split(" ");if(ai){at=x({exclusive:"all",duration:400,ease:"ease-out"},at);ar.css(ah,at.exclusive+" "+at.duration+"ms "+at.ease);setTimeout(function(){ar.css(ah,"").css(B)},at.duration)}u(aq,function(au,av){ar.toggleClass(av,ap)})}return ar};F.parseEffects=function(aq,ar){var ap={};if(typeof aq==="string"){u(aq.split(" "),function(aw,az){var ax=!W.test(az),ay=az.replace(K,function(aC,aA,aB){return aA+":"+aB.toLowerCase()}),au=ay.split(":"),at=au[1],av={};if(au.length>1){av.direction=(ar&&ax?t[at].reverse:at)}ap[au[0]]=av})}else{u(aq,function(au){var at=this.direction;if(at&&ar&&!W.test(au)){this.direction=t[at].reverse}ap[au]=this})}return ap};function O(ap){return parseInt(ap,10)}function N(ap,aq){return O(ap.css(aq))}function P(aq){var ap=aq.effects;if(ap==="zoom"){ap="zoom:in fade:in"}if(ap==="fade"){ap="fade:in"}if(ap==="slide"){ap="tile:left"}if(/^slide:(.+)$/.test(ap)){ap="tile:"+RegExp.$1}if(ap==="overlay"){ap="slideIn:left"}if(/^overlay:(.+)$/.test(ap)){ap="slideIn:"+RegExp.$1}aq.effects=F.parseEffects(ap);if(E&&ap=="tile:left"){aq.previousDivisor=3}return aq}function G(aq){var ap=[];for(var ar in aq){ap.push(ar)}return ap}function X(aq){for(var ap in aq){if(ae.indexOf(ap)!=-1&&ac.indexOf(ap)==-1){delete aq[ap]}}return aq}function J(aq,av){var aw=[],ap={},au,at,ax,ar;for(at in av){au=at.toLowerCase();ar=af&&ae.indexOf(au)!=-1;if(!Y.hasHW3D&&ar&&ac.indexOf(au)==-1){delete av[at]}else{ax=av[at];if(ar){aw.push(at+"("+ax+")")}else{ap[at]=ax}}}if(aw.length){ap[aa]=aw.join(" ")}return ap}if(ai){x(z,{transition:function(ar,av,au){var ap,aq=0,at=ar.data("keys")||[],ay;au=x({duration:200,ease:"ease-out",complete:null,exclusive:"all"},au);var ax=false;var aw=function(){if(!ax){ax=true;if(ay){clearTimeout(ay);ay=null}ar.removeData(b).dequeue().css(ah,"").css(ah);au.complete.call(ar)}};au.duration=a.fx?a.fx.speeds[au.duration]||au.duration:au.duration;ap=J(ar,av);a.merge(at,G(ap));ar.data("keys",a.unique(at)).height();ar.css(ah,au.exclusive+" "+au.duration+"ms "+au.ease).css(ah);ar.css(ap).css(aa);if(ai.event){ar.one(ai.event,aw);if(au.duration!==0){aq=500}}ay=setTimeout(aw,au.duration+aq);ar.data(b,ay);ar.data(m,aw)},stopQueue:function(at,ap,au){var ar,aw=at.data("keys"),av=(!au&&aw),aq=at.data(m);if(av){ar=F.getComputedStyles(at[0],aw)}if(aq){aq()}if(av){at.css(ar)}return at.removeData("keys").stop(ap)}})}function e(aq,at){if(af){var au=aq.css(aa);if(au==I){return at=="scale"?1:0}var ar=au.match(new RegExp(at+"\\s*\\(([\\d\\w\\.]+)")),ap=0;if(ar){ap=O(ar[1])}else{ar=au.match(H)||[0,0,0,0,0];at=at.toLowerCase();if(al.test(at)){ap=parseFloat(ar[3]/ar[2])}else{if(at=="translatey"){ap=parseFloat(ar[4]/ar[2])}else{if(at=="scale"){ap=parseFloat(ar[2])}else{if(at=="rotate"){ap=parseFloat(Math.atan2(ar[2],ar[1]))}}}}}return ap}else{return parseFloat(aq.css(at))}}var w=F.Class.extend({init:function(ap,aq){var ar=this;ar.element=ap;ar.effects=[];ar.options=aq;ar.restore=[]},run:function(av){var aE=this,at,ay,az,aA=av.length,aw=aE.element,aB=aE.options,ar=a.Deferred(),aC={},ax={},aD,ap,aq;aE.effects=av;ar.then(a.proxy(aE,"complete"));aw.data("animating",true);for(ay=0;ay<aA;ay++){at=av[ay];at.setReverse(aB.reverse);at.setOptions(aB);aE.addRestoreProperties(at.restore);at.prepare(aC,ax);ap=at.children();for(az=0,aq=ap.length;az<aq;az++){ap[az].duration(aB.duration).run()}}for(var au in aB.effects){x(ax,aB.effects[au].properties)}if(!aw.is(":visible")){x(aC,{display:aw.data("olddisplay")||"block"})}if(af&&!aB.reset){aD=aw.data("targetTransform");if(aD){aC=x(aD,aC)}}aC=J(aw,aC);if(af&&!ai){aC=X(aC)}aw.css(aC).css(aa);for(ay=0;ay<aA;ay++){av[ay].setup()}if(aB.init){aB.init()}aw.data("targetTransform",ax);z.animate(aw,ax,x({},aB,{complete:ar.resolve}));return ar.promise()},stop:function(){a(this.element).kendoStop(true,true)},addRestoreProperties:function(at){var ap=this.element,au,aq=0,ar=at.length;for(;aq<ar;aq++){au=at[aq];this.restore.push(au);if(!ap.data(au)){ap.data(au,ap.css(au))}}},restoreCallback:function(){var ap=this.element;for(var aq=0,ar=this.restore.length;aq<ar;aq++){var at=this.restore[aq];ap.css(at,ap.data(at))}},complete:function(){var av=this,ar=0,aq=av.element,au=av.options,ap=av.effects,at=ap.length;aq.removeData("animating").dequeue();if(au.hide){aq.data("olddisplay",aq.css("display")).hide()}this.restoreCallback();if(A&&!af){setTimeout(a.proxy(this,"restoreCallback"),0)}for(;ar<at;ar++){ap[ar].teardown()}if(au.completeCallback){au.completeCallback(aq)}}});z.promise=function(av,aw){var at=[],aq,au=new w(av,aw),ax=F.parseEffects(aw.effects),ap;aw.effects=ax;for(var ar in ax){aq=z[j(ar)];if(aq){ap=new aq(av,ax[ar].direction);at.push(ap)}}if(at[0]){au.run(at)}else{if(!av.is(":visible")){av.css({display:av.data("olddisplay")||"block"}).css("display")}if(aw.init){aw.init()}av.dequeue();au.complete()}};z.transitionPromise=function(aq,ap,ar){z.animateTo(aq,ap,ar);return aq};x(z,{animate:function(ap,ar,aq){var at=aq.transition!==false;delete aq.transition;if(ai&&"transition" in z&&at){z.transition(ap,ar,aq)}else{if(af){ap.animate(X(ar),{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})}else{ap.each(function(){var au=a(this),av={};u(ae,function(az,aF){var aC,aw=ar?ar[aF]+" ":null;if(aw){var aE=ar;if(aF in V&&ar[aF]!==am){aC=aw.match(p);if(af){x(aE,{scale:+aC[0]})}}else{if(aF in ak&&ar[aF]!==am){var aD=au.css("position"),aA=(aD=="absolute"||aD=="fixed");if(!au.data(aj)){if(aA){au.data(aj,{top:N(au,"top")||0,left:N(au,"left")||0,bottom:N(au,"bottom"),right:N(au,"right")})}else{au.data(aj,{top:N(au,"marginTop")||0,left:N(au,"marginLeft")||0})}}var aB=au.data(aj);aC=aw.match(p);if(aC){var ax=aF==aj+"y"?+null:+aC[1],ay=aF==aj+"y"?+aC[1]:+aC[2];if(aA){if(!isNaN(aB.right)){if(!isNaN(ax)){x(aE,{right:aB.right-ax})}}else{if(!isNaN(ax)){x(aE,{left:aB.left+ax})}}if(!isNaN(aB.bottom)){if(!isNaN(ay)){x(aE,{bottom:aB.bottom-ay})}}else{if(!isNaN(ay)){x(aE,{top:aB.top+ay})}}}else{if(!isNaN(ax)){x(aE,{marginLeft:aB.left+ax})}if(!isNaN(ay)){x(aE,{marginTop:aB.top+ay})}}}}}if(!af&&aF!="scale"&&aF in aE){delete aE[aF]}if(aE){x(av,aE)}}});if(i.msie){delete av.scale}au.animate(av,{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})})}}},animateTo:function(au,ar,av){var at,ap=au.parents().filter(ar.parents()).first(),aw;av=P(av);if(!Y.mobileOS.android){aw=ap.css(M);ap.css(M,"hidden")}a.each(av.effects,function(ay,ax){at=at||ax.direction});function aq(ax){ar[0].style.cssText="";au.each(function(){this.style.cssText=""});if(!Y.mobileOS.android){ap.css(M,aw)}if(av.completeCallback){av.completeCallback.call(au,ax)}}av.complete=i.msie?function(){setTimeout(aq,0)}:aq;av.previous=(av.reverse?ar:au);av.reset=true;(av.reverse?au:ar).each(function(){a(this).kendoAnimate(x(true,{},av));av.complete=null;av.previous=null})}});var v=F.Class.extend({init:function(aq,ap){var ar=this;ar.element=aq;ar._direction=ap;ar.options={};ar._additionalEffects=[];if(!ar.restore){ar.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(ap){this._additionalEffects.push(ap);return this},direction:function(ap){this._direction=ap;return this},duration:function(ap){this._duration=ap;return this},compositeRun:function(){var ar=this,aq=new w(ar.element,{reverse:ar._reverse,duration:ar._duration}),ap=ar._additionalEffects.concat([ar]);return aq.run(ap)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var aA=this,at=aA.element,av=0,ax=aA.restore,aw=ax.length,aB,ar=a.Deferred(),ay={},au={},az,ap=aA.children(),aq=ap.length;ar.then(a.proxy(aA,"_complete"));at.data("animating",true);for(av=0;av<aw;av++){aB=ax[av];if(!at.data(aB)){at.data(aB,at.css(aB))}}for(av=0;av<aq;av++){ap[av].duration(aA._duration).run()}aA.prepare(ay,au);if(!at.is(":visible")){x(ay,{display:at.data("olddisplay")||"block"})}if(af){az=at.data("targetTransform");if(az){ay=x(az,ay)}}ay=J(at,ay);if(af&&!ai){ay=X(ay)}at.css(ay).css(aa);aA.setup();at.data("targetTransform",au);z.animate(at,au,{duration:aA._duration,complete:ar.resolve});return ar.promise()},stop:function(){var ar=0,ap=this.children(),aq=ap.length;for(ar=0;ar<aq;ar++){ap[ar].stop()}a(this.element).kendoStop(true,true);return this},restoreCallback:function(){var ap=this.element;for(var aq=0,ar=this.restore.length;aq<ar;aq++){var at=this.restore[aq];ap.css(at,ap.data(at))}},_complete:function(){var aq=this,ap=aq.element;ap.removeData("animating").dequeue();aq.restoreCallback();if(aq.shouldHide()){ap.data("olddisplay",ap.css("display")).hide()}if(A&&!af){setTimeout(a.proxy(aq,"restoreCallback"),0)}aq.teardown()},setOptions:function(ap){x(true,this.options,ap)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(ap){this._reverse=ap;return this}});function j(ap){return ap.charAt(0).toUpperCase()+ap.substring(1)}function n(at,ap){var ar=v.extend(ap),aq=ar.prototype.directions;z[j(at)]=ar;z.Element.prototype[at]=function(au,av,aw,ax){return new ar(this.element,au,av,aw,ax)};u(aq,function(au,av){z.Element.prototype[at+j(av)]=function(aw,ax,ay){return new ar(this.element,av,aw,ax,ay)}})}var y=["left","right","up","down"],D=["in","out"];n("slideIn",{directions:y,divisor:function(ap){this.options.divisor=ap;return this},prepare:function(av,ar){var ax=this,ay,aq=ax.element,ap=t[ax._direction],au=-ap.modifier*(ap.vertical?aq.outerHeight():aq.outerWidth()),aw=au/(ax.options&&ax.options.divisor||1)+S,at="0px";if(ax._reverse){ay=av;av=ar;ar=ay}if(af){av[ap.transition]=aw;ar[ap.transition]=at}else{av[ap.property]=aw;ar[ap.property]=at}}});n("tile",{directions:y,init:function(aq,ap,ar){v.prototype.init.call(this,aq,ap);this.options={previous:ar}},previousDivisor:function(ap){this.options.previousDivisor=ap;return this},children:function(){var av=this,au=av._reverse,at=av.options.previous,ar=av.options.previousDivisor||1,aq=av._direction;var ap=[F.fx(av.element).slideIn(aq).setReverse(au)];if(at){ap.push(F.fx(at).slideIn(t[aq].reverse).divisor(ar).setReverse(!au))}return ap}});function o(ar,at,aq,ap){n(ar,{directions:D,startValue:function(au){this._startValue=au;return this},endValue:function(au){this._endValue=au;return this},shouldHide:function(){return this._shouldHide},prepare:function(ax,au){var aB=this,aA,av,aw=this._direction==="out",ay=aB.element.data(at),az=!(isNaN(ay)||ay==aq);if(az){aA=ay}else{if(typeof this._startValue!=="undefined"){aA=this._startValue}else{aA=aw?aq:ap}}if(typeof this._endValue!=="undefined"){av=this._endValue}else{av=aw?ap:aq}if(this._reverse){ax[at]=av;au[at]=aA}else{ax[at]=aA;au[at]=av}aB._shouldHide=au[at]===ap}})}o("fade","opacity",1,0);o("zoom","scale",1,0.01);n("slideMargin",{prepare:function(ax,aq){var ay=this,ap=ay.element,au=ay.options,av=ap.data(L),at=au.offset,ar,aw=ay._reverse;if(!aw&&av===null){ap.data(L,parseFloat(ap.css("margin-"+au.axis)))}ar=(ap.data(L)||0);aq["margin-"+au.axis]=!aw?ar+at:ar}});n("slideTo",{prepare:function(av,aq){var aw=this,ap=aw.element,at=aw.options,ar=at.offset.split(","),au=aw._reverse;if(af){aq.translatex=!au?ar[0]:0;aq.translatey=!au?ar[1]:0}else{aq.left=!au?ar[0]:0;aq.top=!au?ar[1]:0}ap.css("left")}});n("expand",{directions:["horizontal","vertical"],restore:[M],prepare:function(az,aq){var aA=this,ap=aA.element,au=aA.options,ax=aA._reverse,av=aA._direction==="vertical"?B:ao,ay=ap[0].style[av],at=ap.data(av),ar=parseFloat(at||ay),aw=U(ap.css(av,f)[av]());az.overflow=C;ar=(au&&au.reset)?aw||ar:ar||aw;aq[av]=(ax?0:ar)+S;az[av]=(ax?ar:0)+S;if(at===am){ap.data(av,ay)}},shouldHide:function(){return this._reverse},teardown:function(){var at=this,ap=at.element,ar=at._direction==="vertical"?B:ao,aq=ap.data(ar);if(aq==f||aq===h){setTimeout(function(){ap.css(ar,f).css(ar)},0)}}});var Z={position:"absolute",marginLeft:0,marginTop:0,scale:1};n("transfer",{init:function(ap,aq){this.element=ap;this.options={target:aq};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(ax,ar){var aA=this,aq=aA.element,au=aA.options,av=aA._reverse,ay=au.target,at,ap=e(aq,"scale"),az=ay.offset(),aw=ay.outerHeight()/aq.outerHeight();x(ax,Z);ar.scale=1;aq.css(aa,"scale(1)").css(aa);at=aq.offset();aq.css(aa,"scale("+ap+")");var aC=0,aH=0,aD=az.left-at.left,aI=az.top-at.top,aE=aC+aq.outerWidth(),aJ=aH,aF=aD+ay.outerWidth(),aK=aI,aL=(aI-aH)/(aD-aC),aM=(aK-aJ)/(aF-aE),aB=(aH-aJ-aL*aC+aM*aE)/(aM-aL),aG=aH+aL*(aB-aC);ax.top=at.top;ax.left=at.left;ax.transformOrigin=aB+S+" "+aG+S;if(av){ax.scale=aw}else{ar.scale=aw}}});var l={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var T={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function k(ap,aq){var at=F.directions[aq].vertical,ar=(ap[at?B:ao]()/2)+"px";return l[aq].replace("$size",ar)}n("turningPage",{directions:y,init:function(ar,aq,ap){v.prototype.init.call(this,ar,aq);this._container=ap},prepare:function(au,aq){var av=this,ar=av._reverse,ap=ar?t[av._direction].reverse:av._direction,at=T[ap];au.zIndex=1;if(av._clipInHalf){au.clip=k(av._container,F.directions[ap].reverse)}au[g]=C;aq[aa]=ab+(ar?at.start:at.end);au[aa]=ab+(ar?at.end:at.start)},setup:function(){this._container.append(this.element)},face:function(ap){this._face=ap;return this},shouldHide:function(){var ar=this,aq=ar._reverse,ap=ar._face;return(aq&&!ap)||(!aq&&ap)},clipInHalf:function(ap){this._clipInHalf=ap;return this},temporary:function(){this.element.addClass("temp-page");return this}});n("staticPage",{directions:y,init:function(ar,aq,ap){v.prototype.init.call(this,ar,aq);this._container=ap},restore:["clip"],prepare:function(ar,aq){var at=this,ap=at._reverse?t[at._direction].reverse:at._direction;ar.clip=k(at._container,ap);ar.opacity=0.999;aq.opacity=1},shouldHide:function(){var ar=this,aq=ar._reverse,ap=ar._face;return(aq&&!ap)||(!aq&&ap)},face:function(ap){this._face=ap;return this}});n("pageturn",{directions:["horizontal","vertical"],init:function(ar,aq,at,ap){v.prototype.init.call(this,ar,aq);this.options={};this.options.face=at;this.options.back=ap},children:function(){var ay=this,au=ay.options,aq=ay._direction==="horizontal"?"left":"top",aw=F.directions[aq].reverse,av=ay._reverse,ax,at=au.face.clone(true).removeAttr("id"),ap=au.back.clone(true).removeAttr("id"),ar=ay.element;if(av){ax=aq;aq=aw;aw=ax}return[F.fx(au.face).staticPage(aq,ar).face(true).setReverse(av),F.fx(au.back).staticPage(aw,ar).setReverse(av),F.fx(at).turningPage(aq,ar).face(true).clipInHalf(true).temporary().setReverse(av),F.fx(ap).turningPage(aw,ar).clipInHalf(true).temporary().setReverse(av)]},prepare:function(aq,ap){aq[Q]=s;aq.transformStyle="preserve-3d";aq.opacity=0.999;ap.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});n("flip",{directions:["horizontal","vertical"],init:function(ar,aq,at,ap){v.prototype.init.call(this,ar,aq);this.options={};this.options.face=at;this.options.back=ap},children:function(){var aw=this,ar=aw.options,ap=aw._direction==="horizontal"?"left":"top",au=F.directions[ap].reverse,at=aw._reverse,av,aq=aw.element;if(at){av=ap;ap=au;au=av}return[F.fx(ar.face).turningPage(ap,aq).face(true).setReverse(at),F.fx(ar.back).turningPage(au,aq).setReverse(at)]},prepare:function(ap){ap[Q]=s;ap.transformStyle="preserve-3d"}});var d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(ap){setTimeout(ap,1000/60)};var c=F.Class.extend({init:function(){var ap=this;ap._tickProxy=R(ap._tick,ap);ap._started=false},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){if(!this.done()){this._started=true;d(this._tickProxy)}},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var ap=this;if(!ap._started){return}ap.tick();if(!ap.done()){d(ap._tickProxy)}else{ap._started=false;ap.onEnd()}}});var ag=c.extend({init:function(ap){var aq=this;x(aq,ap);c.fn.init.call(aq)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(Date.now())-this.startDate)},moveTo:function(aq){var ar=this,ap=ar.movable;ar.initial=ap[ar.axis];ar.delta=aq.location-ar.initial;ar.duration=typeof aq.duration=="number"?aq.duration:300;ar.tick=ar._easeProxy(aq.ease);ar.startDate=Date.now();ar.start()},_easeProxy:function(ap){var aq=this;return function(){aq.movable.moveAxis(aq.axis,ap(aq.timePassed(),aq.initial,aq.delta,aq.duration))}}});x(ag,{easeOutExpo:function(at,ap,aq,ar){return(at==ar)?ap+aq:aq*(-Math.pow(2,-10*at/ar)+1)+ap},easeOutBack:function(au,ap,aq,ar,at){at=1.70158;return aq*((au=au/ar-1)*au*((at+1)*au+at)+1)+ap}});z.animationFrame=function(ap){d.call(window,ap)};z.Animation=c;z.Transition=ag;z.createEffect=n})(window.kendo.jQuery);kendo_module({id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:true});(function(a,h){var d=window.kendo,c=a.extend,f={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},e={pageSize:a.noop,page:a.noop,filter:function(j,i){if(i){j.$filter=g(i)}},sort:function(k,j){var i=a.map(j,function(m){var l=m.field.replace(/\./g,"/");if(m.dir==="desc"){l+=" desc"}return l}).join(",");if(i){k.$orderby=i}},skip:function(i,j){if(j){i.$skip=j}},take:function(i,j){if(j){i.$top=j}}},b={read:{dataType:"jsonp"}};function g(j){var r=[],p=j.logic||"and",m,o,i,s,l,q,t,n,k=j.filters;for(m=0,o=k.length;m<o;m++){j=k[m];i=j.field;t=j.value;q=j.operator;if(j.filters){j=g(j)}else{n=j.ignoreCase;i=i.replace(/\./g,"/");j=f[q];if(j&&t!==h){s=a.type(t);if(s==="string"){l="'{1}'";t=t.replace(/'/g,"''");if(n===true){i="tolower("+i+")"}}else{if(s==="date"){l="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}else{l="{1}"}}if(j.length>3){if(j!=="substringof"){l="{0}({2},"+l+")"}else{l="{0}("+l+",{2})";if(q==="doesnotcontain"){l+=" eq false"}}}else{l="{2} {0} "+l}j=d.format(l,j,t,i)}}r.push(j)}j=r.join(" "+p+" ");if(r.length>1){j="("+j+")"}return j}c(true,d.data,{schemas:{odata:{type:"json",data:function(i){return i.d.results||[i.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(k,m){var l,n,j,i;k=k||{};m=m||"read";i=(this.options||b)[m];i=i?i.dataType:"json";if(m==="read"){l={$inlinecount:"allpages"};if(i!="json"){l.$format="json"}for(j in k){if(e[j]){e[j](l,k[j])}else{l[j]=k[j]}}}else{if(i!=="json"){throw new Error("Only json dataType can be used for "+m+" operation.")}if(m!=="destroy"){for(j in k){n=k[j];if(typeof n==="number"){k[j]=n+""}}l=d.stringify(k)}}return l}}}})})(window.kendo.jQuery);kendo_module({id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:true});(function(a,j){var h=window.kendo,f=a.isArray,g=a.isPlainObject,i=a.map,c=a.each,d=a.extend,e=h.getter,b=h.Class;var k=b.extend({init:function(q){var t=this,u=q.total,p=q.model,r=q.parse,m=q.errors,s=q.serialize,l=q.data;if(p){if(g(p)){if(p.fields){c(p.fields,function(w,x){if(g(x)&&x.field){x=d(x,{field:t.getter(x.field)})}else{x={field:t.getter(x)}}p.fields[w]=x})}var n=p.id;if(n){var o={};o[t.xpathToMember(n,true)]={field:t.getter(n)};p.fields=d(o,p.fields);p.id=t.xpathToMember(n)}p=h.data.Model.define(p)}t.model=p}if(u){if(typeof u=="string"){u=t.getter(u);t.total=function(w){return parseInt(u(w),10)}}else{if(typeof u=="function"){t.total=u}}}if(m){if(typeof m=="string"){m=t.getter(m);t.errors=function(w){return m(w)||null}}else{if(typeof m=="function"){t.errors=m}}}if(l){if(typeof l=="string"){l=t.xpathToMember(l);t.data=function(y){var x=t.evaluate(y,l),w;x=f(x)?x:[x];if(t.model&&p.fields){w=new t.model();return i(x,function(B){if(B){var A={},z;for(z in p.fields){A[z]=w._parse(z,p.fields[z].field(B))}return A}})}return x}}else{if(typeof l=="function"){t.data=l}}}if(typeof r=="function"){var v=t.parse;t.parse=function(w){var x=r.call(t,w);return v.call(t,x)}}if(typeof s=="function"){t.serialize=s}},total:function(l){return this.data(l).length},errors:function(l){return l?l.errors:null},serialize:function(l){return l},parseDOM:function(o){var v={},u,r,t,s,q,l,n=o.attributes,m=n.length,p;for(p=0;p<m;p++){l=n[p];v["@"+l.nodeName]=l.nodeValue}for(r=o.firstChild;r;r=r.nextSibling){t=r.nodeType;if(t===3||t===4){v["#text"]=r.nodeValue}else{if(t===1){u=this.parseDOM(r);s=r.nodeName;q=v[s];if(f(q)){q.push(u)}else{if(q!==j){q=[q,u]}else{q=u}}v[s]=q}}}return v},evaluate:function(s,l){var q=l.split("."),p,r,o,n,m;while(p=q.shift()){s=s[p];if(f(s)){r=[];l=q.join(".");for(m=0,o=s.length;m<o;m++){n=this.evaluate(s[m],l);n=f(n)?n:[n];r.push.apply(r,n)}return r}}return s},parse:function(o){var l,n,m={};l=o.documentElement||a.parseXML(o).documentElement;n=this.parseDOM(l);m[l.nodeName]=n;return m},xpathToMember:function(l,m){if(!l){return""}l=l.replace(/^\//,"").replace(/\//g,".");if(l.indexOf("@")>=0){return l.replace(/\.?(@.*)/,m?"$1":'["$1"]')}if(l.indexOf("text()")>=0){return l.replace(/(\.?text\(\))/,m?"#text":'["#text"]')}return l},getter:function(l){return e(this.xpathToMember(l),true)}});a.extend(true,h.data,{XmlDataReader:k,readers:{xml:k}})})(window.kendo.jQuery);kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]});(function(a,aR){var B=a.extend,aw=a.proxy,V=a.isFunction,X=a.isPlainObject,U=a.isEmptyObject,T=a.isArray,J=a.grep,b=a.ajax,ab,w=a.each,ah=a.noop,Z=window.kendo,an=Z.Observable,i=Z.Class,aL="string",E="function",o="create",aA="read",aT="update",v="destroy",h="change",aN="sync",G="get",z="error",aE="requestStart",av="progress",aD="requestEnd",p=[o,aA,aT,v],M=function(aX){return aX},I=Z.getter,aM=Z.stringify,ac=Math,ax=[].push,Y=[].join,au=[].pop,aI=[].splice,aG=[].shift,aH=[].slice,aS=[].unshift,aP={}.toString,aK=Z.support.stableSort,t=/^\/Date\((.*?)\)\/$/,af=/(\r+|\n+)/g,az=/(?=['\\])/g;var ao=an.extend({init:function(aX,aZ){var aY=this;aY.type=aZ||ap;an.fn.init.call(aY);aY.length=aX.length;aY.wrapAll(aX,aY)},toJSON:function(){var aX,aZ=this.length,a0,aY=new Array(aZ);for(aX=0;aX<aZ;aX++){a0=this[aX];if(a0 instanceof ap){a0=a0.toJSON()}aY[aX]=a0}return aY},parent:ah,wrapAll:function(a0,a1){var a2=this,aX,aY,aZ=function(){return a2};a1=a1||[];for(aX=0,aY=a0.length;aX<aY;aX++){a1[aX]=a2.wrap(a0[aX],aZ)}return a1},wrap:function(aX,aZ){var a0=this,aY;if(aX!==null&&aP.call(aX)==="[object Object]"){aY=aX instanceof a0.type||aX instanceof ae;if(!aY){aX=aX instanceof ap?aX.toJSON():aX;aX=new a0.type(aX)}aX.parent=aZ;aX.bind(h,function(a1){a0.trigger(h,{field:a1.field,node:a1.node,index:a1.index,items:a1.items||[this],action:a1.node?(a1.action||"itemchange"):"itemchange"})})}return aX},push:function(){var aX=this.length,aY=this.wrapAll(arguments),aZ;aZ=ax.apply(this,aY);this.trigger(h,{action:"add",index:aX,items:aY});return aZ},slice:aH,join:Y,pop:function(){var aX=this.length,aY=au.apply(this);if(aX){this.trigger(h,{action:"remove",index:aX-1,items:[aY]})}return aY},splice:function(aZ,aX,a0){var a1=this.wrapAll(aH.call(arguments,2)),a3,aY,a2;a3=aI.apply(this,[aZ,aX].concat(a1));if(a3.length){this.trigger(h,{action:"remove",index:aZ,items:a3});for(aY=0,a2=a3.length;aY<a2;aY++){if(a3[aY].children){a3[aY].unbind(h)}}}if(a0){this.trigger(h,{action:"add",index:aZ,items:a1})}return a3},shift:function(){var aX=this.length,aY=aG.apply(this);if(aX){this.trigger(h,{action:"remove",index:0,items:[aY]})}return aY},unshift:function(){var aX=this.wrapAll(arguments),aY;aY=aS.apply(this,aX);this.trigger(h,{action:"add",index:0,items:aX});return aY},indexOf:function(aY){var a0=this,aX,aZ;for(aX=0,aZ=a0.length;aX<aZ;aX++){if(a0[aX]===aY){return aX}}return -1},forEach:function(aX){var aY=0,aZ=this.length;for(;aY<aZ;aY++){aX(this[aY],aY,this)}},map:function(aX){var aY=0,a0=[],aZ=this.length;for(;aY<aZ;aY++){a0[aY]=aX(this[aY],aY,this)}return a0},filter:function(aX){var aY=0,a1=[],aZ,a0=this.length;for(;aY<a0;aY++){aZ=this[aY];if(aX(aZ,aY,this)){a1[a1.length]=aZ}}return a1},find:function(aX){var aY=0,aZ,a0=this.length;for(;aY<a0;aY++){aZ=this[aY];if(aX(aZ,aY,this)){return aZ}}},every:function(aX){var aY=0,aZ,a0=this.length;for(;aY<a0;aY++){aZ=this[aY];if(!aX(aZ,aY,this)){return false}}return true},some:function(aX){var aY=0,aZ,a0=this.length;for(;aY<a0;aY++){aZ=this[aY];if(aX(aZ,aY,this)){return true}}return false},remove:function(aX){this.splice(this.indexOf(aX),1)}});function A(aX,a0,aY,aZ){return function(a1){var a2={},a3;for(a3 in a1){a2[a3]=a1[a3]}if(aZ){a2.field=aY+"."+a1.field}else{a2.field=aY}if(a0==h&&aX._notifyChange){aX._notifyChange(a2)}aX.trigger(a0,a2)}}var ap=an.extend({init:function(a1){var a0=this,aY,aX,aZ=function(){return a0};an.fn.init.call(this);for(aX in a1){aY=a1[aX];if(aX.charAt(0)!="_"){aY=a0.wrap(aY,aX,aZ)}a0[aX]=aY}a0.uid=Z.guid()},shouldSerialize:function(aX){return this.hasOwnProperty(aX)&&aX!=="_events"&&typeof this[aX]!==E&&aX!=="uid"},forEach:function(aX){for(var aY in this){if(this.shouldSerialize(aY)){aX(this[aY],aY)}}},toJSON:function(){var aY={},aZ,aX;for(aX in this){if(this.shouldSerialize(aX)){aZ=this[aX];if(aZ instanceof ap||aZ instanceof ao){aZ=aZ.toJSON()}aY[aX]=aZ}}return aY},get:function(aX){var aZ=this,aY;aZ.trigger(G,{field:aX});if(aX==="this"){aY=aZ}else{aY=Z.getter(aX,true)(aZ)}return aY},_set:function(aY,a3){var a2=this;var aX=aY.indexOf(".")>=0;if(aX){var a1=aY.split("."),a0="";while(a1.length>1){a0+=a1.shift();var aZ=Z.getter(a0,true)(a2);if(aZ instanceof ap){aZ.set(a1.join("."),a3);return aX}a0+="."}}Z.setter(aY)(a2,a3);return aX},set:function(aY,a0){var aZ=this,aX=Z.getter(aY,true)(aZ);if(aX!==a0){if(!aZ.trigger("set",{field:aY,value:a0})){if(!aZ._set(aY,aZ.wrap(a0,aY,function(){return aZ}))||aY.indexOf("(")>=0||aY.indexOf("[")>=0){aZ.trigger(h,{field:aY})}}}},parent:ah,wrap:function(a0,aX,a1){var a2=this,a3=aP.call(a0);if(a0!=null&&(a3==="[object Object]"||a3==="[object Array]")){var aZ=a0 instanceof ao;var aY=a0 instanceof s;if(a3==="[object Object]"&&!aY&&!aZ){if(!(a0 instanceof ap)){a0=new ap(a0)}if(a0.parent()!=a1()){a0.bind(G,A(a2,G,aX,true));a0.bind(h,A(a2,h,aX,true))}}else{if(a3==="[object Array]"||aZ||aY){if(!aZ&&!aY){a0=new ao(a0)}if(a0.parent()!=a1()){a0.bind(h,A(a2,h,aX,false))}}}a0.parent=a1}return a0}});function y(aY,a0){if(aY===a0){return true}var aZ=a.type(aY),a1=a.type(a0),aX;if(aZ!==a1){return false}if(aZ==="date"){return aY.getTime()===a0.getTime()}if(aZ!=="object"&&aZ!=="array"){return false}for(aX in aY){if(!y(aY[aX],a0[aX])){return false}}return true}var at={number:function(aX){return Z.parseFloat(aX)},date:function(aX){return Z.parseDate(aX)},"boolean":function(aX){if(typeof aX===aL){return aX.toLowerCase()==="true"}return aX!=null?!!aX:aX},string:function(aX){return aX!=null?(aX+""):aX},"default":function(aX){return aX}};var u={string:"",number:0,date:new Date(),"boolean":false,"default":""};function H(a0,aZ){var aX,aY;for(aY in a0){aX=a0[aY];if(X(aX)&&aX.field&&aX.field===aZ){return aX}else{if(aX===aZ){return aX}}}return null}var ae=ap.extend({init:function(aX){var aY=this;if(!aX||a.isEmptyObject(aX)){aX=a.extend({},aY.defaults,aX)}ap.fn.init.call(aY,aX);aY.dirty=false;if(aY.idField){aY.id=aY.get(aY.idField);if(aY.id===aR){aY.id=aY._defaultId}}},shouldSerialize:function(aX){return ap.fn.shouldSerialize.call(this,aX)&&aX!=="uid"&&!(this.idField!=="id"&&aX==="id")&&aX!=="dirty"&&aX!=="_accessors"},_parse:function(aX,a2){var a1=this,aY=aX,aZ=(a1.fields||{}),a0;aX=aZ[aX];if(!aX){aX=H(aZ,aY)}if(aX){a0=aX.parse;if(!a0&&aX.type){a0=at[aX.type.toLowerCase()]}}return a0?a0(a2):a2},_notifyChange:function(aY){var aX=aY.action;if(aX=="add"||aX=="remove"){this.dirty=true}},editable:function(aX){aX=(this.fields||{})[aX];return aX?aX.editable!==false:true},set:function(aX,a0,aY){var aZ=this;if(aZ.editable(aX)){a0=aZ._parse(aX,a0);if(!y(a0,aZ.get(aX))){aZ.dirty=true;ap.fn.set.call(aZ,aX,a0,aY)}}},accept:function(aX){var a0=this,aZ=function(){return a0},aY;for(aY in aX){var a1=aX[aY];if(aY.charAt(0)!="_"){a1=a0.wrap(aX[aY],aY,aZ)}a0._set(aY,a1)}if(a0.idField){a0.id=a0.get(a0.idField)}a0.dirty=false},isNew:function(){return this.id===this._defaultId}});ae.define=function(aX,a5){if(a5===aR){a5=aX;aX=ae}var a3,a7=B({defaults:{}},a5),a4,aY,a8,a9,a1,a2,aZ={},a6,a0=a7.id;if(a0){a7.idField=a0}if(a7.id){delete a7.id}if(a0){a7.defaults[a0]=a7._defaultId=""}if(aP.call(a7.fields)==="[object Array]"){for(a1=0,a2=a7.fields.length;a1<a2;a1++){aY=a7.fields[a1];if(typeof aY===aL){aZ[aY]={}}else{if(aY.field){aZ[aY.field]=aY}}}a7.fields=aZ}for(a4 in a7.fields){aY=a7.fields[a4];a8=aY.type||"default";a9=null;a6=a4;a4=typeof(aY.field)===aL?aY.field:a4;if(!aY.nullable){a9=a7.defaults[a6!==a4?a6:a4]=aY.defaultValue!==aR?aY.defaultValue:u[a8.toLowerCase()]}if(a5.id===a4){a7._defaultId=a9}a7.defaults[a6!==a4?a6:a4]=a9;aY.parse=aY.parse||at[a8]}a3=aX.extend(a7);a3.define=function(ba){return ae.define(a3,ba)};if(a7.fields){a3.fields=a7.fields;a3.idField=a7.idField}return a3};var j={selector:function(aX){return V(aX)?aX:I(aX)},compare:function(aX){var aY=this.selector(aX);return function(aZ,a0){aZ=aY(aZ);a0=aY(a0);if(aZ==null&&a0==null){return 0}if(aZ==null){return -1}if(a0==null){return 1}if(aZ.localeCompare){return aZ.localeCompare(a0)}return aZ>a0?1:(aZ<a0?-1:0)}},create:function(aY){var aX=aY.compare||this.compare(aY.field);if(aY.dir=="desc"){return function(aZ,a0){return aX(a0,aZ,true)}}return aX},combine:function(aX){return function(aY,aZ){var a2=aX[0](aY,aZ),a0,a1;for(a0=1,a1=aX.length;a0<a1;a0++){a2=a2||aX[a0](aY,aZ)}return a2}}};var aJ=B({},j,{asc:function(aX){var aY=this.selector(aX);return function(aZ,a0){var a1=aY(aZ);var a2=aY(a0);if(a1&&a1.getTime&&a2&&a2.getTime){a1=a1.getTime();a2=a2.getTime()}if(a1===a2){return aZ.__position-a0.__position}if(a1==null){return -1}if(a2==null){return 1}if(a1.localeCompare){return a1.localeCompare(a2)}return a1>a2?1:-1}},desc:function(aX){var aY=this.selector(aX);return function(aZ,a0){var a1=aY(aZ);var a2=aY(a0);if(a1&&a1.getTime&&a2&&a2.getTime){a1=a1.getTime();a2=a2.getTime()}if(a1===a2){return aZ.__position-a0.__position}if(a1==null){return 1}if(a2==null){return -1}if(a2.localeCompare){return a2.localeCompare(a1)}return a1<a2?1:-1}},create:function(aX){return this[aX.dir](aX.field)}});ab=function(aX,aY){var aZ,a0=aX.length,a1=new Array(a0);for(aZ=0;aZ<a0;aZ++){a1[aZ]=aY(aX[aZ],aZ,aX)}return a1};var ar=(function(){function aY(aZ){return aZ.replace(az,"\\").replace(af,"")}function aX(a3,aZ,a0,a2){var a1;if(a0!=null){if(typeof a0===aL){a0=aY(a0);a1=t.exec(a0);if(a1){a0=new Date(+a1[1])}else{if(a2){a0="'"+a0.toLowerCase()+"'";aZ="("+aZ+" || '').toLowerCase()"}else{a0="'"+a0+"'"}}}if(a0.getTime){aZ="("+aZ+"?"+aZ+".getTime():"+aZ+")";a0=a0.getTime()}}return aZ+" "+a3+" "+a0}return{eq:function(aZ,a0,a1){return aX("==",aZ,a0,a1)},neq:function(aZ,a0,a1){return aX("!=",aZ,a0,a1)},gt:function(aZ,a0,a1){return aX(">",aZ,a0,a1)},gte:function(aZ,a0,a1){return aX(">=",aZ,a0,a1)},lt:function(aZ,a0,a1){return aX("<",aZ,a0,a1)},lte:function(aZ,a0,a1){return aX("<=",aZ,a0,a1)},startswith:function(aZ,a0,a1){if(a1){aZ="("+aZ+" || '').toLowerCase()";if(a0){a0=a0.toLowerCase()}}if(a0){a0=aY(a0)}return aZ+".lastIndexOf('"+a0+"', 0) == 0"},endswith:function(aZ,a0,a1){if(a1){aZ="("+aZ+" || '').toLowerCase()";if(a0){a0=a0.toLowerCase()}}if(a0){a0=aY(a0)}return aZ+".indexOf('"+a0+"', "+aZ+".length - "+(a0||"").length+") >= 0"},contains:function(aZ,a0,a1){if(a1){aZ="("+aZ+" || '').toLowerCase()";if(a0){a0=a0.toLowerCase()}}if(a0){a0=aY(a0)}return aZ+".indexOf('"+a0+"') >= 0"},doesnotcontain:function(aZ,a0,a1){if(a1){aZ="("+aZ+" || '').toLowerCase()";if(a0){a0=a0.toLowerCase()}}if(a0){a0=aY(a0)}return aZ+".indexOf('"+a0+"') == -1"}}})();function ay(aX){this.data=aX||[]}ay.filterExpr=function(aY){var aZ=[],a6={and:" && ",or:" || "},a4,a5,a2,aX,a1=[],a8=[],a0,a7,a3=aY.filters;for(a4=0,a5=a3.length;a4<a5;a4++){a2=a3[a4];a0=a2.field;a7=a2.operator;if(a2.filters){aX=ay.filterExpr(a2);a2=aX.expression.replace(/__o\[(\d+)\]/g,function(ba,a9){a9=+a9;return"__o["+(a8.length+a9)+"]"}).replace(/__f\[(\d+)\]/g,function(ba,a9){a9=+a9;return"__f["+(a1.length+a9)+"]"});a8.push.apply(a8,aX.operators);a1.push.apply(a1,aX.fields)}else{if(typeof a0===E){aX="__f["+a1.length+"](d)";a1.push(a0)}else{aX=Z.expr(a0)}if(typeof a7===E){a2="__o["+a8.length+"]("+aX+", "+a2.value+")";a8.push(a7)}else{a2=ar[(a7||"eq").toLowerCase()](aX,a2.value,a2.ignoreCase!==aR?a2.ignoreCase:true)}}aZ.push(a2)}return{expression:"("+aZ.join(a6[aY.logic])+")",fields:a1,operators:a8}};function am(a0,aZ){if(a0){var aX=typeof a0===aL?{field:a0,dir:aZ}:a0,aY=T(aX)?aX:(aX!==aR?[aX]:[]);return J(aY,function(a1){return !!a1.dir})}}var aq={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function al(aX){var a0,a1,aY,a2,aZ=aX.filters;if(aZ){for(a0=0,a1=aZ.length;a0<a1;a0++){aY=aZ[a0];a2=aY.operator;if(a2&&typeof a2===aL){aY.operator=aq[a2.toLowerCase()]||a2}al(aY)}}}function aj(aX){if(aX&&!U(aX)){if(T(aX)||!aX.filters){aX={logic:"and",filters:T(aX)?aX:[aX]}}al(aX);return aX}}ay.normalizeFilter=aj;function ai(aX){return T(aX)?aX:[aX]}function ak(a0,aZ){var aX=typeof a0===aL?{field:a0,dir:aZ}:a0,aY=T(aX)?aX:(aX!==aR?[aX]:[]);return ab(aY,function(a1){return{field:a1.field,dir:a1.dir||"asc",aggregates:a1.aggregates}})}ay.prototype={toArray:function(){return this.data},range:function(aY,aX){return new ay(this.data.slice(aY,aY+aX))},skip:function(aX){return new ay(this.data.slice(aX))},take:function(aX){return new ay(this.data.slice(0,aX))},select:function(aX){return new ay(ab(this.data,aX))},order:function(aY,aX){var aZ={dir:aX};if(aY){if(aY.compare){aZ.compare=aY.compare}else{aZ.field=aY}}return new ay(this.data.slice(0).sort(j.create(aZ)))},orderBy:function(aX){return this.order(aX,"asc")},orderByDescending:function(aX){return this.order(aX,"desc")},sort:function(a1,a0,aX){var a2,a3,aZ=am(a1,a0),aY=[];aX=aX||j;if(aZ.length){for(a2=0,a3=aZ.length;a2<a3;a2++){aY.push(aX.create(aZ[a2]))}return this.orderBy({compare:aX.combine(aY)})}return this},filter:function(a0){var a3,aY,a4,aX,a6,aZ=this.data,a1,a5,a7=[],a2;a0=aj(a0);if(!a0||a0.filters.length===0){return this}aX=ay.filterExpr(a0);a1=aX.fields;a5=aX.operators;a6=a2=new Function("d, __f, __o","return "+aX.expression);if(a1.length||a5.length){a2=function(a8){return a6(a8,a1,a5)}}for(a3=0,a4=aZ.length;a3<a4;a3++){aY=aZ[a3];if(a2(aY)){a7.push(aY)}}return new ay(a7)},group:function(aZ,aX){aZ=ak(aZ||[]);aX=aX||this.data;var a1=this,a0=new ay(a1.data),aY;if(aZ.length>0){aY=aZ[0];a0=a0.groupBy(aY).select(function(a3){var a2=new ay(aX).filter([{field:a3.field,operator:"eq",value:a3.value,ignoreCase:false}]);return{field:a3.field,value:a3.value,items:aZ.length>1?new ay(a3.items).group(aZ.slice(1),a2.toArray()).toArray():a3.items,hasSubgroups:aZ.length>1,aggregates:a2.aggregate(aY.aggregates)}})}return a0},groupBy:function(aZ){if(U(aZ)||!this.data.length){return new ay([])}var a0=aZ.field,a7=this._sortForGrouping(a0,aZ.dir||"asc"),aX=Z.accessor(a0),a4,a2=aX.get(a7[0],a0),a1={field:a0,value:a2,items:[]},aY,a3,a5,a6=[a1];for(a3=0,a5=a7.length;a3<a5;a3++){a4=a7[a3];aY=aX.get(a4,a0);if(!K(a2,aY)){a2=aY;a1={field:a0,value:a2,items:[]};a6.push(a1)}a1.items.push(a4)}return new ay(a6)},_sortForGrouping:function(aZ,aY){var a0,a1,aX=this.data;if(!aK){for(a0=0,a1=aX.length;a0<a1;a0++){aX[a0].__position=a0}aX=new ay(aX).sort(aZ,aY,aJ).toArray();for(a0=0,a1=aX.length;a0<a1;a0++){delete aX[a0].__position}return aX}return this.sort(aZ,aY).toArray()},aggregate:function(aX){var aY,aZ,a0={};if(aX&&aX.length){for(aY=0,aZ=this.data.length;aY<aZ;aY++){f(a0,aX,this.data[aY],aY,aZ)}}return a0}};function K(aX,aY){if(aX&&aX.getTime&&aY&&aY.getTime){return aX.getTime()===aY.getTime()}return aX===aY}function f(aX,aZ,a4,a3,a6){aZ=aZ||[];var a2,aY,a1,a5=aZ.length;for(a2=0;a2<a5;a2++){aY=aZ[a2];a1=aY.aggregate;var a0=aY.field;aX[a0]=aX[a0]||{};aX[a0][a1]=F[a1.toLowerCase()](aX[a0][a1],a4,Z.accessor(a0),a3,a6)}}var F={sum:function(aY,aZ,aX){return(aY||0)+aX.get(aZ)},count:function(aX){return(aX||0)+1},average:function(aY,a0,aX,aZ,a1){aY=(aY||0)+aX.get(a0);if(aZ==a1-1){aY=aY/a1}return aY},max:function(aY,aZ,aX){var a0=aX.get(aZ);aY=aY||0;if(aY<a0){aY=a0}return aY},min:function(aY,aZ,aX){var a0=aX.get(aZ);if(!W(aY)){aY=a0}if(aY>a0&&W(a0)){aY=a0}return aY}};function W(aX){return typeof aX==="number"&&!isNaN(aX)}function aO(aX){var aY,aZ=aX.length,a0=new Array(aZ);for(aY=0;aY<aZ;aY++){a0[aY]=aX[aY].toJSON()}return a0}ay.process=function(aX,a0){a0=a0||{};var a1=new ay(aX),aZ=a0.group,a3=ak(aZ||[]).concat(am(a0.sort||[])),a5,aY=a0.filter,a2=a0.skip,a4=a0.take;if(aY){a1=a1.filter(aY);a5=a1.toArray().length}if(a3){a1=a1.sort(a3);if(aZ){aX=a1.toArray()}}if(a2!==aR&&a4!==aR){a1=a1.range(a2,a4)}if(aZ){a1=a1.group(aZ,aX)}return{total:a5,data:a1.toArray()}};function g(aY,a0){a0=a0||{};var a1=new ay(aY),aX=a0.aggregate,aZ=a0.filter;if(aZ){a1=a1.filter(aZ)}return a1.aggregate(aX)}var aa=i.extend({init:function(aX){this.data=aX.data},read:function(aX){aX.success(this.data)},update:function(aX){aX.success(aX.data)},create:function(aX){aX.success(aX.data)},destroy:function(aX){aX.success(aX.data)}});var aB=i.extend({init:function(aX){var aZ=this,aY;aX=aZ.options=B({},aZ.options,aX);w(p,function(a0,a1){if(typeof aX[a1]===aL){aX[a1]={url:aX[a1]}}});aZ.cache=aX.cache?e.create(aX.cache):{find:ah,add:ah};aY=aX.parameterMap;aZ.parameterMap=V(aY)?aY:function(a0){var a1={};w(a0,function(a2,a3){if(a2 in aY){a2=aY[a2];if(X(a2)){a3=a2.value(a3);a2=a2.key}}a1[a2]=a3});return a1}},options:{parameterMap:M},create:function(aX){return b(this.setup(aX,o))},read:function(aZ){var a2=this,a1,aY,a0,aX=a2.cache;aZ=a2.setup(aZ,aA);a1=aZ.success||ah;aY=aZ.error||ah;a0=aX.find(aZ.data);if(a0!==aR){a1(a0)}else{aZ.success=function(a3){aX.add(aZ.data,a3);a1(a3)};a.ajax(aZ)}},update:function(aX){return b(this.setup(aX,aT))},destroy:function(aX){return b(this.setup(aX,v))},setup:function(aZ,a2){aZ=aZ||{};var a1=this,a0,aY=a1.options[a2],aX=V(aY.data)?aY.data(aZ.data):aY.data;aZ=B(true,{},aY,aZ);a0=B(true,{},aX,aZ.data);aZ.data=a1.parameterMap(a0,a2);if(V(aZ.url)){aZ.url=aZ.url(a0)}return aZ}});var e=i.extend({init:function(){this._store={}},add:function(aY,aX){if(aY!==aR){this._store[aM(aY)]=aX}},find:function(aX){return this._store[aM(aX)]},clear:function(){this._store={}},remove:function(aX){delete this._store[aM(aX)]}});e.create=function(aX){var aY={inmemory:function(){return new e()}};if(X(aX)&&V(aX.find)){return aX}if(aX===true){return new e()}return aY[aX]()};function aF(aX,a0,a3,a4,aY){var a6,aZ,a5,a1,a2;for(a1=0,a2=aX.length;a1<a2;a1++){a6=aX[a1];for(aZ in a0){a5=aY[aZ];if(a5&&a5!==aZ){a6[a5]=a0[aZ](a6);delete a6[aZ]}}}}function n(aX,a0,a3,a4,aY){var a6,aZ,a5,a1,a2;for(a1=0,a2=aX.length;a1<a2;a1++){a6=aX[a1];for(aZ in a0){a6[aZ]=a3._parse(aZ,a0[aZ](a6));a5=aY[aZ];if(a5&&a5!==aZ){delete a6[a5]}}}}function m(aX,a0,a3,a4,aZ){var a5,a1,aY,a2;for(a1=0,a2=aX.length;a1<a2;a1++){a5=aX[a1];aY=a4[a5.field];if(aY&&aY!=a5.field){a5.field=aY}a5.value=a3._parse(a5.field,a5.value);if(a5.hasSubgroups){m(a5.items,a0,a3,a4,aZ)}else{n(a5.items,a0,a3,a4,aZ)}}}function aU(a2,a0,aX,aZ,a1,aY){return function(a3){a3=a2(a3);if(a3&&!U(aZ)){if(aP.call(a3)!=="[object Array]"&&!(a3 instanceof ao)){a3=[a3]}aX(a3,aZ,new a0(),a1,aY)}return a3||[]}}var r=i.extend({init:function(a7){var bb=this,a4,a1,a5,aX;a7=a7||{};for(a4 in a7){a1=a7[a4];bb[a4]=typeof a1===aL?I(a1):a1}aX=a7.modelBase||ae;if(X(bb.model)){bb.model=a5=aX.define(bb.model)}if(bb.model){var aY=aw(bb.data,bb),a3=aw(bb.groups,bb),a8=aw(bb.serialize,bb),a6={},a2={},a9={},a0={},ba=false,aZ;a5=bb.model;if(a5.fields){w(a5.fields,function(bc,be){var bd;aZ=bc;if(X(be)&&be.field){aZ=be.field}else{if(typeof be===aL){aZ=be}}if(X(be)&&be.from){bd=be.from}ba=ba||(bd&&bd!==bc)||aZ!==bc;a2[bc]=I(bd||aZ);a9[bc]=I(bc);a6[bd||aZ]=bc;a0[bc]=bd||aZ});if(!a7.serialize&&ba){bb.serialize=aU(a8,a5,aF,a9,a6,a0)}}bb.data=aU(aY,a5,n,a2,a6,a0);bb.groups=aU(a3,a5,m,a2,a6,a0)}},errors:function(aX){return aX?aX.errors:null},parse:M,data:M,total:function(aX){return aX.length},groups:M,aggregates:function(){return{}},serialize:function(aX){return aX}});function ad(a3,aY,a2,aX){var aZ,a0=0,a1;while(aY.length&&aX){aZ=aY[a0];a1=aZ.items;if(a3&&a3.field===aZ.field&&a3.value===aZ.value){if(a3.hasSubgroups&&a3.items.length){ad(a3.items[a3.items.length-1],aZ.items,a2,aX)}else{a1=a1.slice(a2,aX);aX-=a1.length;a3.items=a3.items.concat(a1)}aY.splice(a0--,1)}else{a1=a1.slice(a2,aX);aX-=a1.length;aZ.items=a1;if(!aZ.items.length){aY.splice(a0--,1);aX-=a2}}a2=0;if(++a0>=aY.length){break}}if(a0<aY.length){aY.splice(a0,aY.length-a0)}}function D(aX){var aY,aZ,a0=[];for(aY=0,aZ=aX.length;aY<aZ;aY++){if(aX[aY].hasSubgroups){a0=a0.concat(D(aX[aY].items))}else{a0=a0.concat(aX[aY].items.slice())}}return a0}function aV(aX,a2){var aZ,a1,aY,a0;if(a2){for(aZ=0,a1=aX.length;aZ<a1;aZ++){aY=aX[aZ];a0=aY.items;if(aY.hasSubgroups){aV(a0,a2)}else{if(a0.length&&!(a0[0] instanceof a2)){a0.type=a2;a0.wrapAll(a0,a0)}}}}}function x(aX,aY){var aZ,a0;for(aZ=0,a0=aX.length;aZ<a0;aZ++){if(aX[aZ].hasSubgroups){if(x(aX[aZ].items,aY)){return true}}else{if(aY(aX[aZ].items,aX[aZ])){return true}}}}function aC(aX,a0){var aY,aZ;for(aY=0,aZ=aX.length;aY<aZ;aY++){if(aX[aY].uid==a0.uid){a0=aX[aY];aX.splice(aY,1);return a0}}}function aW(aY,a1){var a2,aX,aZ,a0;for(aZ=aY.length-1,a0=0;aZ>=a0;aZ--){aX=aY[aZ];a2={value:a1.get(aX.field),field:aX.field,items:a2?[a2]:[a1],hasSubgroups:!!a2,aggregates:{}}}return a2}function P(aX,aY){if(aY){return N(aX,function(aZ){return aZ[aY.idField]===aY.id})}return -1}function O(aX,aY){if(aY){return N(aX,function(aZ){return aZ.uid==aY.uid})}return -1}function N(aY,aX){var aZ,a0;for(aZ=0,a0=aY.length;aZ<a0;aZ++){if(aX(aY[aZ])){return aZ}}return -1}function C(aZ,a0){if(aZ&&!U(aZ)){var aX=aZ[a0];var aY;if(X(aX)){aY=aX.from||aX.field||a0}else{aY=aZ[a0]||a0}if(V(aY)){return a0}return aY}return a0}function l(aX,a1){var aZ,a0,a2={};for(var aY in aX){if(aY!=="filters"){a2[aY]=aX[aY]}}if(aX.filters){a2.filters=[];for(aZ=0,a0=aX.filters.length;aZ<a0;aZ++){a2.filters[aZ]=l(aX.filters[aZ],a1)}}else{a2.field=C(a1.fields,a2.field)}return a2}function k(aY,a2){var a0,a1,a3=[],a4,aX;for(a0=0,a1=aY.length;a0<a1;a0++){a4={};aX=aY[a0];for(var aZ in aX){a4[aZ]=aX[aZ]}a4.field=C(a2.fields,a4.field);if(a4.aggregates&&T(a4.aggregates)){a4.aggregates=k(a4.aggregates,a2)}a3.push(a4)}return a3}var s=an.extend({init:function(aZ){var a0=this,aY,aX;if(aZ){aX=aZ.data}aZ=a0.options=B({},a0.options,aZ);a0._map={};a0._prefetch={};a0._data=[];a0._pristineData=[];a0._ranges=[];a0._view=[];a0._pristine=[];a0._destroyed=[];a0._pageSize=aZ.pageSize;a0._page=aZ.page||(aZ.pageSize?1:aR);a0._sort=am(aZ.sort);a0._filter=aj(aZ.filter);a0._group=ak(aZ.group);a0._aggregate=aZ.aggregate;a0._total=aZ.total;an.fn.init.call(a0);a0.transport=aQ.create(aZ,aX);a0.reader=new Z.data.readers[aZ.schema.type||"json"](aZ.schema);aY=a0.reader.model||{};a0._data=a0._observe(a0._data);a0.bind([z,h,aE,aN,aD,av],aZ)},options:{data:[],schema:{modelBase:ae},serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},_isServerGrouped:function(){var aX=this.group()||[];return this.options.serverGrouping&&aX.length},_flatData:function(aX){if(this._isServerGrouped()){return D(aX)}return aX},parent:ah,get:function(aY){var aZ,a0,aX=this._flatData(this._data);for(aZ=0,a0=aX.length;aZ<a0;aZ++){if(aX[aZ].id==aY){return aX[aZ]}}},getByUid:function(aY){var aZ,a0,aX=this._flatData(this._data);if(!aX){return}for(aZ=0,a0=aX.length;aZ<a0;aZ++){if(aX[aZ].uid==aY){return aX[aZ]}}},indexOf:function(aX){return O(this._data,aX)},at:function(aX){return this._data[aX]},data:function(aY){var aX=this;if(aY!==aR){aX._data=this._observe(aY);aX._ranges=[];aX._addRange(aX._data);aX._total=aX._data.length;aX._process(aX._data)}else{return aX._data}},view:function(){return this._view},add:function(aX){return this.insert(this._data.length,aX)},_createNewModel:function(aX){if(this.reader.model){return new this.reader.model(aX)}return new ap(aX)},insert:function(aX,aY){if(!aY){aY=aX;aX=0}if(!(aY instanceof ae)){aY=this._createNewModel(aY)}if(this._isServerGrouped()){this._data.splice(aX,0,aW(this.group(),aY))}else{this._data.splice(aX,0,aY)}return aY},remove:function(aY){var aZ,a0=this,aX=a0._isServerGrouped();this._eachItem(a0._data,function(a1){aZ=aC(a1,aY);if(aZ&&aX){if(!aZ.isNew||!aZ.isNew()){a0._destroyed.push(aZ)}return true}});return aY},sync:function(){var a3=this,a0,a1,aX=[],a4=[],aZ=a3._destroyed,aY=a3._flatData(a3._data);if(!a3.reader.model){return}for(a0=0,a1=aY.length;a0<a1;a0++){if(aY[a0].isNew()){aX.push(aY[a0])}else{if(aY[a0].dirty){a4.push(aY[a0])}}}var a2=a3._send("create",aX);a2.push.apply(a2,a3._send("update",a4));a2.push.apply(a2,a3._send("destroy",aZ));a.when.apply(null,a2).then(function(){var a5,a6;for(a5=0,a6=arguments.length;a5<a6;a5++){a3._accept(arguments[a5])}a3._change({action:"sync"});a3.trigger(aN)})},cancelChanges:function(aX){var aY=this;if(aX instanceof Z.data.Model){aY._cancelModel(aX)}else{aY._destroyed=[];aY._data=aY._observe(aY._pristineData);if(aY.options.serverPaging){aY._total=aY.reader.total(aY._pristine)}aY._change()}},hasChanges:function(){var aY,aZ,aX=this._data;if(this._destroyed.length){return true}for(aY=0,aZ=aX.length;aY<aZ;aY++){if(aX[aY].isNew()||aX[aY].dirty){return true}}return false},_accept:function(a2){var a4=this,aZ=a2.models,a1=a2.response,aX=0,a3=a4._isServerGrouped(),a0=a4._pristineData,a5=a2.type,aY;a4.trigger(aD,{response:a1,type:a5});if(a1&&!U(a1)){a1=a4.reader.parse(a1);if(a4._handleCustomErrors(a1)){return}a1=a4.reader.data(a1);if(!a.isArray(a1)){a1=[a1]}}else{a1=a.map(aZ,function(a6){return a6.toJSON()})}if(a5==="destroy"){a4._destroyed=[]}for(aX=0,aY=aZ.length;aX<aY;aX++){if(a5!=="destroy"){aZ[aX].accept(a1[aX]);if(a5==="create"){a0.push(a3?aW(a4.group(),aZ[aX]):a1[aX])}else{if(a5==="update"){a4._updatePristineForModel(aZ[aX],a1[aX])}}}else{a4._removePristineForModel(aZ[aX])}}},_updatePristineForModel:function(aX,aY){this._executeOnPristineForModel(aX,function(aZ,a0){Z.deepExtend(a0[aZ],aY)})},_executeOnPristineForModel:function(aY,aX){this._eachPristineItem(function(a0){var aZ=P(a0,aY);if(aZ>-1){aX(aZ,a0);return true}})},_removePristineForModel:function(aX){this._executeOnPristineForModel(aX,function(aY,aZ){aZ.splice(aY,1)})},_readData:function(aX){var aY=!this._isServerGrouped()?this.reader.data:this.reader.groups;return aY(aX)},_eachPristineItem:function(aX){this._eachItem(this._pristineData,aX)},_eachItem:function(aY,aX){if(aY&&aY.length){if(this._isServerGrouped()){x(aY,aX)}else{aX(aY)}}},_pristineForModel:function(aZ){var a0,aY,aX=function(a1){aY=P(a1,aZ);if(aY>-1){a0=a1[aY];return true}};this._eachPristineItem(aX);return a0},_cancelModel:function(aY){var aZ=this._pristineForModel(aY),aX;this._eachItem(this._data,function(a0){aX=O(a0,aY);if(aX!=-1){if(!aY.isNew()&&aZ){a0[aX].accept(aZ)}else{a0.splice(aX,1)}}})},_promise:function(aX,aY,a1){var aZ=this,a0=aZ.transport;return a.Deferred(function(a2){aZ.trigger(aE,{type:a1});a0[a1].call(a0,B({success:function(a3){a2.resolve({response:a3,models:aY,type:a1})},error:function(a4,a5,a3){a2.reject(a4);aZ.error(a4,a5,a3)}},aX))}).promise()},_send:function(a1,aY){var a3=this,aZ,a0,a2=[],aX=a3.reader.serialize(aO(aY));if(a3.options.batch){if(aY.length){a2.push(a3._promise({data:{models:aX}},aY,a1))}}else{for(aZ=0,a0=aY.length;aZ<a0;aZ++){a2.push(a3._promise({data:aX[aZ]},[aY[aZ]],a1))}}return a2},read:function(aX){var aZ=this,aY=aZ._params(aX);aZ._queueRequest(aY,function(){if(!aZ.trigger(aE,{type:"read"})){aZ.trigger(av);aZ._ranges=[];aZ.transport.read({data:aY,success:aw(aZ.success,aZ),error:aw(aZ.error,aZ)})}else{aZ._dequeueRequest()}})},success:function(aX){var aZ=this,aY=aZ.options;aZ.trigger(aD,{response:aX,type:"read"});aX=aZ.reader.parse(aX);if(aZ._handleCustomErrors(aX)){aZ._dequeueRequest();return}aZ._pristine=X(aX)?a.extend(true,{},aX):aX.slice?aX.slice(0):aX;aZ._total=aZ.reader.total(aX);if(aZ._aggregate&&aY.serverAggregates){aZ._aggregateResult=aZ.reader.aggregates(aX)}aX=aZ._readData(aX);aZ._pristineData=aX.slice(0);aZ._data=aZ._observe(aX);aZ._addRange(aZ._data);aZ._process(aZ._data);aZ._dequeueRequest()},_addRange:function(aX){var a0=this,aZ=a0._skip||0,aY=aZ+a0._flatData(aX).length;a0._ranges.push({start:aZ,end:aY,data:aX});a0._ranges.sort(function(a1,a2){return a1.start-a2.start})},error:function(aZ,aY,aX){this._dequeueRequest();this.trigger(aD,{});this.trigger(z,{xhr:aZ,status:aY,errorThrown:aX})},_params:function(aX){var aZ=this,aY=B({take:aZ.take(),skip:aZ.skip(),page:aZ.page(),pageSize:aZ.pageSize(),sort:aZ._sort,filter:aZ._filter,group:aZ._group,aggregate:aZ._aggregate},aX);if(!aZ.options.serverPaging){delete aY.take;delete aY.skip;delete aY.page;delete aY.pageSize}if(!aZ.options.serverGrouping){delete aY.group}else{if(aZ.reader.model&&aY.group){aY.group=k(aY.group,aZ.reader.model)}}if(!aZ.options.serverFiltering){delete aY.filter}else{if(aZ.reader.model&&aY.filter){aY.filter=l(aY.filter,aZ.reader.model)}}if(!aZ.options.serverSorting){delete aY.sort}else{if(aZ.reader.model&&aY.sort){aY.sort=k(aY.sort,aZ.reader.model)}}if(!aZ.options.serverAggregates){delete aY.aggregate}else{if(aZ.reader.model&&aY.aggregate){aY.aggregate=k(aY.aggregate,aZ.reader.model)}}return aY},_queueRequest:function(aY,aX){var aZ=this;if(!aZ._requestInProgress){aZ._requestInProgress=true;aZ._pending=aR;aX()}else{aZ._pending={callback:aw(aX,aZ),options:aY}}},_dequeueRequest:function(){var aX=this;aX._requestInProgress=false;if(aX._pending){aX._queueRequest(aX._pending.options,aX._pending.callback)}},_handleCustomErrors:function(aY){if(this.reader.errors){var aX=this.reader.errors(aY);if(aX){this.trigger(z,{xhr:null,status:"customerror",errorThrown:"custom error",errors:aX});return true}}return false},_observe:function(aX){var aZ=this,aY=aZ.reader.model,a0=false;if(aY&&aX.length){a0=!(aX[0] instanceof aY)}if(aX instanceof ao){if(a0){aX.type=aZ.reader.model;aX.wrapAll(aX,aX)}}else{aX=new ao(aX,aZ.reader.model);aX.parent=function(){return aZ.parent()}}if(aZ._isServerGrouped()){aV(aX,aY)}if(aZ._changeHandler&&aZ._data&&aZ._data instanceof ao){aZ._data.unbind(h,aZ._changeHandler)}else{aZ._changeHandler=aw(aZ._change,aZ)}return aX.bind(h,aZ._changeHandler)},_change:function(aY){var a1=this,aZ,a0,aX=aY?aY.action:"";if(aX==="remove"){for(aZ=0,a0=aY.items.length;aZ<a0;aZ++){if(!aY.items[aZ].isNew||!aY.items[aZ].isNew()){a1._destroyed.push(aY.items[aZ])}}}if(a1.options.autoSync&&(aX==="add"||aX==="remove"||aX==="itemchange")){a1.sync()}else{var a2=parseInt(a1._total||a1.reader.total(a1._pristine),10);if(aX==="add"){a2+=aY.items.length}else{if(aX==="remove"){a2-=aY.items.length}else{if(aX!=="itemchange"&&aX!=="sync"&&!a1.options.serverPaging){a2=a1.reader.total(a1._pristine)}}}a1._total=a2;a1._process(a1._data,aY)}},_process:function(aX,aY){var a1=this,aZ={},a0;if(a1.options.serverPaging!==true){aZ.skip=a1._skip;aZ.take=a1._take||a1._pageSize;if(aZ.skip===aR&&a1._page!==aR&&a1._pageSize!==aR){aZ.skip=(a1._page-1)*a1._pageSize}}if(a1.options.serverSorting!==true){aZ.sort=a1._sort}if(a1.options.serverFiltering!==true){aZ.filter=a1._filter}if(a1.options.serverGrouping!==true){aZ.group=a1._group}if(a1.options.serverAggregates!==true){aZ.aggregate=a1._aggregate;a1._aggregateResult=g(aX,aZ)}a0=ay.process(aX,aZ);a1._view=a0.data;if(a0.total!==aR&&!a1.options.serverFiltering){a1._total=a0.total}aY=aY||{};aY.items=aY.items||a1._view;a1.trigger(h,aY)},_mergeState:function(aX){var aY=this;if(aX!==aR){aY._pageSize=aX.pageSize;aY._page=aX.page;aY._sort=aX.sort;aY._filter=aX.filter;aY._group=aX.group;aY._aggregate=aX.aggregate;aY._skip=aX.skip;aY._take=aX.take;if(aY._skip===aR){aY._skip=aY.skip();aX.skip=aY.skip()}if(aY._take===aR&&aY._pageSize!==aR){aY._take=aY._pageSize;aX.take=aY._take}if(aX.sort){aY._sort=aX.sort=am(aX.sort)}if(aX.filter){aY._filter=aX.filter=aj(aX.filter)}if(aX.group){aY._group=aX.group=ak(aX.group)}if(aX.aggregate){aY._aggregate=aX.aggregate=ai(aX.aggregate)}}return aX},query:function(aX){var a0=this,aZ,aY=a0.options.serverSorting||a0.options.serverPaging||a0.options.serverFiltering||a0.options.serverGrouping||a0.options.serverAggregates;if(aY||((a0._data===aR||a0._data.length===0)&&!a0._destroyed.length)){a0.read(a0._mergeState(aX))}else{if(!a0.trigger(aE,{type:"read"})){a0.trigger(av);aZ=ay.process(a0._data,a0._mergeState(aX));if(!a0.options.serverFiltering){if(aZ.total!==aR){a0._total=aZ.total}else{a0._total=a0._data.length}}a0._view=aZ.data;a0._aggregateResult=g(a0._data,aX);a0.trigger(aD,{});a0.trigger(h,{items:aZ.data})}}},fetch:function(aX){var aY=this;return a.Deferred(function(aZ){var a1=function(a2){aY.unbind(z,a0);aZ.resolve();if(aX){aX.call(aY,a2)}};var a0=function(a2){aZ.reject(a2)};aY.one(h,a1);aY.one(z,a0);aY._query()}).promise()},_query:function(aX){var aY=this;aY.query(B({},{page:aY.page(),pageSize:aY.pageSize(),sort:aY.sort(),filter:aY.filter(),group:aY.group(),aggregate:aY.aggregate()},aX))},next:function(aX){var aZ=this,aY=aZ.page(),a0=aZ.total();aX=aX||{};if(!aY||(a0&&aY+1>aZ.totalPages())){return}aZ._skip=aY*aZ.take();aY+=1;aX.page=aY;aZ._query(aX);return aY},prev:function(aX){var aZ=this,aY=aZ.page();aX=aX||{};if(!aY||aY===1){return}aZ._skip=aZ._skip-aZ.take();aY-=1;aX.page=aY;aZ._query(aX);return aY},page:function(aZ){var aY=this,aX;if(aZ!==aR){aZ=ac.max(ac.min(ac.max(aZ,1),aY.totalPages()),1);aY._query({page:aZ});return}aX=aY.skip();return aX!==aR?ac.round((aX||0)/(aY.take()||1))+1:aR},pageSize:function(aY){var aX=this;if(aY!==aR){aX._query({pageSize:aY,page:1});return}return aX.take()},sort:function(aY){var aX=this;if(aY!==aR){aX._query({sort:aY});return}return aX._sort},filter:function(aY){var aX=this;if(aY===aR){return aX._filter}aX._query({filter:aY,page:1})},group:function(aY){var aX=this;if(aY!==aR){aX._query({group:aY});return}return aX._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(aY){var aX=this;if(aY!==aR){aX._query({aggregate:aY});return}return aX._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var aY=this,aX=aY.pageSize()||aY.total();return ac.ceil((aY.total()||0)/aX)},inRange:function(aY,aZ){var a0=this,aX=ac.min(aY+aZ,a0.total());if(!a0.options.serverPaging&&a0.data.length>0){return true}return a0._findRange(aY,aX).length>0},lastRange:function(){var aX=this._ranges;return aX[aX.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var aX=this._ranges;return aX.length&&aX[0].data.length&&aX[0].data[0].uid},range:function(a2,a4){a2=ac.min(a2||0,this.total());var a5=this,aZ=ac.max(ac.floor(a2/a4),0)*a4,a1=ac.min(aZ+a4,a5.total()),aX;aX=a5._findRange(a2,ac.min(a2+a4,a5.total()));if(aX.length){a5._skip=a2>a5.skip()?ac.min(a1,(a5.totalPages()-1)*a5.take()):aZ;a5._take=a4;var a0=a5.options.serverPaging;var a3=a5.options.serverSorting;var aY=a5.options.serverFiltering;try{a5.options.serverPaging=true;a5.options.serverSorting=true;a5.options.serverFiltering=true;if(a0){a5._data=aX=a5._observe(aX)}a5._process(aX)}finally{a5.options.serverPaging=a0;a5.options.serverSorting=a3;a5.options.serverFiltering=aY}return}if(a4!==aR){if(!a5._rangeExists(aZ,a1)){a5.prefetch(aZ,a4,function(){if(a2>aZ&&a1<a5.total()&&!a5._rangeExists(a1,ac.min(a1+a4,a5.total()))){a5.prefetch(a1,a4,function(){a5.range(a2,a4)})}else{a5.range(a2,a4)}})}else{if(aZ<a2){a5.prefetch(a1,a4,function(){a5.range(a2,a4)})}}}},_findRange:function(bc,aZ){var bf=this,a8=bf._ranges,a5,aY=[],ba,be,bd,a0,a6,a7,a4,a3=bf.options,a9=a3.serverSorting||a3.serverPaging||a3.serverFiltering||a3.serverGrouping||a3.serverAggregates,a1,aX,a2;for(ba=0,a2=a8.length;ba<a2;ba++){a5=a8[ba];if(bc>=a5.start&&bc<=a5.end){aX=0;for(be=ba;be<a2;be++){a5=a8[be];a1=bf._flatData(a5.data);if(a1.length&&bc+aX>=a5.start){a6=a5.data;a7=a5.end;if(!a9){var bb=ak(bf.group()||[]).concat(am(bf.sort()||[]));a4=ay.process(a5.data,{sort:bb,filter:bf.filter()});a1=a6=a4.data;if(a4.total!==aR){a7=a4.total}}bd=0;if(bc+aX>a5.start){bd=(bc+aX)-a5.start}a0=a1.length;if(a7>aZ){a0=a0-(a7-aZ)}aX+=a0-bd;aY=bf._mergeGroups(aY,a6,bd,a0);if(aZ<=a5.end&&aX==aZ-bc){return aY}}}break}}return[]},_mergeGroups:function(aX,a0,a1,aY){if(this._isServerGrouped()){var a2=a0.toJSON(),aZ;if(aX.length){aZ=aX[aX.length-1]}ad(aZ,a2,a1,aY);return aX.concat(a2)}return aX.concat(a0.slice(a1,aY))},skip:function(){var aX=this;if(aX._skip===aR){return(aX._page!==aR?(aX._page-1)*(aX.take()||1):aR)}return aX._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(aZ,aY,aX){var a0=this;return function(a1){var a2=false,a5={start:aZ,end:aY,data:[]},a3,a4;a0._dequeueRequest();for(a3=0,a4=a0._ranges.length;a3<a4;a3++){if(a0._ranges[a3].start===aZ){a2=true;a5=a0._ranges[a3];break}}if(!a2){a0._ranges.push(a5)}a0.trigger(aD,{response:a1,type:"read"});a1=a0.reader.parse(a1);a5.data=a0._observe(a0._readData(a1));a5.end=a5.start+a0._flatData(a5.data).length;a0._ranges.sort(function(a6,a7){return a6.start-a7.start});a0._total=a0.reader.total(a1);if(aX){aX()}}},prefetch:function(a0,a1,aX){var a2=this,aZ=ac.min(a0+a1,a2.total()),aY={take:a1,skip:a0,page:a0/a1+1,pageSize:a1,sort:a2._sort,filter:a2._filter,group:a2._group,aggregate:a2._aggregate};if(!a2._rangeExists(a0,aZ)){clearTimeout(a2._timeout);a2._timeout=setTimeout(function(){a2._queueRequest(aY,function(){if(!a2.trigger(aE,{type:"read"})){a2.transport.read({data:a2._params(aY),success:a2._prefetchSuccessHandler(a0,aZ,aX)})}else{a2._dequeueRequest()}})},100)}else{if(aX){aX()}}},_rangeExists:function(a1,aX){var a2=this,a0=a2._ranges,aY,aZ;for(aY=0,aZ=a0.length;aY<aZ;aY++){if(a0[aY].start<=a1&&a0[aY].end>=aX){return true}}return false}});var aQ={};aQ.create=function(aY,aX){var aZ,a0=aY.transport;if(a0){a0.read=typeof a0.read===aL?{url:a0.read}:a0.read;if(aY.type){if(Z.data.transports[aY.type]&&!X(Z.data.transports[aY.type])){aZ=new Z.data.transports[aY.type](B(a0,{data:aX}))}else{a0=B(true,{},Z.data.transports[aY.type],a0)}aY.schema=B(true,{},Z.data.schemas[aY.type],aY.schema)}if(!aZ){aZ=V(a0.read)?a0:new aB(a0)}}else{aZ=new aa({data:aY.data})}return aZ};s.create=function(a4){a4=a4&&a4.push?{data:a4}:a4;var aY=a4||{},aX=aY.data,a0=aY.fields,a6=aY.table,a5=aY.select,a1,a2,a3={},aZ;if(!aX&&a0&&!aY.transport){if(a6){aX=S(a6,a0)}else{if(a5){aX=R(a5,a0)}}}if(Z.data.Model&&a0&&(!aY.schema||!aY.schema.model)){for(a1=0,a2=a0.length;a1<a2;a1++){aZ=a0[a1];if(aZ.type){a3[aZ.field]=aZ}}if(!U(a3)){aY.schema=B(true,aY.schema,{model:{fields:a3}})}}aY.data=aX;return aY instanceof s?aY:new s(aY)};function R(a6,aY){var a3=a(a6)[0].children,a0,a1,aX=[],a4,aZ=aY[0],a5=aY[1],a7,a2;for(a0=0,a1=a3.length;a0<a1;a0++){a4={};a2=a3[a0];if(a2.disabled){continue}a4[aZ.field]=a2.text;a7=a2.attributes.value;if(a7&&a7.specified){a7=a2.value}else{a7=a2.text}a4[a5.field]=a7;aX.push(a4)}return aX}function S(a8,a3){var a9=a(a8)[0].tBodies[0],a7=a9?a9.rows:[],a4,a5,a2,a1=a3.length,aZ=[],aY,a6,aX,a0;for(a4=0,a5=a7.length;a4<a5;a4++){a6={};a0=true;aY=a7[a4].cells;for(a2=0;a2<a1;a2++){aX=aY[a2];if(aX.nodeName.toLowerCase()!=="th"){a0=false;a6[a3[a2].field]=aX.innerHTML}}if(!a0){aZ.push(a6)}}return aZ}var ag=ae.define({init:function(a1){var a0=this,aZ=a0.hasChildren||a1&&a1.hasChildren,aX="items",aY={};Z.data.Model.fn.init.call(a0,a1);if(typeof a0.children===aL){aX=a0.children}aY={schema:{data:aX,model:{hasChildren:aZ,id:a0.idField}}};if(typeof a0.children!==aL){B(aY,a0.children)}aY.data=a1;if(!aZ){aZ=aY.schema.data}if(typeof aZ===aL){aZ=Z.getter(aZ)}if(V(aZ)){a0.hasChildren=!!aZ.call(a0,a0)}a0._childrenOptions=aY;if(a0.hasChildren){a0._initChildren()}a0._loaded=!!(a1&&(a1[aX]||a1._loaded))},_initChildren:function(){var aZ=this;var aX,a0,aY;if(!(aZ.children instanceof L)){aX=aZ.children=new L(aZ._childrenOptions);a0=aX.transport;aY=a0.parameterMap;a0.parameterMap=function(a1){a1[aZ.idField||"id"]=aZ.id;if(aY){a1=aY(a1)}return a1};aX.parent=function(){return aZ};aX.bind(h,function(a1){a1.node=a1.node||aZ;aZ.trigger(h,a1)});aX.bind(z,function(a2){var a1=aZ.parent();if(a1){a2.node=a2.node||aZ;a1.trigger(z,a2)}});aZ._updateChildrenField()}},append:function(aX){this._initChildren();this.loaded(true);this.children.add(aX)},hasChildren:false,level:function(){var aY=this.parentNode(),aX=0;while(aY&&aY.parentNode){aX++;aY=aY.parentNode?aY.parentNode():null}return aX},_updateChildrenField:function(){var aX=this._childrenOptions.schema.data;this[aX||"items"]=this.children.data()},load:function(){var aY=this,aX={};if(aY.hasChildren){aY._initChildren();aX[aY.idField||"id"]=aY.id;if(!aY._loaded){aY.children._data=aR}aY.children.one(h,function(){aY._loaded=true;aY._updateChildrenField()})._query(aX)}},parentNode:function(){var aX=this.parent();return aX.parent()},loaded:function(aX){if(aX!==aR){this._loaded=aX}else{return this._loaded}},shouldSerialize:function(aX){return ae.fn.shouldSerialize.call(this,aX)&&aX!=="children"&&aX!=="_loaded"&&aX!=="hasChildren"&&aX!=="_childrenOptions"}});function q(aX){return function(){var aY=this._data,aZ=s.fn[aX].apply(this,aH.call(arguments));if(this._data!=aY){this._attachBubbleHandlers()}return aZ}}var L=s.extend({init:function(aY){var aX=ag.define({children:aY});s.fn.init.call(this,B(true,{},{schema:{modelBase:aX,model:aX}},aY));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var aX=this;aX._data.bind(z,function(aY){aX.trigger(z,aY)})},remove:function(aY){var aZ=aY.parentNode(),aX=this,a0;if(aZ&&aZ._initChildren){aX=aZ.children}a0=s.fn.remove.call(aX,aY);if(aZ&&!aX.data().length){aZ.hasChildren=false}return a0},success:q("success"),data:q("data"),insert:function(aX,aY){var aZ=this.parent();if(aZ&&aZ._initChildren){aZ.hasChildren=true;aZ._initChildren()}return s.fn.insert.call(this,aX,aY)},_find:function(a1,a3){var aZ,a0,a2,aY,aX;a2=s.fn[a1].call(this,a3);if(a2){return a2}aY=this._flatData(this.data());if(!aY){return}for(aZ=0,a0=aY.length;aZ<a0;aZ++){aX=aY[aZ].children;if(!(aX instanceof L)){continue}a2=aX[a1](a3);if(a2){return a2}}},get:function(aX){return this._find("get",aX)},getByUid:function(aX){return this._find("getByUid",aX)}});function Q(a7,a0){var a5=a(a7).children(),a2,a6,aZ=[],a8,bb=a0[0].field,bc=a0[1]&&a0[1].field,a9=a0[2]&&a0[2].field,a3=a0[3]&&a0[3].field,a4,a1,ba,aY,aX;for(a2=0,a6=a5.length;a2<a6;a2++){a8={_loaded:true};a4=a5.eq(a2);ba=a4[0].firstChild;aX=a4.children();a7=aX.filter("ul");aX=aX.filter(":not(ul)");a1=a4.attr("data-id");if(a1){a8.id=a1}if(ba){a8[bb]=ba.nodeType==3?ba.nodeValue:aX.text()}if(bc){a8[bc]=aX.find("a").attr("href")}if(a3){a8[a3]=aX.find("img").attr("src")}if(a9){aY=aX.find(".k-sprite").prop("className");a8[a9]=aY&&a.trim(aY.replace("k-sprite",""))}if(a7.length){a8.items=Q(a7.eq(0),a0)}if(a4.attr("data-hasChildren")=="true"){a8.hasChildren=true}aZ.push(a8)}return aZ}L.create=function(a1){a1=a1&&a1.push?{data:a1}:a1;var aY=a1||{},aX=aY.data,aZ=aY.fields,a0=aY.list;if(aX&&aX._dataSource){return aX._dataSource}if(!aX&&aZ&&!aY.transport){if(a0){aX=Q(a0,aZ)}}aY.data=aX;return aY instanceof L?aY:new L(aY)};var d=Z.Observable.extend({init:function(aY,a0,aZ){Z.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=aY;this.prefetch=!aZ;var aX=this;aY.bind("change",function(){aX._change()});this._syncWithDataSource();this.setViewSize(a0)},setViewSize:function(aX){this.viewSize=aX;this._recalculate()},at:function(aX){var a0=this.pageSize;if(aX>=this.total()){this.trigger("endreached",{index:aX});return}if(aX<this.dataOffset||aX>this.skip+a0){var aZ=Math.floor(aX/a0)*a0;this.range(aZ)}if(aX===this.prefetchThreshold){this._prefetch()}if(aX===this.midPageThreshold){this.range(this.nextMidRange)}else{if(aX===this.nextPageThreshold){this.range(this.nextFullRange)}else{if(aX===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}}}var aY=this.dataSource.at(aX-this.dataOffset);if(aY===aR){this.trigger("endreached",{index:aX})}return aY},indexOf:function(aX){return this.dataSource.data().indexOf(aX)+this.dataOffset},_prefetch:function(){var aX=this,aZ=this.pageSize,a0=this.skip+aZ,aY=this.dataSource;if(!aY.inRange(a0,aZ)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:a0,take:aZ});aY.prefetch(a0,aZ,function(){aX._prefetching=false;aX.trigger("prefetched",{skip:a0,take:aZ})})}},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var aX=this,aZ=aX.pageSize,aY=aX.skip-aX.viewSize,a0=ac.max(ac.floor(aY/aZ),0)*aZ+aZ;this.offset=aY;this.dataSource.prefetch(a0,aZ,function(){aX._goToRange(aY,true)})},range:function(aZ){if(this.offset===aZ){return}var aX=this,a0=this.pageSize,a1=ac.max(ac.floor(aZ/a0),0)*a0+a0,aY=this.dataSource;this.offset=aZ;this._recalculate();if(aY.inRange(aZ,a0)){this._goToRange(aZ)}else{if(this.prefetch){aY.prefetch(a1,a0,function(){aX._goToRange(aZ,true)})}}},syncDataSource:function(){var aX=this.offset;this.offset=null;this.range(aX)},_goToRange:function(aY,aX){if(this.offset!==aY){return}this.dataOffset=aY;this._expanding=aX;this.dataSource.range(aY,this.pageSize)},_change:function(){var aX=this.dataSource,aY=aX.firstItemUid();this.length=aX.lastRange().end;if(this._firstItemUid!==aY){this._syncWithDataSource();this._recalculate();this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var aX=this.dataSource;this._firstItemUid=aX.firstItemUid();this.dataOffset=this.offset=aX.skip();this.pageSize=aX.pageSize()},_recalculate:function(){var aY=this.pageSize,aX=this.offset,a0=this.viewSize,aZ=Math.ceil(aX/aY)*aY;this.skip=aZ;this.midPageThreshold=aZ+aY-1;this.nextPageThreshold=aZ+a0-1;this.prefetchThreshold=aZ+Math.floor(aY/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=aZ+aY-a0;this.nextFullRange=aZ;this.previousMidRange=aX-a0;this.previousFullRange=aZ-aY}});var c=Z.Observable.extend({init:function(aZ,aY){var aX=this;Z.Observable.fn.init.call(aX);this.dataSource=aZ;this.batchSize=aY;this._total=0;this.buffer=new d(aZ,aY*3);this.buffer.bind({endreached:function(a0){aX.trigger("endreached",{index:a0.index})},prefetching:function(a0){aX.trigger("prefetching",{skip:a0.skip,take:a0.take})},prefetched:function(a0){aX.trigger("prefetched",{skip:a0.skip,take:a0.take})},reset:function(){aX._total=0;aX.trigger("reset")},resize:function(){aX._total=this.length/aX.batchSize;aX.trigger("resize",{total:aX.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(aZ){var aX=this.buffer,a1=aZ*this.batchSize,a2=this.batchSize,a3=[],a0;if(aX.offset>a1){aX.at(aX.offset-1)}for(var aY=0;aY<a2;aY++){a0=aX.at(a1+aY);if(a0===aR){return}a3.push(a0)}return a3},total:function(){return this._total}});B(true,Z.data,{readers:{json:r},Query:ay,DataSource:s,HierarchicalDataSource:L,Node:ag,ObservableObject:ap,ObservableArray:ao,LocalTransport:aa,RemoteTransport:aB,Cache:e,DataReader:r,Model:ae,Buffer:d,BatchBuffer:c})})(window.kendo.jQuery);kendo_module({id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]});(function(a,G){var q=window.kendo,t=q.Observable,v=q.data.ObservableObject,u=q.data.ObservableArray,B={}.toString,e={},z=Array.prototype.splice,k=q.Class,p,x=a.proxy,H="value",y="source",n="events",j="checked",i="change";(function(){var K=document.createElement("a");if(K.innerText!==G){p="innerText"}else{if(K.textContent!==G){p="textContent"}}})();var f=t.extend({init:function(K,L){var M=this;t.fn.init.call(M);M.source=K[0];M.parents=K;M.path=L;M.dependencies={};M.dependencies[L]=true;M.observable=M.source instanceof t;M._access=function(N){M.dependencies[N.field]=true};if(M.observable){M._change=function(N){M.change(N)};M.source.bind(i,M._change)}},_parents:function(){var L=this.parents;var M=this.get();if(M&&typeof M.parent=="function"){var K=M.parent();if(a.inArray(K,L)<0){L=[K].concat(L)}}return L},change:function(M){var L,K,N=M.field,O=this;if(O.path==="this"){O.trigger(i,M)}else{for(L in O.dependencies){if(L.indexOf(N)===0){K=L.charAt(N.length);if(!K||K==="."||K==="["){O.trigger(i,M);break}}}}},start:function(K){K.bind("get",this._access)},stop:function(K){K.unbind("get",this._access)},get:function(){var O=this,N=O.source,K=0,L=O.path,M=N;if(!O.observable){return M}O.start(O.source);M=N.get(L);while(M===G&&N){N=O.parents[++K];if(N instanceof v){M=N.get(L)}}if(M===G){N=O.source;while(M===G&&N){N=N.parent();if(N instanceof v){M=N.get(L)}}}if(typeof M==="function"){K=L.lastIndexOf(".");if(K>0){N=N.get(L.substring(0,K))}O.start(N);M=M.call(N,O.source);O.stop(N)}if(N&&N!==O.source){O.currentSource=N;N.unbind(i,O._change).bind(i,O._change)}O.stop(O.source);return M},set:function(M){var L=this,K=L.currentSource||L.source;K.set(L.path,M)},destroy:function(){if(this.observable){this.source.unbind(i,this._change)}}});var m=f.extend({get:function(){var N=this.source,M=this.path,L=0,K;K=N.get(M);while(!K&&N){N=this.parents[++L];if(N instanceof v){K=N.get(M)}}return x(K,N)}});var A=f.extend({init:function(L,K,M){var N=this;f.fn.init.call(N,L,K);N.template=M},render:function(L){var K;this.start(this.source);K=q.render(this.template,L);this.stop(this.source);return K}});var d=k.extend({init:function(L,K,M){this.element=L;this.bindings=K;this.options=M},bind:function(L,K){var M=this;L=K?L[K]:L;L.bind(i,function(N){M.refresh(K||N)});M.refresh(K)},destroy:function(){}});e.attr=d.extend({refresh:function(K){this.element.setAttribute(K,this.bindings.attr[K].get())}});e.style=d.extend({refresh:function(K){this.element.style[K]=this.bindings.style[K].get()||""}});e.enabled=d.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});e.readonly=d.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});e.disabled=d.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});e.events=d.extend({init:function(L,K,M){d.fn.init.call(this,L,K,M);this.handlers={}},refresh:function(N){var L=a(this.element),K=this.bindings.events[N],M=this.handlers[N];if(M){L.off(N,M)}M=this.handlers[N]=K.get();L.on(N,K.source,M)},destroy:function(){var K=a(this.element),L;for(L in this.handlers){K.off(L,this.handlers[L])}}});e.text=d.extend({refresh:function(){var K=this.bindings.text.get();if(K==null){K=""}this.element[p]=K}});e.visible=d.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});e.invisible=d.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});e.html=d.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});e.value=d.extend({init:function(L,K,M){d.fn.init.call(this,L,K,M);this._change=x(this.change,this);this.eventName=M.valueUpdate||i;a(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=i;this.bindings[H].set(this.element.value);this._initChange=false},refresh:function(){if(!this._initChange){var K=this.bindings[H].get();if(K==null){K=""}this.element.value=K}this._initChange=false},destroy:function(){a(this.element).off(this.eventName,this._change)}});e.source=d.extend({init:function(L,K,M){d.fn.init.call(this,L,K,M)},refresh:function(K){var M=this,L=M.bindings.source.get();if(L instanceof u){K=K||{};if(K.action=="add"){M.add(K.index,K.items)}else{if(K.action=="remove"){M.remove(K.index,K.items)}else{if(K.action!="itemchange"){M.render()}}}}else{M.render()}},container:function(){var K=this.element;if(K.nodeName.toLowerCase()=="table"){if(!K.tBodies[0]){K.appendChild(document.createElement("tbody"))}K=K.tBodies[0]}return K},template:function(){var L=this.options,M=L.template,K=this.container().nodeName.toLowerCase();if(!M){if(K=="select"){if(L.valueField||L.textField){M=q.format('<option value="#:{0}#">#:{1}#</option>',L.valueField||L.textField,L.textField||L.valueField)}else{M="<option>#:data#</option>"}}else{if(K=="tbody"){M="<tr><td>#:data#</td></tr>"}else{if(K=="ul"||K=="ol"){M="<li>#:data#</li>"}else{M="#:data#"}}}M=q.template(M)}return M},destroy:function(){var K=this.bindings.source.get();K.unbind(i,this._change)},add:function(O,P){var M=this.container(),R,N,Q,K,L=M.cloneNode(false),S=M.children[O];a(L).html(q.render(this.template(),P));if(L.children.length){R=this.bindings.source._parents();for(N=0,Q=P.length;N<Q;N++){K=L.children[0];M.insertBefore(K,S||null);c(K,P[N],this.options.roles,[P[N]].concat(R))}}},remove:function(N,O){var M,L=this.container();for(M=0;M<O.length;M++){var K=L.children[N];F(K);L.removeChild(K)}},render:function(){var P=this.bindings.source.get(),O,L,M,K=this.container(),Q=this.template(),N;if(!(P instanceof u)&&B.call(P)!=="[object Array]"){if(P.parent){N=P.parent}P=new u([P]);if(P.parent){P.parent=N}}if(this.bindings.template){E(K);a(K).html(this.bindings.template.render(P));if(K.children.length){O=this.bindings.source._parents();for(L=0,M=P.length;L<M;L++){c(K.children[L],P[L],this.options.roles,[P[L]].concat(O))}}}else{a(K).html(q.render(Q,P))}}});e.input={checked:d.extend({init:function(L,K,M){d.fn.init.call(this,L,K,M);this._change=x(this.change,this);a(this.element).change(this._change)},change:function(){var K=this.element;var N=this.value();if(K.type=="radio"){this.bindings[j].set(N)}else{if(K.type=="checkbox"){var M=this.bindings[j].get();var L;if(M instanceof u){N=this.element.value;if(N!=="on"&&N!=="off"){L=M.indexOf(N);if(L>-1){M.splice(L,1)}else{M.push(N)}}}else{this.bindings[j].set(N)}}}},refresh:function(){var M=this.bindings[j].get(),L=M,K=this.element;if(K.type=="checkbox"){if(L instanceof u){M=this.element.value;if(L.indexOf(M)>=0){M=true}}K.checked=M===true}else{if(K.type=="radio"&&M!=null){if(K.value===M.toString()){K.checked=true}}}},value:function(){var K=this.element,L=K.value;if(K.type=="checkbox"){L=K.checked}return L},destroy:function(){a(this.element).off(i,this._change)}})};e.select={value:d.extend({init:function(M,K,L){d.fn.init.call(this,M,K,L);this._change=x(this.change,this);a(this.element).change(this._change)},change:function(){var T=[],K=this.element,P,L=this.options.valueField||this.options.textField,S=this.options.valuePrimitive,O,R,Q,M,N;for(M=0,N=K.options.length;M<N;M++){O=K.options[M];if(O.selected){Q=O.attributes.value;if(Q&&Q.specified){Q=O.value}else{Q=O.text}T.push(Q)}}if(L){P=this.bindings.source.get();for(R=0;R<T.length;R++){for(M=0,N=P.length;M<N;M++){if(P[M].get(L)==T[R]){T[R]=P[M];break}}}}Q=this.bindings[H].get();if(Q instanceof u){Q.splice.apply(Q,[0,Q.length].concat(T))}else{if(!S&&(Q instanceof v||!L)){this.bindings[H].set(T[0])}else{this.bindings[H].set(T[0].get(L))}}},refresh:function(){var N,K=this.element,O=K.options,Q=this.bindings[H].get(),S=Q,L=this.options.valueField||this.options.textField,M=false,P;if(!(S instanceof u)){S=new u([Q])}K.selectedIndex=-1;for(var R=0;R<S.length;R++){Q=S[R];if(L&&Q instanceof v){Q=Q.get(L)}for(N=0;N<O.length;N++){P=O[N].value;if(P===""&&Q!==""){P=O[N].text}if(P==Q){O[N].selected=true;M=true}}}},destroy:function(){a(this.element).off(i,this._change)}})};e.widget={events:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M;this.handlers={}},refresh:function(M){var K=this.bindings.events[M],L=this.handlers[M];if(L){this.widget.unbind(M,L)}L=K.get();this.handlers[M]=function(N){N.data=K.source;L(N);if(N.data===K.source){delete N.data}};this.widget.bind(M,this.handlers[M])},destroy:function(){var K;for(K in this.handlers){this.widget.unbind(K,this.handlers[K])}}}),checked:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M;this._change=x(this.change,this);this.widget.bind(i,this._change)},change:function(){this.bindings[j].set(this.value())},refresh:function(){this.widget.check(this.bindings[j].get()===true)},value:function(){var K=this.element,L=K.value;if(L=="on"||L=="off"){L=K.checked}return L},destroy:function(){this.widget.unbind(i,this._change)}}),visible:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M},refresh:function(){var K=this.bindings.visible.get();this.widget.wrapper[0].style.display=K?"":"none"}}),invisible:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M},refresh:function(){var K=this.bindings.invisible.get();this.widget.wrapper[0].style.display=K?"none":""}}),enabled:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:d.extend({init:function(N,K,L){var M=this;d.fn.init.call(M,N.element[0],K,L);M.widget=N;M._dataBinding=x(M.dataBinding,M);M._dataBound=x(M.dataBound,M);M._itemChange=x(M.itemChange,M)},itemChange:function(K){c(K.item[0],K.data,this._ns(K.ns),[K.data].concat(this.bindings.source._parents()))},dataBinding:function(){var K,M,N=this.widget,L=N.items();for(K=0,M=L.length;K<M;K++){F(L[K])}},_ns:function(L){L=L||q.ui;var K=[q.ui,q.dataviz.ui,q.mobile.ui];K.splice(a.inArray(L,K),1);K.unshift(L);return q.rolesFromNamespaces(K)},dataBound:function(L){var N,P,S=this.widget,O=S.items(),K=S.dataSource,R=K.view(),Q,M=K.group()||[];if(O.length){if(M.length){R=o(R)}Q=this.bindings.source._parents();for(N=0,P=R.length;N<P;N++){c(O[N],R[N],this._ns(L.ns),[R[N]].concat(Q))}}},refresh:function(K){var M=this,L,N=M.widget;K=K||{};if(!K.action){M.destroy();N.bind("dataBinding",M._dataBinding);N.bind("dataBound",M._dataBound);N.bind("itemChange",M._itemChange);L=M.bindings.source.get();if(N.dataSource instanceof q.data.DataSource&&N.dataSource!=L){if(L instanceof q.data.DataSource){N.setDataSource(L)}else{if(L&&L._dataSource){N.setDataSource(L._dataSource)}else{N.dataSource.data(L)}}}}},destroy:function(){var K=this.widget;K.unbind("dataBinding",this._dataBinding);K.unbind("dataBound",this._dataBound);K.unbind("itemChange",this._itemChange)}}),value:d.extend({init:function(N,K,L){d.fn.init.call(this,N.element[0],K,L);this.widget=N;this._change=a.proxy(this.change,this);this.widget.first(i,this._change);var M=this.bindings.value.get();this._valueIsObservableObject=!L.valuePrimitive&&(M==null||M instanceof v);this._valueIsObservableArray=M instanceof u;this._initChange=false},change:function(){var S=this.widget.value(),K=this.options.dataValueField||this.options.dataTextField,M=B.call(S)==="[object Array]",N=this._valueIsObservableObject,T,U,V=[],Q,R,L,O,P;this._initChange=true;if(K){if(this.bindings.source){P=this.bindings.source.get()}if(S===""&&(N||this.options.valuePrimitive)){S=null}else{if(!P||P instanceof q.data.DataSource){P=this.widget.dataSource.view()}if(M){U=S.length;V=S.slice(0)}for(L=0,O=P.length;L<O;L++){Q=P[L];R=Q.get(K);if(M){for(T=0;T<U;T++){if(R==V[T]){V[T]=Q;break}}}else{if(R==S){S=N?Q:R;break}}}if(V[0]){if(this._valueIsObservableArray){S=V}else{if(N||!K){S=V[0]}else{S=V[0].get(K)}}}}}this.bindings.value.set(S);this._initChange=false},refresh:function(){if(!this._initChange){var K=this.options.dataValueField||this.options.dataTextField,N=this.bindings.value.get(),L=0,M,O=[];if(K){if(N instanceof u){for(M=N.length;L<M;L++){O[L]=N[L].get(K)}N=O}else{if(N instanceof v){N=N.get(K)}}}this.widget.value(N)}this._initChange=false},destroy:function(){this.widget.unbind(i,this._change)}}),multiselect:{value:d.extend({init:function(M,K,L){d.fn.init.call(this,M.element[0],K,L);this.widget=M;this._change=a.proxy(this.change,this);this.widget.first(i,this._change);this._initChange=false},change:function(){var K=this,L=K.bindings[H].get(),M=K.options.valuePrimitive,N=M?K.widget.value():K.widget.dataItems();K._initChange=true;if(L instanceof u){if(N.length){z.call(L,0,L.length)}L.splice.apply(L,[0,L.length].concat(N))}else{K.bindings[H].set(N)}K._initChange=false},refresh:function(){if(!this._initChange){var K=this.options.dataValueField||this.options.dataTextField,O=this.bindings.value.get(),L=0,M,P=[],N;if(K){if(O instanceof u){for(M=O.length;L<M;L++){N=O[L];P[L]=N.get?N.get(K):N}O=P}else{if(O instanceof v){O=O.get(K)}}}this.widget.value(O)}},destroy:function(){this.widget.unbind(i,this._change)}})}};var g=k.extend({init:function(L,K){this.target=L;this.options=K;this.toDestroy=[]},bind:function(K){var P=this.target.nodeName.toLowerCase(),O,N,M,L,Q=e[P]||{};for(O in K){if(O==H){N=true}else{if(O==y){M=true}else{if(O==n){L=true}else{this.applyBinding(O,K,Q)}}}}if(M){this.applyBinding(y,K,Q)}if(N){this.applyBinding(H,K,Q)}if(L){this.applyBinding(n,K,Q)}},applyBinding:function(O,N,P){var L=P[O]||e[O],Q=this.toDestroy,K,M=N[O];if(L){L=new L(this.target,N,this.options);Q.push(L);if(M instanceof f){L.bind(M);Q.push(M)}else{for(K in M){L.bind(M,K);Q.push(M[K])}}}else{if(O!=="template"){throw new Error("The "+O+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var K,L,M=this.toDestroy;for(K=0,L=M.length;K<L;K++){M[K].destroy()}}});var J=g.extend({bind:function(L){var P=this,K,N=false,M=false,O=e.widget[P.target.options.name.toLowerCase()]||{};for(K in L){if(K==H){N=true}else{if(K==y){M=true}else{P.applyBinding(K,L)}}}if(M){P.applyBinding(y,L)}if(N){P.applyBinding(H,L,O[H])}},applyBinding:function(O,N,P){var L=P||e.widget[O],Q=this.toDestroy,K,M=N[O];if(L){L=new L(this.target,N,this.target.options);Q.push(L);if(M instanceof f){L.bind(M);Q.push(M)}else{for(K in M){L.bind(M,K);Q.push(M[K])}}}else{throw new Error("The "+O+" binding is not supported by the "+this.target.options.name+" widget")}}});function o(K){var L,M,N=[];for(L=0,M=K.length;L<M;L++){if(K[L].hasSubgroups){N=N.concat(o(K[L].items))}else{N=N.concat(K[L].items)}}return N}function h(K,L){var M=q.initWidget(K,{},L);if(M){return new J(M)}}var r=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,I=/\s/g;function w(K){var P={},M,O,Q,L,N,S,R;R=K.match(r);for(M=0,O=R.length;M<O;M++){Q=R[M];L=Q.indexOf(":");N=Q.substring(0,L);S=Q.substring(L+1);if(S.charAt(0)=="{"){S=w(S)}P[N]=S}return P}function l(L,N,O){var K,M={};for(K in L){M[K]=new O(N,L[K])}return M}function c(P,V,U,S){var T=P.getAttribute("data-"+q.ns+"role"),Q,K=P.getAttribute("data-"+q.ns+"bind"),M=P.children,N=[],O=true,L,R={},W;S=S||[V];if(T||K){D(P)}if(T){W=h(P,U)}if(K){K=w(K.replace(I,""));if(!W){R=q.parseOptions(P,{textField:"",valueField:"",template:"",valueUpdate:i,valuePrimitive:false});R.roles=U;W=new g(P,R)}W.source=V;L=l(K,S,f);if(R.template){L.template=new A(S,"",R.template)}if(L.click){K.events=K.events||{};K.events.click=K.click;delete L.click}if(L.source){O=false}if(K.attr){L.attr=l(K.attr,S,f)}if(K.style){L.style=l(K.style,S,f)}if(K.events){L.events=l(K.events,S,m)}W.bind(L)}if(W){P.kendoBindingTarget=W}if(O&&M){for(Q=0;Q<M.length;Q++){N[Q]=M[Q]}for(Q=0;Q<N.length;Q++){c(N[Q],V,U,S)}}}function b(K,O){var L,M,N,P=q.rolesFromNamespaces([].slice.call(arguments,2));O=q.observable(O);K=a(K);for(L=0,M=K.length;L<M;L++){N=K[L];if(N.nodeType===1){c(N,O,P)}}}function D(L){var K=L.kendoBindingTarget;if(K){K.destroy();if(a.support.deleteExpando){delete L.kendoBindingTarget}else{if(L.removeAttribute){L.removeAttribute("kendoBindingTarget")}else{L.kendoBindingTarget=null}}}}function F(K){D(K);E(K)}function E(L){var K=L.children;if(K){for(var M=0,N=K.length;M<N;M++){F(K[M])}}}function C(K){var L,M;K=a(K);for(L=0,M=K.length;L<M;L++){F(K[L])}}function s(N,M){var L=N.element,K=L[0].kendoBindingTarget;if(K){b(L,K.source,M)}}q.unbind=C;q.bind=b;q.data.binders=e;q.data.Binder=d;q.notify=s;q.observable=function(K){if(!(K instanceof v)){K=new v(K)}return K};q.observableHierarchy=function(K){var L=q.data.HierarchicalDataSource.create(K);function M(O){var P,N;for(P=0;P<O.length;P++){O[P]._initChildren();N=O[P].children;N.fetch();O[P].items=N.data();M(O[P].items)}}L.fetch();M(L.data());L._data._dataSource=L;return L._data}})(window.kendo.jQuery);kendo_module({id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]});(function(a,w){var l=window.kendo,z=l.ui.Widget,p=".kendoValidator",j="k-invalid-msg",k=new RegExp(j,"i"),i="k-invalid",e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,x=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,h=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",c=":checkbox:not([disabled],[readonly])",q="[type=number],[type=range]",b="blur",n="name",f="form",o="novalidate",u=a.proxy,t=function(B,A){if(typeof A==="string"){A=new RegExp("^(?:"+A+")$")}return A.test(B)},m=function(A,C,B){var D=A.val();if(A.filter(C).length&&D!==""){return t(D,B)}return true},g=function(A,B){if(A.length){return A[0].attributes[B]!=null}return false};if(!l.ui.validator){l.ui.validator={rules:{},messages:{}}}function v(A){var C=l.ui.validator.ruleResolvers||{},D={},B;for(B in C){a.extend(true,D,C[B].resolve(A))}return D}function d(A){return A.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function r(A){A=(A+"").split(".");if(A.length>1){return A[1].length}return 0}function s(A){if(a.parseHTML){return a(a.parseHTML(A))}return a(A)}var y=z.extend({init:function(A,B){var D=this,C=v(A);B=B||{};B.rules=a.extend({},l.ui.validator.rules,C.rules,B.rules);B.messages=a.extend({},l.ui.validator.messages,C.messages,B.messages);z.fn.init.call(D,A,B);D._errorTemplate=l.template(D.options.errorTemplate);if(D.element.is(f)){D.element.attr(o,o)}D._errors={};D._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(B){var A=B.filter("[type=checkbox]").length&&!B.is(":checked"),C=B.val();return !(g(B,"required")&&(C===""||!C||A))},pattern:function(A){if(A.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&A.val()!==""){return t(A.val(),A.attr("pattern"))}return true},min:function(A){if(A.filter(q+",["+l.attr("type")+"=number]").filter("[min]").length&&A.val()!==""){var B=parseFloat(A.attr("min"))||0,C=l.parseFloat(A.val());return B<=C}return true},max:function(A){if(A.filter(q+",["+l.attr("type")+"=number]").filter("[max]").length&&A.val()!==""){var B=parseFloat(A.attr("max"))||0,C=l.parseFloat(A.val());return B>=C}return true},step:function(B){if(B.filter(q+",["+l.attr("type")+"=number]").filter("[step]").length&&B.val()!==""){var C=parseFloat(B.attr("min"))||0,E=parseFloat(B.attr("step"))||1,F=parseFloat(B.val()),A=r(E),D;if(A){D=Math.pow(10,A);return(((F-C)*D)%(E*D))/Math.pow(100,A)===0}return((F-C)%E)===0}return true},email:function(A){return m(A,"[type=email],["+l.attr("type")+"=email]",e)},url:function(A){return m(A,"[type=url],["+l.attr("type")+"=url]",x)},date:function(A){if(A.filter("[type^=date],["+l.attr("type")+"=date]").length&&A.val()!==""){return l.parseDate(A.val(),A.attr(l.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){z.fn.destroy.call(this);this.element.off(p)},_submit:function(A){if(!this.validate()){A.stopPropagation();A.stopImmediatePropagation();A.preventDefault();return false}return true},_attachEvents:function(){var A=this;if(A.element.is(f)){A.element.on("submit"+p,u(A._submit,A))}if(A.options.validateOnBlur){if(!A.element.is(h)){A.element.on(b+p,h,function(){A.validateInput(a(this))});A.element.on("click"+p,c,function(){A.validateInput(a(this))})}else{A.element.on(b+p,function(){A.validateInput(A.element)});if(A.element.is(c)){A.element.on("click"+p,function(){A.validateInput(A.element)})}}}},validate:function(){var B;var A;var E=false;var D;this._errors={};if(!this.element.is(h)){var C=false;B=this.element.find(h);for(A=0,D=B.length;A<D;A++){if(!this.validateInput(B.eq(A))){C=true}}E=!C}else{E=this.validateInput(this.element)}this.trigger("validate",{valid:E});return E},validateInput:function(C){C=a(C);var I=this,H=I._errorTemplate,G=I._checkValidity(C),J=G.valid,A="."+j,B=(C.attr(n)||""),D=I._findMessageContainer(B).add(C.next(A)).hide(),F;C.removeAttr("aria-invalid");if(!J){F=I._extractMessage(C,G.key);I._errors[B]=F;var E=s(H({message:d(F)}));I._decorateMessageContainer(E,B);if(!D.replaceWith(E).length){E.insertAfter(C)}E.show();C.attr("aria-invalid",true)}C.toggleClass(i,!J);return J},hideMessages:function(){var C=this,A="."+j,B=C.element;if(!B.is(h)){B.find(A).hide()}else{B.next(A).hide()}},_findMessageContainer:function(E){var H=l.ui.validator.messageLocators,I,C=a(),B=this.element[0].getElementsByTagName("*");for(var F=0,G=B.length;F<G;F++){var D=B[F];if(k.test(D.className)){var A=D.getAttribute(l.attr("for"));if(A===E){C=C.add(D)}}}for(I in H){C=C.add(H[I].locate(this.element,E))}return C},_decorateMessageContainer:function(A,B){var C=l.ui.validator.messageLocators,D;A.addClass(j).attr(l.attr("for"),B||"");for(D in C){C[D].decorate(A,B)}A.attr("role","alert")},_extractMessage:function(C,D){var E=this,A=E.options.messages[D],B=C.attr(n);A=a.isFunction(A)?A(C):A;return l.format(C.attr(l.attr(D+"-msg"))||C.attr("validationMessage")||C.attr("title")||A||"",B,C.attr(D))},_checkValidity:function(A){var C=this.options.rules,B;for(B in C){if(!C[B](A)){return{valid:false,key:B}}}return{valid:true}},errors:function(){var C=[],B=this._errors,A;for(A in B){C.push(B[A])}return C}});l.ui.plugin(y)})(window.kendo.jQuery);kendo_module({id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true});(function(a,C){var n=window.kendo,x=n.support,e=window.document,c=n.Class,q=n.Observable,p=a.now,g=a.extend,r=x.mobileOS,m=r&&r.android,d=x.browser.ie?5:0,s="press",v="select",w="start",o="move",f="end",b="cancel",y="tap",u="release",j="gesturestart",h="gesturechange",i="gestureend",k="gesturetap";function B(H,I){var J=H.x.location,L=H.y.location,K=I.x.location,M=I.y.location,F=J-K,G=L-M;return{center:{x:(J+K)/2,y:(L+M)/2},distance:Math.sqrt(F*F+G*G)}}function l(H){var M=[],K=H.originalEvent,G=H.currentTarget,I=0,J,F,L;if(H.api){M.push({id:2,event:H,target:H.target,currentTarget:H.target,location:H})}else{if(H.type.match(/touch/)){F=K?K.changedTouches:[];for(J=F.length;I<J;I++){L=F[I];M.push({location:L,event:H,target:L.target,currentTarget:G,id:L.identifier})}}else{if(x.pointers||x.msPointers){M.push({location:K,event:H,target:H.target,currentTarget:G,id:K.pointerId})}else{M.push({id:1,event:H,target:H.target,currentTarget:G,location:H})}}}return M}var A=c.extend({init:function(F,G){var H=this;H.axis=F;H._updateLocationData(G);H.startLocation=H.location;H.velocity=H.delta=0;H.timeStamp=p()},move:function(F){var H=this,G=F["page"+H.axis],J=p(),I=(J-H.timeStamp)||1;if(!G&&m){return}H.delta=G-H.location;H._updateLocationData(F);H.initialDelta=G-H.startLocation;H.velocity=H.delta/I;H.timeStamp=J},_updateLocationData:function(G){var H=this,F=H.axis;H.location=G["page"+F];H.client=G["client"+F];H.screen=G["screen"+F]}});var z=c.extend({init:function(I,F,H){var G=this;g(G,{x:new A("X",H.location),y:new A("Y",H.location),userEvents:I,target:F,currentTarget:H.currentTarget,initialTouch:H.target,id:H.id,_moved:false,_finished:false});G.notifyInit=function(){G._trigger(s,H)}},move:function(G){var F=this;if(F._finished){return}F.x.move(G.location);F.y.move(G.location);if(!F._moved){if(F._withinIgnoreThreshold()){return}if(!D.current||D.current===F.userEvents){F._start(G)}else{return F.dispose()}}if(!F._finished){F._trigger(o,G)}},end:function(G){var F=this;F.endTime=p();if(F._finished){return}if(F._moved){F._trigger(f,G)}else{F._trigger(y,G)}F._trigger(u,G);F.dispose()},dispose:function(){var G=this,H=G.userEvents,F=H.touches;G._finished=true;F.splice(a.inArray(G,F),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(F){this.startTime=p();this._moved=true;this._trigger(w,F)},_trigger:function(H,J){var I=this,G=J.event,F={touch:I,x:I.x,y:I.y,target:I.target,event:G};if(I.userEvents.notify(H,F)){G.preventDefault()}},_withinIgnoreThreshold:function(){var F=this.x.initialDelta,G=this.y.initialDelta;return Math.sqrt(F*F+G*G)<=this.userEvents.threshold}});function t(F){F.preventDefault();var I=a(F.data.root),H=I.closest(".k-widget").parent();if(!H[0]){H=I.parent()}var G=a.extend(true,{},F,{target:I[0]});H.trigger(a.Event(F.type,G))}function E(F){var G=n.eventMap.up.split(" "),H=0,I=G.length;for(;H<I;H++){F(G[H])}}var D=q.extend({init:function(F,I){var L=this,G,H=n.guid();I=I||{};G=L.filter=I.filter;L.threshold=I.threshold||d;L.touches=[];L._maxTouches=I.multiTouch?2:1;L.allowSelection=I.allowSelection;L.captureUpIfMoved=I.captureUpIfMoved;L.eventNS=H;F=a(F).handler(L);q.fn.init.call(L);g(L,{element:F,surface:I.global?a(e.documentElement):a(I.surface||F),stopPropagation:I.stopPropagation,pressed:false});L.surface.handler(L).on(n.applyEventMap("move",H),"_move").on(n.applyEventMap("up cancel",H),"_end");F.on(n.applyEventMap("down",H),G,"_start");if(x.pointers||x.msPointers){F.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(I.preventDragEvent){F.on(n.applyEventMap("dragstart",H),n.preventDefault)}F.on(n.applyEventMap("mousedown selectstart",H),G,{root:F},"_select");if(L.captureUpIfMoved&&x.eventCapture){var K=L.surface[0],J=a.proxy(L.preventIfMoving,L);E(function(M){K.addEventListener(M,J,true)})}L.bind([s,y,w,o,f,u,b,j,h,i,k,v],I)},preventIfMoving:function(F){if(this._isMoved()){F.preventDefault()}},destroy:function(){var G=this;if(G._destroyed){return}G._destroyed=true;if(G.captureUpIfMoved&&x.eventCapture){var F=G.surface[0];E(function(H){F.removeEventListener(H,G.preventIfMoving)})}G.element.kendoDestroy(G.eventNS);G.surface.kendoDestroy(G.eventNS);G.element.removeData("handler");G.surface.removeData("handler");G._disposeAll();G.unbind();delete G.surface;delete G.element},capture:function(){D.current=this},cancel:function(){this._disposeAll();this.trigger(b)},notify:function(G,F){var H=this,I=H.touches;if(this._isMultiTouch()){switch(G){case o:G=h;break;case f:G=i;break;case y:G=k;break}g(F,{touches:I},B(I[0],I[1]))}return this.trigger(G,F)},press:function(G,H,F){this._apiCall("_start",G,H,F)},move:function(F,G){this._apiCall("_move",F,G)},end:function(F,G){this._apiCall("_end",F,G)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){a.each(this.touches,function(){this.dispose()})},_isMoved:function(){return a.grep(this.touches,function(F){return F.isMoved()}).length},_select:function(F){if(!this.allowSelection||this.trigger(v,{event:F})){t(F)}},_start:function(F){var K=this,H=0,G=K.filter,J,M=l(F),I=M.length,L;if(K._maxTouchesReached()){return}D.current=null;K.currentTarget=F.currentTarget;if(K.stopPropagation){F.stopPropagation()}for(;H<I;H++){if(K._maxTouchesReached()){break}L=M[H];if(G){J=a(L.currentTarget)}else{J=K.element}if(!J.length){continue}L=new z(K,J,L);K.touches.push(L);L.notifyInit();if(K._isMultiTouch()){K.notify("gesturestart",{})}}},_move:function(F){this._eachTouch("move",F)},_end:function(F){this._eachTouch("end",F)},_eachTouch:function(K,H){var L=this,G={},N=l(H),F=L.touches,I,M,O,J;for(I=0;I<F.length;I++){M=F[I];G[M.id]=M}for(I=0;I<N.length;I++){O=N[I];J=G[O.id];if(J){J[K](O)}}},_apiCall:function(G,H,I,F){this[G]({api:true,pageX:H,pageY:I,target:F||this.element,stopPropagation:a.noop,preventDefault:a.noop})}});n.getTouches=l;n.touchDelta=B;n.UserEvents=D})(window.kendo.jQuery);kendo_module({id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]});(function(a,P){var y=window.kendo,L=y.support,g=window.document,d=y.Class,R=y.ui.Widget,E=y.Observable,Q=y.UserEvents,K=a.proxy,v=a.extend,w=y.getOffset,m={},t={},q={},A,F=L.mobileOS,x=F&&F.android,B=(x&&F.browser=="chrome"),z="keyup",b="change",o="dragstart",h="drag",j="dragend",i="dragcancel",k="dragenter",n="dragleave",p="drop";function f(V,T){try{return a.contains(V,T)||V==T}catch(U){return false}}function u(T){if(B){return g.elementFromPoint(T.x.screen,T.y.screen)}else{return g.elementFromPoint(T.x.client,T.y.client)}}function D(T,U){return parseInt(T.css(U),10)||0}function S(U,T){return Math.min(Math.max(U,T.min),T.max)}function e(T,U){var Z=w(T),X=Z.left+D(T,"borderLeftWidth")+D(T,"paddingLeft"),Y=Z.top+D(T,"borderTopWidth")+D(T,"paddingTop"),V=X+T.width()-U.outerWidth(true),W=Y+T.height()-U.outerHeight(true);return{x:{min:X,max:V},y:{min:Y,max:W}}}function c(W,Y,U){var aa,Z,V=0,X=Y&&Y.length,T=U&&U.length;while(W&&W.parentNode){for(V=0;V<X;V++){aa=Y[V];if(aa.element[0]===W){return{target:aa,targetElement:W}}}for(V=0;V<T;V++){Z=U[V];if(L.matchesSelector.call(W,Z.options.filter)){return{target:Z,targetElement:W}}}W=W.parentNode}return P}var M=E.extend({init:function(U,V){var W=this,T=U[0];W.capture=false;a.each(y.eventMap.down.split(" "),function(){T.addEventListener(this,K(W._press,W),true)});a.each(y.eventMap.up.split(" "),function(){T.addEventListener(this,K(W._release,W),true)});E.fn.init.call(W);W.bind(["press","release"],V||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(T){var U=this;U.trigger("press");if(U.capture){T.preventDefault()}},_release:function(T){var U=this;U.trigger("release");if(U.capture){T.preventDefault();U.cancelCapture()}}});var I=E.extend({init:function(T){var U=this;E.fn.init.call(U);U.forcedEnabled=false;a.extend(U,T);U.scale=1;if(U.horizontal){U.measure="offsetWidth";U.scrollSize="scrollWidth";U.axis="x"}else{U.measure="offsetHeight";U.scrollSize="scrollHeight";U.axis="y"}},makeVirtual:function(){a.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:1000,_virtualMax:-1000})},virtualSize:function(U,T){if(this._virtualMin!==U||this._virtualMax!==T){this._virtualMin=U;this._virtualMax=T;this.update()}},outOfBounds:function(T){return T>this.max||T<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(T){this.scale=T},update:function(U){var W=this,X=W.virtual?W._virtualMax:W.getTotal(),T=X*W.scale,V=W.getSize();W.max=W.virtual?-W._virtualMin:0;W.size=V;W.total=T;W.min=Math.min(W.max,V-T);W.minScale=V/X;W.centerOffset=(T-V)/2;W.enabled=W.forcedEnabled||(T>V);if(!U){W.trigger(b,W)}}});var J=E.extend({init:function(T){var V=this,U=K(V.refresh,V);E.fn.init.call(V);V.x=new I(v({horizontal:true},T));V.y=new I(v({horizontal:false},T));V.forcedMinScale=T.minScale;V.bind(b,T);y.onResize(U)},rescale:function(T){this.x.rescale(T);this.y.rescale(T);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var T=this;T.x.update();T.y.update();T.enabled=T.x.enabled||T.y.enabled;T.minScale=T.forcedMinScale||Math.min(T.x.minScale,T.y.minScale);T.fitScale=Math.max(T.x.minScale,T.y.minScale);T.trigger(b)}});var H=E.extend({init:function(T){var U=this;v(U,T);E.fn.init.call(U)},dragMove:function(U){var Y=this,V=Y.dimension,T=Y.axis,W=Y.movable,X=W[T]+U;if(!V.enabled){return}if((X<V.min&&U<0)||(X>V.max&&U>0)){U*=Y.resistance}W.translateAxis(T,U);Y.trigger(b,Y)}});var G=d.extend({init:function(U){var W=this,X,Y,V,T;v(W,{elastic:true},U);V=W.elastic?0.5:0;T=W.movable;W.x=X=new H({axis:"x",dimension:W.dimensions.x,resistance:V,movable:T});W.y=Y=new H({axis:"y",dimension:W.dimensions.y,resistance:V,movable:T});W.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(Z){W.gesture=Z},gesturechange:function(ab){var ae=W.gesture,ad=ae.center,Z=ab.center,af=ab.distance/ae.distance,ac=W.dimensions.minScale,aa;if(T.scale<=ac&&af<1){af+=(1-af)*0.8}aa={x:(T.x-ad.x)*af+Z.x-T.x,y:(T.y-ad.y)*af+Z.y-T.y};T.scaleWith(af);X.dragMove(aa.x);Y.dragMove(aa.y);W.dimensions.rescale(T.scale);W.gesture=ab;ab.preventDefault()},move:function(Z){if(Z.event.target.tagName.match(/textarea|input/i)){return}if(X.dimension.enabled||Y.dimension.enabled){X.dragMove(Z.x.delta);Y.dragMove(Z.y.delta);Z.preventDefault()}else{Z.touch.skip()}},end:function(Z){Z.preventDefault()}})}});var N=L.transitions.prefix+"Transform",O;if(L.hasHW3D){O=function(U,V,T){return"translate3d("+U+"px,"+V+"px,0) scale("+T+")"}}else{O=function(U,V,T){return"translate("+U+"px,"+V+"px) scale("+T+")"}}var C=E.extend({init:function(T){var U=this;E.fn.init.call(U);U.element=a(T);U.element[0].style.webkitTransformOrigin="left top";U.x=0;U.y=0;U.scale=1;U._saveCoordinates(O(U.x,U.y,U.scale))},translateAxis:function(T,U){this[T]+=U;this.refresh()},scaleTo:function(T){this.scale=T;this.refresh()},scaleWith:function(T){this.scale*=T;this.refresh()},translate:function(T){this.x+=T.x;this.y+=T.y;this.refresh()},moveAxis:function(T,U){this[T]=U;this.refresh()},moveTo:function(T){v(this,T);this.refresh()},refresh:function(){var U=this,T=O(U.x,U.y,U.scale);if(T!=U.coordinates){U.element[0].style[N]=T;U._saveCoordinates(T);U.trigger(b)}},_saveCoordinates:function(T){this.coordinates=T}});var r=R.extend({init:function(T,V){var W=this;R.fn.init.call(W,T,V);var U=W.options.group;if(!(U in t)){t[U]=[W]}else{t[U].push(W)}},events:[k,n,p],options:{name:"DropTarget",group:"default"},destroy:function(){var U=this.options.group,T=t[U]||q[U],V;if(T.length>1){R.fn.destroy.call(this);for(V=0;V<T.length;V++){if(T[V]==this){T.splice(V,1);break}}}else{r.destroyGroup(U)}},_trigger:function(V,U){var W=this,T=m[W.options.group];if(T){return W.trigger(V,v({},U.event,{draggable:T,dropTarget:U.dropTarget}))}},_over:function(T){this._trigger(k,T)},_out:function(T){this._trigger(n,T)},_drop:function(U){var V=this,T=m[V.options.group];if(T){T.dropped=!V._trigger(p,U)}}});r.destroyGroup=function(U){var T=t[U]||q[U],V;if(T){for(V=0;V<T.length;V++){R.fn.destroy.call(T[V])}T.length=0;delete t[U];delete q[U]}};r._cache=t;var s=r.extend({init:function(T,V){var W=this;R.fn.init.call(W,T,V);var U=W.options.group;if(!(U in q)){q[U]=[W]}else{q[U].push(W)}},options:{name:"DropTargetArea",group:"default",filter:null}});var l=R.extend({init:function(T,U){var V=this;R.fn.init.call(V,T,U);V.userEvents=new Q(V.element,{global:true,stopPropagation:true,filter:V.options.filter,threshold:V.options.distance,start:K(V._start,V),move:K(V._drag,V),end:K(V._end,V),cancel:K(V._cancel,V)});V._afterEndHandler=K(V._afterEnd,V);V.captureEscape=function(W){if(W.keyCode===y.keys.ESC){V._trigger(i,{event:W});V.userEvents.cancel()}}},events:[o,h,j,i],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:false},_updateHint:function(X){var Z=this,V,Y=Z.options,U=Z.boundaries,T=Y.axis,W=Z.options.cursorOffset;if(W){V={left:X.x.location+W.left,top:X.y.location+W.top}}else{Z.hintOffset.left+=X.x.delta;Z.hintOffset.top+=X.y.delta;V=a.extend({},Z.hintOffset)}if(U){V.top=S(V.top,U.y);V.left=S(V.left,U.x)}if(T==="x"){delete V.top}else{if(T==="y"){delete V.left}}Z.hint.css(V)},_start:function(U){var Y=this,X=Y.options,T=X.container,V=X.hint;Y.currentTarget=U.target;Y.currentTargetOffset=w(Y.currentTarget);if(V){if(Y.hint){Y.hint.stop(true,true).remove()}Y.hint=a.isFunction(V)?a(V.call(Y,Y.currentTarget)):V;var W=w(Y.currentTarget);Y.hintOffset=W;Y.hint.css({position:"absolute",zIndex:20000,left:W.left,top:W.top}).appendTo(g.body)}m[X.group]=Y;Y.dropped=false;if(T){Y.boundaries=e(T,Y.hint)}if(Y._trigger(o,U)){Y.userEvents.cancel();Y._afterEnd()}a(g).on(z,Y.captureEscape)},_drag:function(T){var U=this;T.preventDefault();U._withDropTarget(T,function(V,W){if(!V){if(A){A._trigger(n,v(T,{dropTarget:a(A.targetElement)}));A=null}return}if(A){if(W===A.targetElement){return}A._trigger(n,v(T,{dropTarget:a(A.targetElement)}))}V._trigger(k,v(T,{dropTarget:a(W)}));A=v(V,{targetElement:W})});U._trigger(h,T);if(U.hint){U._updateHint(T)}},_end:function(T){var U=this;U._withDropTarget(T,function(V,W){if(V){V._drop(v({},T,{dropTarget:a(W)}));A=null}});U._trigger(j,T);U._cancel(T.event)},_cancel:function(){var T=this;if(T.hint&&!T.dropped){setTimeout(function(){T.hint.stop(true,true).animate(T.currentTargetOffset,"fast",T._afterEndHandler)},0)}else{T._afterEnd()}},_trigger:function(U,T){var V=this;return V.trigger(U,v({},T.event,{x:T.x,y:T.y,currentTarget:V.currentTarget,dropTarget:T.dropTarget}))},_withDropTarget:function(V,U){var aa=this,Y,X,W=aa.options,Z=t[W.group],T=q[W.group];if(Z&&Z.length||T&&T.length){Y=u(V);if(aa.hint&&f(aa.hint[0],Y)){aa.hint.hide();Y=u(V);if(!Y){Y=u(V)}aa.hint.show()}X=c(Y,Z,T);if(X){U(X.target,X.targetElement)}else{U()}}},destroy:function(){var T=this;R.fn.destroy.call(T);T._afterEnd();T.userEvents.destroy()},_afterEnd:function(){var T=this;if(T.hint){T.hint.remove()}delete m[T.options.group];T.trigger("destroy");a(g).off(z,T.captureEscape)}});y.ui.plugin(r);y.ui.plugin(s);y.ui.plugin(l);y.TapCapture=M;y.containerBoundaries=e;v(y.ui,{Pane:G,PaneDimensions:J,Movable:C})})(window.kendo.jQuery);kendo_module({id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["core","fx","draganddrop"]});(function(a,C){var j=window.kendo,l=j.mobile,i=j.effects,B=l.ui,q=a.proxy,g=a.extend,E=B.Widget,e=j.Class,m=j.ui.Movable,o=j.ui.Pane,p=j.ui.PaneDimensions,A=i.Transition,c=i.Animation,b=Math.abs,z=500,x=0.7,h=0.96,D=10,k=55,n=0.5,t="km-scroller-release",s="km-scroller-refresh",r="pull",d="change",u="resize",v="scroll";var F=c.extend({init:function(G){var H=this;c.fn.init.call(H);g(H,G);H.userEvents.bind("gestureend",q(H.start,H));H.tapCapture.bind("press",q(H.cancel,H))},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var G=this.movable;G.scaleWith(1.1);this.dimensions.rescale(G.scale)},onEnd:function(){var G=this.movable;G.scaleTo(this.dimensions.minScale);this.dimensions.rescale(G.scale)}});var f=c.extend({init:function(G){var H=this;c.fn.init.call(H);g(H,G,{transition:new A({axis:G.axis,movable:G.movable,onEnd:function(){H._end()}})});H.tapCapture.bind("press",function(){H.cancel()});H.userEvents.bind("end",q(H.start,H));H.userEvents.bind("gestureend",q(H.start,H));H.userEvents.bind("tap",q(H.onEnd,H))},onCancel:function(){this.transition.cancel()},freeze:function(G){var H=this;H.cancel();H._moveTo(G)},onEnd:function(){var G=this;if(G._outOfBounds()){G._snapBack()}else{G._end()}},done:function(){return b(this.velocity)<1},start:function(G){var H=this;if(!H.dimension.enabled){return}if(H._outOfBounds()){H._snapBack()}else{H.velocity=Math.max(Math.min(G.touch[H.axis].velocity*D,k),-k);if(H.velocity){H.tapCapture.captureNext();c.fn.start.call(H)}}},tick:function(){var K=this,H=K.dimension,I=K._outOfBounds()?n:h,G=(K.velocity*=I),J=K.movable[K.axis]+G;if(!K.elastic&&H.outOfBounds(J)){J=Math.max(Math.min(J,H.max),H.min);K.velocity=0}K.movable.moveAxis(K.axis,J)},_end:function(){this.tapCapture.cancelCapture();this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var I=this,G=I.dimension,H=I.movable[I.axis]>G.max?G.max:G.min;I._moveTo(H)},_moveTo:function(G){this.transition.moveTo({location:G,duration:z,ease:A.easeOutExpo})}});var w=e.extend({init:function(I){var J=this,H=I.axis==="x",G=a('<div class="km-touch-scrollbar km-'+(H?"horizontal":"vertical")+'-scrollbar" />');g(J,I,{element:G,elementSize:0,movable:new m(G),scrollMovable:I.movable,size:H?"width":"height"});J.scrollMovable.bind(d,q(J._move,J));J.container.append(G)},_move:function(){var N=this,G=N.axis,H=N.dimension,I=H.size,K=N.scrollMovable,M=I/H.total,J=Math.round(-K[G]*M),L=Math.round(I*M);if(J+L>I){L=I-J}else{if(J<0){L+=J;J=0}}if(N.elementSize!=L){N.element.css(N.size,L+"px");N.elementSize=L}N.movable.moveAxis(G,J)},show:function(){this.element.css({opacity:x,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}});var y=E.extend({init:function(I,L){var O=this;E.fn.init.call(O,I,L);I=O.element;O._native=O.options.useNative&&j.support.hasNativeScrolling;if(O._native){I.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');g(O,{scrollElement:I,fixedContainer:I.children().first()});return}I.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var J=I.children().eq(1),N=new j.TapCapture(I),K=new m(J),H=new p({element:J,container:I,forcedEnabled:O.options.zoom,change:function(){O.trigger(u)}}),G=this.options.avoidScrolling,P=new j.UserEvents(I,{allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:O.options.zoom,start:function(R){H.refresh();var T=b(R.x.velocity),U=b(R.y.velocity),S=T*2>=U,V=U*2>=T;if(!G(R)&&O.enabled&&(H.x.enabled&&S||H.y.enabled&&V)){P.capture()}else{P.cancel()}}}),M=new o({movable:K,dimensions:H,userEvents:P,elastic:O.options.elastic}),Q=new F({movable:K,dimensions:H,userEvents:P,tapCapture:N});K.bind(d,function(){O.scrollTop=-K.y;O.scrollLeft=-K.x;O.trigger(v,{scrollTop:O.scrollTop,scrollLeft:O.scrollLeft})});g(O,{movable:K,dimensions:H,zoomSnapBack:Q,userEvents:P,pane:M,tapCapture:N,pulled:false,enabled:true,scrollElement:J,scrollTop:0,scrollLeft:0,fixedContainer:I.children().first()});O._initAxis("x");O._initAxis("y");H.refresh();if(O.options.pullToRefresh){O._initPullToRefresh()}j.onResize(a.proxy(O.reset,O))},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(H,G){this.dimensions.y.virtualSize(H,G)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,elastic:true,useNative:false,avoidScrolling:function(){return false},pullToRefresh:false,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[r,v,u],setOptions:function(G){var H=this;E.fn.setOptions.call(H,G);if(G.pullToRefresh){H._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},zoomOut:function(){var G=this.dimensions;G.refresh();this._scale(G.fitScale);this.movable.moveTo(G.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(G,H){this.dimensions.refresh();this.movable.moveTo({x:G,y:H})},pullHandled:function(){var G=this;G.refreshHint.removeClass(s);G.hintContainer.html(G.pullTemplate({}));G.yinertia.onEnd();G.xinertia.onEnd()},destroy:function(){E.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(G){this.dimensions.rescale(G);this.movable.scaleTo(G)},_initPullToRefresh:function(){var G=this;G.dimensions.y.forceEnabled();G.pullTemplate=j.template(G.options.pullTemplate);G.releaseTemplate=j.template(G.options.releaseTemplate);G.refreshTemplate=j.template(G.options.refreshTemplate);G.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+G.pullTemplate({})+"</span></span>");G.refreshHint=G.scrollElement.children().first();G.hintContainer=G.refreshHint.children(".km-template");G.pane.y.bind("change",q(G._paneChange,G));G.userEvents.bind("end",q(G._dragEnd,G))},_dragEnd:function(){var G=this;if(!G.pulled){return}G.pulled=false;G.refreshHint.removeClass(t).addClass(s);G.hintContainer.html(G.refreshTemplate({}));G.yinertia.freeze(G.options.pullOffset/2);G.trigger("pull")},_paneChange:function(){var G=this;if(G.movable.y/n>G.options.pullOffset){if(!G.pulled){G.pulled=true;G.refreshHint.removeClass(s).addClass(t);G.hintContainer.html(G.releaseTemplate({}))}}else{if(G.pulled){G.pulled=false;G.refreshHint.removeClass(t);G.hintContainer.html(G.pullTemplate({}))}}},_initAxis:function(G){var L=this,I=L.movable,H=L.dimensions[G],K=L.tapCapture,J=new w({axis:G,movable:I,dimension:H,container:L.element});L.pane[G].bind(d,function(){J.show()});L[G+"inertia"]=new f({axis:G,movable:I,tapCapture:K,userEvents:L.userEvents,dimension:H,elastic:L.options.elastic,end:function(){J.hide();L.trigger("scrollEnd",{axis:G,scrollTop:L.scrollTop,scrollLeft:L.scrollLeft})}})}});B.plugin(y)})(window.kendo.jQuery);kendo_module({id:"groupable",name:"Groupable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(a,l){var h=window.kendo,m=h.ui.Widget,k=a.proxy,g=false,j=".kendoGroupable",f=h.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),e=function(n){return a('<div class="k-header k-drag-clue" />').css({width:n.width(),paddingLeft:n.css("paddingLeft"),paddingRight:n.css("paddingRight"),lineHeight:n.height()+"px",paddingTop:n.css("paddingTop"),paddingBottom:n.css("paddingBottom")}).html(n.attr(h.attr("title"))||n.attr(h.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},b=a('<div class="k-grouping-dropclue"/>'),i=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;function c(n){return n.position().top+3}var d=m.extend({init:function(p,u){var v=this,r,q=h.guid(),t=k(v._intializePositions,v),n,s,o=v._dropCuePositions=[];m.fn.init.call(v,p,u);g=h.support.isRtl(p);s=g?"right":"left";v.draggable=n=v.options.draggable||new h.ui.Draggable(v.element,{filter:v.options.draggableElements,hint:e,group:q});r=v.groupContainer=a(v.options.groupContainer,v.element).kendoDropTarget({group:n.options.group,dragenter:function(w){if(v._canDrag(w.draggable.currentTarget)){w.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");b.css("top",c(r)).css(s,0).appendTo(r)}},dragleave:function(w){w.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");b.remove()},drop:function(x){var C=x.draggable.currentTarget,y=C.attr(h.attr("field")),D=C.attr(h.attr("title")),B=v.indicator(y),w=v._dropCuePositions,z=w[w.length-1],A;if(!C.hasClass("k-group-indicator")&&!v._canDrag(C)){return}if(z){A=v._dropCuePosition(h.getOffset(b).left+parseInt(z.element.css("marginLeft"),10)*(g?-1:1)+parseInt(z.element.css("marginRight"),10));if(A&&v._canDrop(a(B),A.element,A.left)){if(A.before){A.element.before(B||v.buildIndicator(y,D))}else{A.element.after(B||v.buildIndicator(y,D))}v._change()}}else{v.groupContainer.append(v.buildIndicator(y,D));v._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:e,group:n.options.group,dragcancel:k(v._dragCancel,v),dragstart:function(w){var x=w.currentTarget,A=parseInt(x.css("marginLeft"),10),y=x.position(),z=g?y.left-A:y.left+x.outerWidth();t();b.css({top:c(r),left:z}).appendTo(r);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){v._dragEnd(this)},drag:k(v._drag,v)}).on("click"+j,".k-button",function(w){w.preventDefault();v._removeIndicator(a(this).parent())}).on("click"+j,".k-link",function(x){var w=a(this).parent(),y=v.buildIndicator(w.attr(h.attr("field")),w.attr(h.attr("title")),w.attr(h.attr("dir"))=="asc"?"desc":"asc");w.before(y).remove();v._change();x.preventDefault()});n.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){v._dragEnd(this)},dragcancel:k(v._dragCancel,v),dragstart:function(w){var x,z,y;if(!v.options.allowDrag&&!v._canDrag(w.currentTarget)){w.preventDefault();return}t();if(o.length){x=o[o.length-1].element;z=parseInt(x.css("marginRight"),10);y=x.position().left+x.outerWidth()+z}else{y=0}},drag:k(v._drag,v)});v.dataSource=v.options.dataSource;if(v.dataSource){v._refreshHandler=k(v.refresh,v);v.dataSource.bind("change",v._refreshHandler)}},refresh:function(){var o=this,n=o.dataSource;o.groupContainer.empty().append(a.map(n.group()||[],function(r){var q=r.field.replace(i,"\\$1");var p=o.element.find(o.options.filter).filter("["+h.attr("field")+"="+q+"]");return o.buildIndicator(r.field,p.attr(h.attr("title")),r.dir)}).join(""));o._invalidateGroupContainer()},destroy:function(){var n=this;m.fn.destroy.call(n);n.groupContainer.off(j).kendoDropTarget("destroy").kendoDraggable("destroy");if(!n.options.draggable){n.draggable.destroy()}if(n.dataSource&&n._refreshHandler){n.dataSource.unbind("change",n._refreshHandler)}},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(n){var o=a(".k-group-indicator",this.groupContainer);return a.grep(o,function(p){return a(p).attr(h.attr("field"))===n})[0]},buildIndicator:function(o,p,n){return f({field:o.replace(/"/g,"'"),dir:n,title:p,ns:h.ns})},descriptors:function(){var t=this,q=a(".k-group-indicator",t.groupContainer),n,s,o,p,r;n=t.element.find(t.options.filter).map(function(){var v=a(this),u=v.attr(h.attr("aggregates")),w=v.attr(h.attr("field"));if(u&&u!==""){s=u.split(",");u=[];for(p=0,r=s.length;p<r;p++){u.push({field:w,aggregate:s[p]})}}return u}).toArray();return a.map(q,function(u){u=a(u);o=u.attr(h.attr("field"));return{field:o,dir:u.attr(h.attr("dir")),aggregates:n||[]}})},_removeIndicator:function(n){var o=this;n.remove();o._invalidateGroupContainer();o._change()},_change:function(){var n=this;if(n.dataSource){n.dataSource.group(n.descriptors())}},_dropCuePosition:function(s){var n=this._dropCuePositions;if(!b.is(":visible")||n.length===0){return}s=Math.ceil(s);var o=n[n.length-1],p=o.left,t=o.right,q=parseInt(o.element.css("marginLeft"),10),r=parseInt(o.element.css("marginRight"),10);if(s>=t&&!g||s<p&&g){s={left:o.element.position().left+(!g?o.element.outerWidth()+r:-q),element:o.element,before:false}}else{s=a.grep(n,function(u){return(u.left<=s&&s<=u.right)||(g&&s>u.right)})[0];if(s){s={left:g?s.element.position().left+s.element.outerWidth()+r:s.element.position().left-q,element:s.element,before:true}}}return s},_drag:function(n){var o=this._dropCuePosition(n.x.location);if(o){b.css({left:o.left,right:"auto"})}},_canDrag:function(n){var o=n.attr(h.attr("field"));return n.attr(h.attr("groupable"))!="false"&&o&&(n.hasClass("k-group-indicator")||!this.indicator(o))},_canDrop:function(q,r,o){var n=q.next(),p=q[0]!==r[0]&&(!n[0]||r[0]!==n[0]||(!g&&o>n.position().left||g&&o<n.position().left));return p},_dragEnd:function(n){var q=this,o=n.currentTarget.attr(h.attr("field")),p=q.indicator(o);if(n!==q.options.draggable&&!n.dropped&&p){q._removeIndicator(a(p))}q._dragCancel()},_dragCancel:function(){b.remove();this._dropCuePositions=[]},_intializePositions:function(){var p=this,n=a(".k-group-indicator",p.groupContainer),o;p._dropCuePositions=a.map(n,function(q){q=a(q);o=h.getOffset(q).left;return{left:parseInt(o,10),right:parseInt(o+q.outerWidth(),10),element:q}})},_invalidateGroupContainer:function(){var n=this.groupContainer;if(n.is(":empty")){n.html(this.options.messages.empty)}}});h.ui.plugin(d)})(window.kendo.jQuery);kendo_module({id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(a,g){var c=window.kendo,h=c.ui.Widget,b="change",d="k-reorderable";function f(j,i){j=a(j);if(i){j.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{j.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var e=h.extend({init:function(j,l){var m=this,i,k=c.guid()+"-reorderable";h.fn.init.call(m,j,l);j=m.element.addClass(d);l=m.options;m.draggable=i=l.draggable||new c.ui.Draggable(j,{group:k,filter:l.filter,hint:l.hint});m.reorderDropCue=a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');j.find(i.options.filter).kendoDropTarget({group:i.options.group,dragenter:function(o){if(!m._draggable){return}var n=this.element,p,q=n[0]===m._draggable[0];f(o.draggable.hint,q);if(!q){p=c.getOffset(n);m.reorderDropCue.css({height:n.outerHeight(),top:p.top,left:p.left+(n.index()>m._draggable.index()?n.outerWidth():0)}).appendTo(document.body)}},dragleave:function(n){f(n.draggable.hint,true);m.reorderDropCue.remove()},drop:function(){if(!m._draggable){return}var o=m._draggable[0],p=this.element[0],n;if(o!==p){n=j.find(i.options.filter);m.trigger(b,{element:m._draggable,oldIndex:n.index(o),newIndex:n.index(p)})}}});i.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){m.reorderDropCue.remove();m._draggable=null},dragend:function(){m.reorderDropCue.remove();m._draggable=null},dragstart:function(n){m._draggable=n.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[b],destroy:function(){var i=this;h.fn.destroy.call(i);if(i.draggable){i.draggable.destroy()}c.destroy(i.element)}});c.ui.plugin(e)})(window.kendo.jQuery);kendo_module({id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(a,l){var e=window.kendo,k=e.ui,n=k.Widget,f=a.proxy,d=a.isFunction,b=a.extend,c="horizontal",m="vertical",j="start",h="resize",i="resizeend";var g=n.extend({init:function(o,p){var q=this;n.fn.init.call(q,o,p);q.orientation=q.options.orientation.toLowerCase()!=m?c:m;q._positionMouse=q.orientation==c?"x":"y";q._position=q.orientation==c?"left":"top";q._sizingDom=q.orientation==c?"outerWidth":"outerHeight";q.draggable=new k.Draggable(o,{distance:0,filter:p.handle,drag:f(q._resize,q),dragcancel:f(q._cancel,q),dragstart:f(q._start,q),dragend:f(q._stop,q)});q.userEvents=q.draggable.userEvents},events:[h,i,j],options:{name:"Resizable",orientation:c},_max:function(o){var r=this,p=r.hint?r.hint[r._sizingDom]():0,q=r.options.max;return d(q)?q(o):q!==l?(r._initialElementPosition+q)-p:q},_min:function(o){var q=this,p=q.options.min;return d(p)?p(o):p!==l?q._initialElementPosition+p:p},_start:function(o){var r=this,q=r.options.hint,p=a(o.currentTarget);r._initialElementPosition=p.position()[r._position];r._initialMousePosition=o[r._positionMouse].startLocation;if(q){r.hint=d(q)?a(q(p)):q;r.hint.css({position:"absolute"}).css(r._position,r._initialElementPosition).appendTo(r.element)}r.trigger(j,o);r._maxPosition=r._max(o);r._minPosition=r._min(o);a(document.body).css("cursor",p.css("cursor"))},_resize:function(p){var u=this,q=a(p.currentTarget),r=u._maxPosition,s=u._minPosition,o=u._initialElementPosition+(p[u._positionMouse].location-u._initialMousePosition),t;t=s!==l?Math.max(s,o):o;u.position=t=r!==l?Math.min(r,t):t;if(u.hint){u.hint.toggleClass(u.options.invalidClass||"",t==r||t==s).css(u._position,t)}u.resizing=true;u.trigger(h,b(p,{position:t}))},_stop:function(o){var p=this;if(p.hint){p.hint.remove()}p.resizing=false;p.trigger(i,b(o,{position:p.position}));a(document.body).css("cursor","")},_cancel:function(o){var p=this;if(p.hint){p.position=l;p.hint.css(p._position,p._initialElementPosition);p._stop(o)}},destroy:function(){var o=this;n.fn.destroy.call(o);if(o.draggable){o.draggable.destroy()}},press:function(p){if(!p){return}var o=p.position(),q=this;q.userEvents.press(o.left,o.top,p[0]);q.targetPosition=o;q.target=p},move:function(p){var s=this,q=s._position,r=s.targetPosition,o=s.position;if(o===l){o=r[q]}r[q]=o+p;s.userEvents.move(r.left,r.top)},end:function(){this.userEvents.end();this.target=this.position=l}});e.ui.plugin(g)})(window.kendo.jQuery);kendo_module({id:"sortable",name:"Sortable",category:"framework",depends:["data"],advanced:true});(function(a,m){var g=window.kendo,i=a.proxy,e="dir",c="asc",j="single",f="field",d="desc",h=".kendoSortable",l=".k-link",b="aria-sort",n=g.ui.Widget;var k=n.extend({init:function(o,q){var r=this,p;n.fn.init.call(r,o,q);r._refreshHandler=i(r.refresh,r);r.dataSource=r.options.dataSource.bind("change",r._refreshHandler);p=r.element.find(l);if(!p[0]){p=r.element.wrapInner('<a class="k-link" href="#"/>').find(l)}r.link=p;r.element.on("click"+h,i(r._click,r))},options:{name:"Sortable",mode:j,allowUnsort:true,compare:null},destroy:function(){var o=this;n.fn.destroy.call(o);o.element.off(h);o.dataSource.unbind("change",o._refreshHandler)},refresh:function(){var v=this,u=v.dataSource.sort()||[],s,t,o,p,q=v.element,r=q.attr(g.attr(f));q.removeAttr(g.attr(e));q.removeAttr(b);for(s=0,t=u.length;s<t;s++){o=u[s];if(r==o.field){q.attr(g.attr(e),o.dir)}}p=q.attr(g.attr(e));q.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(p===c){a('<span class="k-icon k-i-arrow-n" />').appendTo(v.link);q.attr(b,"ascending")}else{if(p===d){a('<span class="k-icon k-i-arrow-s" />').appendTo(v.link);q.attr(b,"descending")}}},_click:function(q){var x=this,r=x.element,s=r.attr(g.attr(f)),p=r.attr(g.attr(e)),v=x.options,o=x.options.compare,w=x.dataSource.sort()||[],t,u;if(p===c){p=d}else{if(p===d&&v.allowUnsort){p=m}else{p=c}}if(v.mode===j){w=[{field:s,dir:p,compare:o}]}else{if(v.mode==="multiple"){for(t=0,u=w.length;t<u;t++){if(w[t].field===s){w.splice(t,1);break}}w.push({field:s,dir:p,compare:o})}}q.preventDefault();x.dataSource.sort(w)}});g.ui.plugin(k)})(window.kendo.jQuery);kendo_module({id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true});(function(a,o){var h=window.kendo,q=h.ui.Widget,j=a.proxy,b=Math.abs,d="aria-selected",m="k-state-selected",c="k-state-selecting",l="k-selectable",e="change",i=".kendoSelectable",p="k-state-unselecting",n=false;(function(r){(function(){r('<div class="parent"><span /></div>').on("click",">*",function(){n=true}).find("span").click().end().off()})()})(a);var k=q.extend({init:function(r,t){var u=this,s;q.fn.init.call(u,r,t);u._marquee=a("<div class='k-marquee'><div class='k-marquee-color'></div></div>");u._lastActive=null;u.element.addClass(l);s=u.options.multiple;u.userEvents=new h.UserEvents(u.element,{global:true,allowSelection:true,filter:(!n?"."+l+" ":"")+u.options.filter,tap:j(u._tap,u)});if(s){u.userEvents.bind("start",j(u._start,u)).bind("move",j(u._move,u)).bind("end",j(u._end,u)).bind("select",j(u._select,u))}},events:[e],options:{name:"Selectable",filter:">*",multiple:false},_tap:function(t){var x=a(t.target),y=this,s=t.event.ctrlKey||t.event.metaKey,u=y.options.multiple,w=u&&t.event.shiftKey,v,z=t.event.which,r=t.event.button;if(x.closest("."+l)[0]!==y.element[0]||z&&z==3||r&&r==2){return}v=x.hasClass(m);if(!u||!s){y.clear()}if(w){y.selectRange(y._firstSelectee(),x)}else{if(v&&s){y._unselect(x);y._notify(e)}else{y.value(x)}y._lastActive=y._downTarget=x}},_start:function(s){var v=this,u=a(s.target),t=u.hasClass(m),r=s.event.ctrlKey||s.event.metaKey;v._downTarget=u;if(u.closest("."+l)[0]!==v.element[0]){v.userEvents.cancel();v._downTarget=null;return}v._marquee.appendTo(document.body).css({left:s.x.client+1,top:s.y.client+1,width:0,height:0});if(!r){v.clear()}if(t){v._selectElement(u,true);if(r){u.addClass(p)}}},_move:function(r){var u=this,t={left:r.x.startLocation>r.x.location?r.x.location:r.x.startLocation,top:r.y.startLocation>r.y.location?r.y.location:r.y.startLocation,width:b(r.x.initialDelta),height:b(r.y.initialDelta)},s=u.element.find(u.options.filter);u._marquee.css(t);g(s,u._downTarget[0],t,(r.event.ctrlKey||r.event.metaKey));r.preventDefault()},_end:function(){var r=this;r._marquee.remove();r._unselect(r.element.find(r.options.filter+"."+p)).removeClass(p);r.value(r.element.find(r.options.filter+"."+c));r._lastActive=r._downTarget},value:function(t){var s=this,r=j(s._selectElement,s);if(t){t.each(function(){r(this)});s._notify(e);return}return s.element.find(s.options.filter+"."+m)},_firstSelectee:function(){var s=this,r;if(s._lastActive!==null){return s._lastActive}r=s.value();return r.length>0?r[0]:s.element.find(s.options.filter)},_selectElement:function(r,t){var u=a(r),s=!t&&this._notify("select",{element:r});u.removeClass(c);if(!s){u.addClass(m);if(this.options.aria){u.attr(d,true)}}},_notify:function(s,r){r=r||{};return this.trigger(s,r)},_unselect:function(r){r.removeClass(m);if(this.options.aria){r.attr(d,false)}return r},_select:function(r){if(a(r.event.target).is("input,a,textarea,.k-multiselect-wrap")){this.userEvents.cancel();this._downTarget=null}else{r.preventDefault()}},clear:function(){var r=this.element.find(this.options.filter+"."+m);this._unselect(r)},selectRange:function(x,r){var y=this,s=false,t,v,z,A,u=y.element.find(y.options.filter),w=j(y._selectElement,y);x=a(x)[0];r=a(r)[0];for(t=0,v=u.length;t<v;t++){A=u[t];if(s){w(A);s=A!==r}else{if(A===x){s=x!==r;w(A)}else{if(A===r){z=x;x=r;r=z;s=true;w(A)}else{a(A).removeClass(m)}}}}y._notify(e)},destroy:function(){var r=this;q.fn.destroy.call(r);r.element.off(i);r.userEvents.destroy()}});function f(s,u){var t=h.getOffset(s),v=u.left+u.width,r=u.top+u.height;t.right=t.left+s.outerWidth();t.bottom=t.top+s.outerHeight();return !(t.left>v||t.right<u.left||t.top>r||t.bottom<u.top)}function g(t,w,v,r){var s,u,x;for(s=0,u=t.length;s<u;s++){x=t.eq(s);if(f(x,v)){if(x.hasClass(m)){if(r&&w!==x[0]){x.removeClass(m).addClass(p)}}else{if(!x.hasClass(c)&&!x.hasClass(p)){x.addClass(c)}}}else{if(x.hasClass(c)){x.removeClass(c)}else{if(r&&x.hasClass(p)){x.removeClass(p).addClass(m)}}}}}h.ui.plugin(k)})(window.kendo.jQuery);kendo_module({id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:true});(function(a,v){var j=window.kendo,u=j.ui,x=u.Widget,t=a.proxy,g=".k-i-seek-w",m=".k-i-seek-e",s=".k-i-arrow-w",o=".k-i-arrow-e",c="change",p=".kendoPager",d="click",k="keydown",e="disabled",i=j.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>');function b(A,y,B,z){return A({idx:y,text:B,ns:j.ns,numeric:z})}function h(y,z){return i({className:y.substring(1),text:z})}function w(z,B,A,y){z.find(B).parent().attr(j.attr("page"),A).attr("tabindex",-1).toggleClass("k-state-disabled",y)}function f(y,z){w(y,g,1,z<=1)}function r(y,z){w(y,s,Math.max(1,z-1),z<=1)}function n(y,z,A){w(y,o,Math.min(A,z+1),z>=A)}function l(y,z,A){w(y,m,A,z>=A)}var q=x.extend({init:function(y,z){var B=this,A,C;x.fn.init.call(B,y,z);z=B.options;B.dataSource=j.data.DataSource.create(z.dataSource);B.linkTemplate=j.template(B.options.linkTemplate);B.selectTemplate=j.template(B.options.selectTemplate);A=B.page();C=B.totalPages();B._refreshHandler=t(B.refresh,B);B.dataSource.bind(c,B._refreshHandler);if(z.previousNext){if(!B.element.find(g).length){B.element.append(h(g,z.messages.first));f(B.element,A,C)}if(!B.element.find(s).length){B.element.append(h(s,z.messages.previous));r(B.element,A,C)}}if(z.numeric){B.list=B.element.find(".k-pager-numbers");if(!B.list.length){B.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(B.element)}}if(z.input){if(!B.element.find(".k-pager-input").length){B.element.append('<span class="k-pager-input k-label">'+z.messages.page+'<input class="k-textbox">'+j.format(z.messages.of,C)+"</span>")}B.element.on(k+p,".k-pager-input input",t(B._keydown,B))}if(z.previousNext){if(!B.element.find(o).length){B.element.append(h(o,z.messages.next));n(B.element,A,C)}if(!B.element.find(m).length){B.element.append(h(m,z.messages.last));l(B.element,A,C)}}if(z.pageSizes){if(!B.element.find(".k-pager-sizes").length){a('<span class="k-pager-sizes k-label"><select/>'+z.messages.itemsPerPage+"</span>").appendTo(B.element).find("select").html(a.map(a.isArray(z.pageSizes)?z.pageSizes:[5,10,20],function(D){return"<option>"+D+"</option>"}).join("")).end().appendTo(B.element)}B.element.find(".k-pager-sizes select").val(B.pageSize());if(j.ui.DropDownList){B.element.find(".k-pager-sizes select").show().kendoDropDownList()}B.element.on(c+p,".k-pager-sizes select",t(B._change,B))}if(z.refresh){if(!B.element.find(".k-pager-refresh").length){B.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+z.messages.refresh+'"><span class="k-icon k-i-refresh">'+z.messages.refresh+"</span></a>")}B.element.on(d+p,".k-pager-refresh",t(B._refreshClick,B))}if(z.info){if(!B.element.find(".k-pager-info").length){B.element.append('<span class="k-pager-info k-label" />')}}B.element.on(d+p,"a",t(B._click,B)).addClass("k-pager-wrap k-widget");if(z.autoBind){B.refresh()}j.notify(B)},destroy:function(){var y=this;x.fn.destroy.call(y);y.element.off(p);y.dataSource.unbind(c,y._refreshHandler)},events:[c],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(y){var z=this;z.dataSource.unbind(c,z._refreshHandler);z.dataSource=z.options.dataSource=y;y.bind(c,z._refreshHandler);if(z.options.autoBind){y.fetch()}},refresh:function(z){var J=this,C,A,I=1,B="",H,F=J.page(),E=J.options,G=J.pageSize(),K=J.dataSource.total(),L=J.totalPages(),D=J.linkTemplate,y=E.buttonCount;if(z&&z.action=="itemchange"){return}if(E.numeric){if(F>y){H=(F%y);I=(H===0)?(F-y)+1:(F-H)+1}A=Math.min((I+y)-1,L);if(I>1){B+=b(D,I-1,"...",false)}for(C=I;C<=A;C++){B+=b(C==F?J.selectTemplate:D,C,C,true)}if(A<L){B+=b(D,C,"...",false)}if(B===""){B=J.selectTemplate({text:0})}J.list.html(B)}if(E.info){if(K>0){B=j.format(E.messages.display,(F-1)*G+1,Math.min(F*G,K),K)}else{B=E.messages.empty}J.element.find(".k-pager-info").html(B)}if(E.input){J.element.find(".k-pager-input").html(J.options.messages.page+'<input class="k-textbox">'+j.format(E.messages.of,L)).find("input").val(F).attr(e,K<1).toggleClass("k-state-disabled",K<1)}if(E.previousNext){f(J.element,F,L);r(J.element,F,L);n(J.element,F,L);l(J.element,F,L)}if(E.pageSizes){J.element.find(".k-pager-sizes select").val(G).filter("["+j.attr("role")+"=dropdownlist]").kendoDropDownList("value",G).kendoDropDownList("text",G)}},_keydown:function(y){if(y.keyCode===j.keys.ENTER){var z=this.element.find(".k-pager-input").find("input"),A=parseInt(z.val(),10);if(isNaN(A)||A<1||A>this.totalPages()){A=this.page()}z.val(A);this.page(A)}},_refreshClick:function(y){y.preventDefault();this.dataSource.read()},_change:function(y){var z=parseInt(y.currentTarget.value,10);if(!isNaN(z)){this.dataSource.pageSize(z)}},_click:function(y){var z=a(y.currentTarget);y.preventDefault();if(!z.is(".k-state-disabled")){this.page(z.attr(j.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(y){if(y!==v){this.dataSource.page(y);this.trigger(c,{index:y})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});u.plugin(q)})(window.kendo.jQuery);kendo_module({id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true});(function(a,J){var u=window.kendo,I=u.ui,L=I.Widget,F=u.support,s=u.getOffset,h=u._activeElement,z="open",l="close",o="deactivate",c="activate",k="center",v="left",D="right",G="top",j="bottom",b="absolute",t="hidden",i="body",w="location",B="position",K="visible",q="effects",d="k-state-active",e="k-state-border",f=/k-state-border-(\w+)/,g=".k-picker-wrap, .k-dropdown-wrap, .k-link",x="down",M=a(window),p=a(document.documentElement),C="resize scroll",n=F.transitions.css,H=n+"transform",r=a.extend,y=".kendoPopup",E=["font-family","font-size","font-stretch","font-style","font-weight","line-height"];function m(N,O){return N===O||a.contains(N,O)}var A=L.extend({init:function(N,O){var Q=this,P;O=O||{};if(O.isRtl){O.origin=O.origin||j+" "+D;O.position=O.position||G+" "+D}L.fn.init.call(Q,N,O);N=Q.element;O=Q.options;Q.collisions=O.collision?O.collision.split(" "):[];if(Q.collisions.length===1){Q.collisions.push(Q.collisions[0])}P=a(Q.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");O.appendTo=a(a(O.appendTo)[0]||P[0]||i);Q.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!O.isRtl).css({position:b}).appendTo(O.appendTo).on("mouseenter"+y,function(){Q._hovered=true}).on("mouseleave"+y,function(){Q._hovered=false});Q.wrapper=a();if(O.animation===false){O.animation={open:{effects:{}},close:{hide:true,effects:{}}}}r(O.animation.open,{complete:function(){Q.wrapper.css({overflow:K});Q.trigger(c)}});r(O.animation.close,{complete:function(){Q.wrapper.hide();var U=Q.wrapper.data(w),R=a(O.anchor),T,S;if(U){Q.wrapper.css(U)}if(O.anchor!=i){T=(R[0].className.match(f)||["","down"])[1];S=e+"-"+T;R.removeClass(S).children(g).removeClass(d).removeClass(S);N.removeClass(e+"-"+u.directions[T].reverse)}Q._closing=false;Q.trigger(o)}});Q._mousedownProxy=function(R){Q._mousedown(R)};Q._resizeProxy=function(R){Q._resize(R)};if(O.toggleTarget){a(O.toggleTarget).on(O.toggleEvent+y,a.proxy(Q.toggle,Q))}},events:[z,c,l,o],options:{name:"Popup",toggleEvent:"click",origin:j+" "+v,position:G+" "+v,anchor:i,collision:"flip fit",viewport:window,copyAnchorStyles:true,modal:false,animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},destroy:function(){var Q=this,O=Q.options,N=Q.element.off(y),P;L.fn.destroy.call(Q);if(O.toggleTarget){a(O.toggleTarget).off(y)}if(!O.modal){p.unbind(x,Q._mousedownProxy);M.unbind(C,Q._resizeProxy)}if(O.appendTo[0]===document.body){P=N.parent(".k-animation-container");if(P[0]){P.remove()}else{N.remove()}}u.destroy(Q.element.children())},open:function(W,X){var U=this,S={isFixed:!isNaN(parseInt(X,10)),x:W,y:X},R=U.element,T=U.options,Q="down",O,V,N=a(T.anchor);if(!U.visible()){if(T.copyAnchorStyles){R.css(u.getComputedStyles(N[0],E))}if(R.data("animating")||U.trigger(z)){return}if(!T.modal){p.unbind(x,U._mousedownProxy).bind(x,U._mousedownProxy);if(!(F.mobileOS.ios||F.mobileOS.android)){M.unbind(C,U._resizeProxy).bind(C,U._resizeProxy)}}U.wrapper=V=u.wrap(R).css({overflow:t,display:"block",position:b});if(F.mobileOS.android){V.add(N).css(H,"translatez(0)")}V.css(B);if(a(T.appendTo)[0]==document.body){V.css(G,"-10000px")}O=r(true,{},T.animation.open);U.flipped=U._position(S);O.effects=u.parseEffects(O.effects,U.flipped);Q=O.effects.slideIn?O.effects.slideIn.direction:Q;if(T.anchor!=i){var P=e+"-"+Q;R.addClass(e+"-"+u.directions[Q].reverse);N.addClass(P).children(g).addClass(d).addClass(P)}R.data(q,O.effects).kendoStop(true).kendoAnimate(O)}},toggle:function(){var N=this;N[N.visible()?l:z]()},visible:function(){return this.element.is(":"+K)},close:function(){var R=this,Q=R.options,S,N,P,O;if(R.visible()){S=(R.wrapper[0]?R.wrapper:u.wrap(R.element).hide());if(R._closing||R.trigger(l)){return}R.element.find(".k-popup").each(function(){var U=a(this),T=U.data("kendoPopup");if(T){T.close()}});p.unbind(x,R._mousedownProxy);M.unbind(C,R._resizeProxy);N=r(true,{},Q.animation.close);P=R.element.data(q);O=N.effects;if(!O&&!u.size(O)&&P&&u.size(P)){N.effects=P;N.reverse=true}R._closing=true;R.element.kendoStop(true);S.css({overflow:t});R.element.kendoAnimate(N)}},_resize:function(N){var O=this;if(N.type==="resize"){clearTimeout(O._resizeTimeout);O._resizeTimeout=setTimeout(function(){O._position();O._resizeTimeout=null},50)}else{if(!O._hovered&&!m(O.element[0],h())){O.close()}}},_mousedown:function(P){var U=this,O=U.element[0],R=U.options,N=a(R.anchor)[0],V=R.toggleTarget,T=u.eventTarget(P),S=a(T).closest(".k-popup"),Q=S.parent().parent(".km-shim").length;S=S[0];if(!Q&&S&&S!==U.element[0]){return}if(a(P.target).closest("a").data("rel")==="popover"){return}if(!m(O,T)&&!m(N,T)&&!(V&&m(a(V)[0],T))){U.close()}},_fit:function(O,P,Q){var N=0;if(O+P>Q){N=Q-(O+P)}if(O<0){N=-O}return N},_flip:function(P,T,N,U,Q,S,O){var R=0;O=O||T;if(S!==Q&&S!==k&&Q!==k){if(P+O>U){R+=-(N+T)}if(P+R<0){R+=N+T}}return R},_position:function(R){var af=this,Q=af.element.css(B,""),ai=af.wrapper,Y=af.options,ag=a(Y.viewport),ah=a(ag).offset(),N=a(Y.anchor),Z=Y.origin.toLowerCase().split(" "),ad=Y.position.toLowerCase().split(" "),P=af.collisions,ak=F.zoomLevel(),ae,aa,ab,aj=10002,T=0,U;ae=N.parents().filter(ai.siblings());if(ae[0]){ab=Number(a(ae).css("zIndex"));if(ab){aj=ab+1}else{aa=N.parentsUntil(ae);for(U=aa.length;T<U;T++){ab=Number(a(aa[T]).css("zIndex"));if(ab&&aj<ab){aj=ab+1}}}}ai.css("zIndex",aj);if(R&&R.isFixed){ai.css({left:R.x,top:R.y})}else{ai.css(af._align(Z,ad))}var ac=s(ai,B,N[0]===ai.offsetParent()[0]),W=s(ai),O=N.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(O.length){ac=s(ai,B,true);W=s(ai)}if(ag[0]===window){W.top-=(window.pageYOffset||document.documentElement.scrollTop||0);W.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{W.top-=ah.top;W.left-=ah.left}if(!af.wrapper.data(w)){ai.data(w,r({},ac))}var X=r({},W),V=r({},ac);if(P[0]==="fit"){V.top+=af._fit(X.top,ai.outerHeight(),ag.height()/ak)}if(P[1]==="fit"){V.left+=af._fit(X.left,ai.outerWidth(),ag.width()/ak)}var S=r({},V);if(P[0]==="flip"){V.top+=af._flip(X.top,Q.outerHeight(),N.outerHeight(),ag.height()/ak,Z[0],ad[0],ai.outerHeight())}if(P[1]==="flip"){V.left+=af._flip(X.left,Q.outerWidth(),N.outerWidth(),ag.width()/ak,Z[1],ad[1],ai.outerWidth())}Q.css(B,b);ai.css(V);return(V.left!=S.left||V.top!=S.top)},_align:function(Y,Z){var ab=this,T=ab.wrapper,N=a(ab.options.anchor),ad=Y[0],V=Y[1],ae=Z[0],W=Z[1],P=s(N),R=a(ab.options.appendTo),S,af=T.outerWidth(),U=T.outerHeight(),Q=N.outerWidth(),O=N.outerHeight(),ac=P.top,X=P.left,aa=Math.round;if(R[0]!=document.body){S=s(R);ac-=S.top;X-=S.left}if(ad===j){ac+=O}if(ad===k){ac+=aa(O/2)}if(ae===j){ac-=U}if(ae===k){ac-=aa(U/2)}if(V===D){X+=Q}if(V===k){X+=aa(Q/2)}if(W===D){X-=af}if(W===k){X-=aa(af/2)}return{top:ac,left:X}}});I.plugin(A)})(window.kendo.jQuery);kendo_module({id:"tooltip",name:"Tooltip",category:"web",description:"The Tooltip widget displays a popup hint for a given html element.",depends:["core","popup"]});(function(a,E){var q=window.kendo,F=q.ui.Widget,s=q.ui.Popup,m=a.isFunction,o=a.isPlainObject,j=a.extend,u=a.proxy,h=a(document),n=q.isLocalUrl,b="_tt_active",e="aria-describedby",B="show",k="hide",i="error",c="contentLoad",v="requestStart",p="k-content-frame",C='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',l=q.template("<iframe frameborder='0' class='"+p+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),r=".kendoTooltip",t={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},y={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},g={bottom:"n",top:"s",left:"e",right:"w",center:"n"},f={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},d=function(G){return G.target.data(q.ns+"title")};function w(G){while(G.length){x(G);G=G.parent()}}function x(G){var H=G.data(q.ns+"title");if(H){G.attr("title",H);G.removeData(q.ns+"title")}}function z(G){var H=G.attr("title");if(H){G.data(q.ns+"title",H);G.attr("title","")}}function A(G){while(G.length&&!G.is("body")){z(G);G=G.parent()}}var D=F.extend({init:function(H,I){var J=this,G;F.fn.init.call(J,H,I);G=J.options.position.match(/left|right/)?"horizontal":"vertical";J.dimensions=f[G];J._documentKeyDownHandler=u(J._documentKeyDown,J);J.element.on(J.options.showOn+r,J.options.filter,u(J._showOn,J)).on("mouseenter"+r,J.options.filter,u(J._mouseenter,J));if(this.options.autoHide){J.element.on("mouseleave"+r,J.options.filter,u(J._mouseleave,J))}},options:{name:"Tooltip",filter:"",content:d,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:true}}},events:[B,k,c,i,v],_mouseenter:function(G){A(a(G.currentTarget))},_showOn:function(H){var I=this;var G=a(H.currentTarget);if(I.options.showOn&&I.options.showOn.match(/click|focus/)){I._show(G)}else{clearTimeout(I.timeout);I.timeout=setTimeout(function(){I._show(G)},I.options.showAfter)}},_appendContent:function(K){var L=this,G=L.options.content,H=L.content,J=L.options.iframe,I;if(o(G)&&G.url){if(!("iframe" in L.options)){J=!n(G.url)}L.trigger(v,{options:G,target:K});if(!J){H.empty();q.ui.progress(H,true);L._ajaxRequest(G)}else{H.hide();I=H.find("."+p)[0];if(I){I.src=G.url||I.src}else{H.html(l({content:G}))}H.find("."+p).off("load"+r).on("load"+r,function(){L.trigger(c);H.show()})}}else{if(G&&m(G)){G=G({target:K});L.content.html(G||"")}else{L.content.html(G)}}},_ajaxRequest:function(G){var H=this;jQuery.ajax(j({type:"GET",dataType:"html",cache:false,error:function(J,I){q.ui.progress(H.content,false);H.trigger(i,{status:I,xhr:J})},success:u(function(I){q.ui.progress(H.content,false);H.content.html(I);H.trigger(c)},H)},G))},_documentKeyDown:function(G){if(G.keyCode===q.keys.ESC){this.hide()}},refresh:function(){var H=this,G=H.popup;if(G&&G.options.anchor){H._appendContent(G.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(G){A(G);this._show(G)},_show:function(H){var I=this,G=I.target();if(!I.popup){I._initPopup()}if(G&&G[0]!=H[0]){I.popup.close();I.popup.element.kendoStop(true,true)}if(!G||G[0]!=H[0]){I._appendContent(H);I.popup.options.anchor=H}I.popup.one("deactivate",function(){w(H);H.removeAttr(e);this.element.removeAttr("id").attr("aria-hidden",true);h.off("keydown"+r,I._documentKeyDownHandler)});I.popup.open()},_initPopup:function(){var H=this,G=H.options,I=a(q.template(C)({callout:G.callout&&G.position!=="center",dir:g[G.position],autoHide:G.autoHide}));H.popup=new s(I,j({activate:function(){var J=this.options.anchor,K=J[0].id||H.element[0].id;if(K){J.attr(e,K+b);this.element.attr("id",K+b)}if(G.callout){H._positionCallout()}this.element.removeAttr("aria-hidden");h.on("keydown"+r,H._documentKeyDownHandler);H.trigger(B)},close:function(){H.trigger(k)},copyAnchorStyles:false,animation:G.animation},t[G.position]));I.css({width:G.width,height:G.height});H.content=I.find(".k-tooltip-content");H.arrow=I.find(".k-callout");if(G.autoHide){I.on("mouseleave"+r,u(H._mouseleave,H))}else{I.on("click"+r,".k-tooltip-button",u(H._closeButtonClick,H))}},_closeButtonClick:function(G){G.preventDefault();this.hide()},_mouseleave:function(G){if(this.popup){var H=a(G.currentTarget),I=H.offset(),J=G.pageX,K=G.pageY;I.right=I.left+H.outerWidth();I.bottom=I.top+H.outerHeight();if(J>I.left&&J<I.right&&K>I.top&&K<I.bottom){return}this.popup.close()}else{w(a(G.currentTarget))}clearTimeout(this.timeout)},_positionCallout:function(){var Q=this,P=Q.options.position,K=Q.dimensions,M=K.offset,O=Q.popup,G=O.options.anchor,H=a(G).offset(),I=parseInt(Q.arrow.css("border-top-width"),10),L=a(O.element).offset(),J=g[O.flipped?y[P]:P],N=H[M]-L[M]+(a(G)[K.size]()/2)-I;Q.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+J).css(M,N)},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var G=this.popup;if(G){G.element.off(r);G.destroy()}this.element.off(r);h.off("keydown"+r,this._documentKeyDownHandler);F.fn.destroy.call(this)}});q.ui.plugin(D)})(window.kendo.jQuery);kendo_module({id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true});(function(a,C){var n=window.kendo,B=n.ui,D=B.Widget,o=n.keys,A=n.support,k=n.htmlEncode,b=n._activeElement,l="id",p="li",e="change",f="character",i="k-state-focused",j="k-state-hover",r="k-loading",s="open",g="close",y="select",z="selected",t="progress",x="requestEnd",E="width",h=a.extend,u=a.proxy,d=A.browser,m=d.msie&&d.version<9,v=/"/g,c={ComboBox:"DropDownList",DropDownList:"ComboBox"};var q=D.extend({init:function(F,I){var J=this,H=J.ns,G;D.fn.init.call(J,F,I);F=J.element;J._isSelect=F.is(y);J._template();J.ul=a('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:A.kineticScrollNeeded?"":"auto"}).on("mouseenter"+H,p,function(){a(this).addClass(j)}).on("mouseleave"+H,p,function(){a(this).removeClass(j)}).on("click"+H,p,u(J._click,J)).attr({tabIndex:-1,role:"listbox","aria-hidden":true});J.list=a("<div class='k-list-container'/>").append(J.ul).on("mousedown"+H,function(K){K.preventDefault()});G=F.attr(l);if(G){J.list.attr(l,G+"-list");J.ul.attr(l,G+"_listbox");J._optionID=G+"_option_selected"}J._accessors();J._initValue()},options:{valuePrimitive:false},setOptions:function(F){D.fn.setOptions.call(this,F);if(F&&F.enable!==C){F.enabled=F.enable}},focus:function(){this._focused.focus()},readonly:function(F){this._editable({readonly:F===C?true:F,disable:false})},enable:function(F){this._editable({readonly:false,disable:!(F=F===C?true:F)})},_filterSource:function(H){var J=this,I=J.options,F=J.dataSource,G=F.filter()||{};w(G,I.dataTextField);if(H){G=G.filters||[];G.push(H)}F.filter(G)},_initValue:function(){var F=this,G=F.options.value;if(G){F.element.val(G)}else{G=F.element.val()}F._old=G},_ignoreCase:function(){var H=this,G=H.dataSource.reader.model,F;if(G&&G.fields){F=G.fields[H.options.dataTextField];if(F&&F.type&&F.type!=="string"){H.options.ignoreCase=false}}},items:function(){return this.ul[0].children},current:function(F){var H=this,G=H._optionID;if(F!==C){if(H._current){H._current.removeClass(i).removeAttr("aria-selected").removeAttr(l);H._focused.removeAttr("aria-activedescendant")}if(F){F.addClass(i);H._scroll(F);if(G){F.attr("id",G);H._focused.attr("aria-activedescendant",G)}}H._current=F}else{return H._current}},destroy:function(){var G=this,F=G.ns;D.fn.destroy.call(G);G._unbindDataSource();G.ul.off(F);G.list.off(F);G.popup.destroy();if(G._form){G._form.off("reset",G._resetHandler)}},dataItem:function(F){var G=this;if(F===C){F=G.selectedIndex}return G._data()[F]},_accessors:function(){var J=this,F=J.element,H=J.options,G=n.getter,I=F.attr(n.attr("text-field")),K=F.attr(n.attr("value-field"));if(I){H.dataTextField=I}if(K){H.dataValueField=K}J._text=G(H.dataTextField);J._value=G(H.dataValueField)},_aria:function(G){var I=this,H=I.options,F=I._focused;if(H.suggest!==C){F.attr("aria-autocomplete",H.suggest?"both":"list")}G=G?G+" "+I.ul[0].id:I.ul[0].id;F.attr("aria-owns",G);I.ul.attr("aria-live",!H.filter||H.filter==="none"?"off":"polite")},_blur:function(){var F=this;F._change();F.close()},_change:function(){var H=this,F=H.selectedIndex,G=H.options.value,J=H.value(),I;if(H._isSelect&&!H._bound&&G){J=G}if(J!==H._old){I=true}else{if(F!==C&&F!==H._oldIndex){I=true}}if(I){H._old=J;H._oldIndex=F;H.trigger(e);H.element.trigger(e)}},_click:function(F){if(!F.isDefaultPrevented()){this._accept(a(F.currentTarget))}},_data:function(){return this.dataSource.view()},_enable:function(){var H=this,G=H.options,F=H.element.is("[disabled]");if(G.enable!==C){G.enabled=G.enable}if(!G.enabled||F){H.enable(false)}else{H.readonly(H.element.is("[readonly]"))}},_focus:function(F){var G=this;if(G.popup.visible()&&F&&G.trigger(y,{item:F})){G.close();return}G._select(F);G._triggerCascade();G._blur()},_index:function(J){var I=this,G,H,F=I._data();for(G=0,H=F.length;G<H;G++){if(I._dataValue(F[G])==J){return G}}return -1},_dataValue:function(F){var G=this._value(F);if(G===C){G=this._text(F)}return G},_height:function(G){if(G){var I=this,H=I.list,J=I.popup.visible(),F=I.options.height;H=H.add(H.parent(".k-animation-container")).show().height(I.ul[0].scrollHeight>F?F:"auto");if(!J){H.hide()}}},_adjustListWidth:function(){var H=this.list,I=H[0].style.width,J=this.wrapper,F,G;if(!H.data(E)&&I){return}F=window.getComputedStyle?window.getComputedStyle(J[0],null):0;G=F?parseFloat(F.width):J.outerWidth();if(F&&(d.mozilla||d.msie)){G+=parseFloat(F.paddingLeft)+parseFloat(F.paddingRight)+parseFloat(F.borderLeftWidth)+parseFloat(F.borderRightWidth)}I=G-(H.outerWidth()-H.width());H.css({fontFamily:J.css("font-family"),width:I}).data(E,I);return true},_popup:function(){var I=this,G=I.list,F=I._focused,H=I.options,J=I.wrapper;I.popup=new B.Popup(G,h({},H.popup,{anchor:J,open:function(K){I._adjustListWidth();if(I.trigger(s)){K.preventDefault()}else{F.attr("aria-expanded",true);I.ul.attr("aria-hidden",false)}},close:function(K){if(I.trigger(g)){K.preventDefault()}else{F.attr("aria-expanded",false);I.ul.attr("aria-hidden",true)}},animation:H.animation,isRtl:A.isRtl(J)}));I.popup.one(s,function(){I._height(I._data().length)});I._touchScroller=n.touchScroller(I.popup.element)},_makeUnselectable:function(){if(m){this.list.find("*").attr("unselectable","on")}},_toggleHover:function(F){a(F.currentTarget).toggleClass(j,F.type==="mouseenter")},_toggle:function(F){var G=this;F=F!==C?F:!G.popup.visible();if(!A.touch&&G._focused[0]!==b()){G._focused.focus()}G[F?s:g]()},_scroll:function(G){if(!G){return}if(G[0]){G=G[0]}var J=this.ul[0],I=G.offsetTop,H=G.offsetHeight,L=J.scrollTop,K=J.clientHeight,F=I+H;J.scrollTop=L>I?I:F>(L+K)?F-K:L},_template:function(){var I=this,G=I.options,H=G.template,F=G.dataSource;if(I._isSelect&&I.element[0].length){if(!F){G.dataTextField=G.dataTextField||"text";G.dataValueField=G.dataValueField||"value"}}if(!H){I.template=n.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+n.expr(G.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{H=n.template(H);I.template=function(J){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+H(J)+"</li>"}}},_triggerCascade:function(){var F=this,G=F.value();if((!F._bound&&G)||F._old!==G){F.trigger("cascade")}},_unbindDataSource:function(){var F=this;F.dataSource.unbind(e,F._refreshHandler).unbind(t,F._progressHandler).unbind(x,F._requestEndHandler).unbind("error",F._errorHandler)}});h(q,{caret:function(G){var F,H=G.ownerDocument.selection;if(H){F=Math.abs(H.createRange().moveStart(f,-G.value.length))}else{F=G.selectionStart}return F},selectText:function(G,I,H){try{if(G.createTextRange){G.focus();var J=G.createTextRange();J.collapse(true);J.moveStart(f,I);J.moveEnd(f,H-I);J.select()}else{G.setSelectionRange(I,H)}}catch(F){}},inArray:function(H,I){var F,G,J=I.children;if(!H||H.parentNode!==I){return -1}for(F=0,G=J.length;F<G;F++){if(H===J[F]){return F}}return -1}});n.ui.List=q;B.Select=q.extend({init:function(F,G){q.fn.init.call(this,F,G);this._initial=this.element.val()},setDataSource:function(F){this.options.dataSource=F;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},close:function(){this.popup.close()},select:function(F){var G=this;if(F===C){return G.selectedIndex}else{G._select(F);G._triggerCascade();G._old=G._accessor();G._oldIndex=G.selectedIndex}},_accessor:function(K,G){var F=this.element[0],H=this._isSelect,J=F.selectedIndex,I;if(K===C){if(H){if(J>-1){I=F.options[J];if(I){K=I.value}}}else{K=F.value}return K}else{if(H){if(J>-1){F.options[J].removeAttribute(z)}F.selectedIndex=G;I=F.options[G];if(I){I.setAttribute(z,z)}}else{F.value=K}}},_hideBusy:function(){var F=this;clearTimeout(F._busy);F._arrow.removeClass(r);F._focused.attr("aria-busy",false);F._busy=null},_showBusy:function(){var F=this;F._request=true;if(F._busy){return}F._busy=setTimeout(function(){F._focused.attr("aria-busy",true);F._arrow.addClass(r)},100)},_requestEnd:function(){this._request=false},_dataSource:function(){var J=this,G=J.element,I=J.options,F=I.dataSource||{},H;F=a.isArray(F)?{data:F}:F;if(J._isSelect){H=G[0].selectedIndex;if(H>-1){I.index=H}F.select=G;F.fields=[{field:I.dataTextField},{field:I.dataValueField}]}if(J.dataSource&&J._refreshHandler){J._unbindDataSource()}else{J._refreshHandler=u(J.refresh,J);J._progressHandler=u(J._showBusy,J);J._requestEndHandler=u(J._requestEnd,J);J._errorHandler=u(J._hideBusy,J)}J.dataSource=n.data.DataSource.create(F).bind(e,J._refreshHandler).bind(t,J._progressHandler).bind(x,J._requestEndHandler).bind("error",J._errorHandler)},_get:function(I){var J=this,F=J._data(),G,H;if(typeof I==="function"){for(G=0,H=F.length;G<H;G++){if(I(F[G])){I=G;break}}}if(typeof I==="number"){if(I<0){return a()}I=a(J.ul[0].children[I])}if(I&&I.nodeType){I=a(I)}return I},_move:function(H){var M=this,J=H.keyCode,N=M.ul[0],K=M.popup.visible()?"_select":"_accept",F=M._current,G=J===o.DOWN,I,L;if(J===o.UP||G){if(H.altKey){M.toggle(G)}else{I=N.firstChild;if(!I&&!M._accessor()&&M._state!=="filter"){M.dataSource.one(e,function(){M._move(H)});M._filterSource();H.preventDefault();return true}if(G){if(!F||(M.selectedIndex===-1&&!M.value()&&F[0]===I)){F=I}else{F=F[0].nextSibling;if(!F&&I===N.lastChild){F=I}}M[K](F)}else{F=F?F[0].previousSibling:N.lastChild;if(!F&&I===N.lastChild){F=I}M[K](F)}}H.preventDefault();L=true}else{if(J===o.ENTER||J===o.TAB){if(M.popup.visible()){H.preventDefault()}M._accept(F);L=true}else{if(J===o.ESC){if(M.popup.visible()){H.preventDefault()}M.close();L=true}}}return L},_selectItem:function(I){var H=this,G=H.options,F=H.selectedIndex;I=H._selectedValue||G.value||H._accessor();if(I){H.value(I)}else{if(!H._bound||F>-1){if(!H._bound){F=G.index}H.select(F)}}},_fetchItems:function(H){var G=this,F=G.ul[0].firstChild;if(G._request){return true}if(!G._fetch&&!F){if(G.options.cascadeFrom){return !F}G.dataSource.one(e,function(){G.value(H);G._fetch=false});G._fetch=true;G.dataSource.fetch();return true}},_options:function(F,N){var Q=this,J=Q.element,P=J[0].selectedIndex,L=F.length,O="",M,G,H,I,K=0;if(N){K=1;O=N;if(N.indexOf(a(J[0].firstChild).text())===-1){P+=1}}for(;K<L;K++){M="<option";G=F[K];H=Q._text(G);I=Q._value(G);if(I!==C){I+="";if(I.indexOf('"')!==-1){I=I.replace(v,"&quot;")}M+=' value="'+I+'"'}M+=">";if(H!==C){M+=k(H)}M+="</option>";O+=M}J.html(O);J[0].selectedIndex=P===-1?0:P},_reset:function(){var I=this,F=I.element,H=F.attr("form"),G=H?a("#"+H):F.closest("form");if(G[0]){I._resetHandler=function(){setTimeout(function(){I.value(I._initial)})};I._form=G.on("reset",I._resetHandler)}},_cascade:function(){var L=this,H=L.options,F=H.cascadeFrom,I,J,K,M,G;if(F){L._selectedValue=H.value||L._accessor();J=a("#"+F);I=J.data("kendo"+H.name);if(!I){I=J.data("kendo"+c[H.name])}if(!I){return}H.autoBind=false;M=I.options.dataValueField;G=function(){var N=L._selectedValue||L.value();if(N){L.value(N);if(!L.dataSource.view()[0]||L.selectedIndex===-1){L._clearSelection(I,true)}}else{L.select(H.index)}L.enable();L._triggerCascade()};K=function(){var N=I.dataItem(),Q=N?I._value(N):null,O,P;if(Q||Q===0){O=L.dataSource.filter()||{};w(O,M);P=O.filters||[];P.push({field:M,operator:"eq",value:Q});L.dataSource.one(e,G).filter(P)}else{L.enable(false);L._clearSelection(I);L._triggerCascade()}};I.bind("cascade",function(){K()});if(I._bound){K()}else{if(!I.value()){L.enable(false)}}}}});function w(F,G){if(F.filters){F.filters=a.grep(F.filters,function(H){w(H,G);if(H.filters){return H.filters.length}else{return H.field!=G}})}}})(window.kendo.jQuery);kendo_module({id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core"]});(function(a,ao){var G=window.kendo,ah=G.support,an=G.ui,at=an.Widget,I=G.keys,Z=G.parseDate,b=G.date.adjustDST,s=G._extractFormat,ai=G.template,x=G.getCulture,am=G.support.transitions,al=am?am.css+"transform-origin":"",j=ai('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),q=ai('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),f=G.support.browser,E=f.msie&&f.version<9,W=".kendoCalendar",m="click"+W,H="keydown"+W,A="id",L="min",J="left",ag="slideIn",M="month",k="century",l="change",T="navigate",ap="value",z="k-state-hover",p="k-state-disabled",v="k-state-focused",X="k-other-month",Y=' class="'+X+'"',ak="k-nav-today",i="td:has(.k-link)",e="blur"+W,t="focus",u=t+W,N=ah.touch?"touchstart":"mouseenter",O=ah.touch?"touchstart"+W:"mouseenter"+W,P=ah.touch?"touchend"+W+" touchmove"+W:"mouseleave"+W,S=60000,R=86400000,aa="_prevArrow",U="_nextArrow",c="aria-disabled",d="aria-selected",ac=a.proxy,r=a.extend,o=Date,ar={month:0,year:1,decade:2,century:3};var h=at.extend({init:function(au,aw){var ax=this,ay,av;at.fn.init.call(ax,au,aw);au=ax.wrapper=ax.element;aw=ax.options;aw.url=window.unescape(aw.url);ax._templates();ax._header();ax._footer(ax.footer);av=au.addClass("k-widget k-calendar").on(O+" "+P,i,Q).on(H,"table.k-content",ac(ax._move,ax)).on(m,i,function(az){var aA=az.currentTarget.firstChild;if(aA.href.indexOf("#")!=-1){az.preventDefault()}ax._click(a(aA))}).on("mouseup"+W,function(){ax._focusView(ax.options.focusOnNav!==false)}).attr(A);if(av){ax._cellID=av+"_cell_selected"}ay=aw.value;V(aw);ax._index=ar[aw.start];ax._current=new o(+ad(ay,aw.min,aw.max));ax._addClassProxy=function(){ax._active=true;ax._cell.addClass(v)};ax._removeClassProxy=function(){ax._active=false;ax._cell.removeClass(v)};ax.value(ay);G.notify(ax)},options:{name:"Calendar",value:null,min:new o(1900,0,1),max:new o(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:M,depth:M,animation:{horizontal:{effects:ag,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[l,T],setOptions:function(au){V(au);at.fn.setOptions.call(this,au)},destroy:function(){var au=this,av=au._today;au.element.off(W);au._title.off(W);au[aa].off(W);au[U].off(W);G.destroy(au._view);if(av){G.destroy(av.off(W))}at.fn.destroy.call(au)},current:function(){return this._current},view:function(){return this._view},focus:function(au){au=au||this._table;this._bindTable(au);au.focus()},min:function(au){return this._option(L,au)},max:function(au){return this._option("max",au)},navigateToPast:function(){this._navigate(aa,-1)},navigateToFuture:function(){this._navigate(U,1)},navigateUp:function(){var av=this,au=av._index;if(av._title.hasClass(p)){return}av.navigate(av._current,++au)},navigateDown:function(ax){var aw=this,av=aw._index,au=aw.options.depth;if(!ax){return}if(av===ar[au]){if(+aw._value!=+ax){aw.value(ax);aw.trigger(l)}return}aw.navigate(ax,--av)},navigate:function(aJ,aL){aL=isNaN(aL)?ar[aL]:aL;var aG=this,aE=aG.options,av=aE.culture,aC=aE.min,aB=aE.max,aH=aG._title,az=aG._table,aD=aG._oldTable,aF=aG._value,aw=aG._current,aA=aJ&&+aJ>+aw,aK=aL!==ao&&aL!==aG._index,aI,ax,au,ay;if(!aJ){aJ=aw}aG._current=aJ=new o(+ad(aJ,aC,aB));if(aL===ao){aL=aG._index}else{aG._index=aL}aG._view=ax=g.views[aL];au=ax.compare;ay=aL===ar[k];aH.toggleClass(p,ay).attr(c,ay);ay=au(aJ,aC)<1;aG[aa].toggleClass(p,ay).attr(c,ay);ay=au(aJ,aB)>-1;aG[U].toggleClass(p,ay).attr(c,ay);if(az&&aD&&aD.data("animating")){aD.kendoStop(true,true);az.kendoStop(true,true)}aG._oldTable=az;if(!az||aG._changeView){aH.html(ax.title(aJ,aC,aB,av));aG._table=aI=a(ax.content(r({min:aC,max:aB,date:aJ,url:aE.url,dates:aE.dates,format:aE.format,culture:av},aG[ax.name])));K(aI);aG._animate({from:az,to:aI,vertical:aK,future:aA});aG._focus(aJ);aG.trigger(T)}if(aL===ar[aE.depth]&&aF){aG._class("k-state-selected",ax.toDateString(aF))}aG._class(v,ax.toDateString(aJ));if(!az&&aG._cell){aG._cell.removeClass(v)}aG._changeView=true},value:function(az){var ay=this,aA=ay._view,ax=ay.options,aw=ay._view,av=ax.min,au=ax.max;if(az===ao){return ay._value}az=Z(az,ax.format,ax.culture);if(az!==null){az=new o(+az);if(!F(az,av,au)){az=null}}ay._value=az;if(aw&&az===null&&ay._cell){ay._cell.removeClass("k-state-selected")}else{ay._changeView=!az||aA&&aA.compare(az,ay._current)!==0;ay.navigate(az)}},_move:function(av){var aD=this,aA=aD.options,ay=av.keyCode,aF=aD._view,aw=aD._index,au=new o(+aD._current),ax=G.support.isRtl(aD.wrapper),aE,aB,az,aC;if(av.target===aD._table[0]){aD._active=true}if(av.ctrlKey){if(ay==I.RIGHT&&!ax||ay==I.LEFT&&ax){aD.navigateToFuture();aB=true}else{if(ay==I.LEFT&&!ax||ay==I.RIGHT&&ax){aD.navigateToPast();aB=true}else{if(ay==I.UP){aD.navigateUp();aB=true}else{if(ay==I.DOWN){aD._click(a(aD._cell[0].firstChild));aB=true}}}}}else{if(ay==I.RIGHT&&!ax||ay==I.LEFT&&ax){aE=1;aB=true}else{if(ay==I.LEFT&&!ax||ay==I.RIGHT&&ax){aE=-1;aB=true}else{if(ay==I.UP){aE=aw===0?-7:-4;aB=true}else{if(ay==I.DOWN){aE=aw===0?7:4;aB=true}else{if(ay==I.ENTER){aD._click(a(aD._cell[0].firstChild));aB=true}else{if(ay==I.HOME||ay==I.END){az=ay==I.HOME?"first":"last";aC=aF[az](au);au=new o(aC.getFullYear(),aC.getMonth(),aC.getDate(),au.getHours(),au.getMinutes(),au.getSeconds(),au.getMilliseconds());aB=true}else{if(ay==I.PAGEUP){aB=true;aD.navigateToPast()}else{if(ay==I.PAGEDOWN){aB=true;aD.navigateToFuture()}}}}}}}}if(aE||az){if(!az){aF.setDate(au,aE)}aD._focus(ad(au,aA.min,aA.max))}}if(aB){av.preventDefault()}return aD._current},_animate:function(aw){var ax=this,av=aw.from,ay=aw.to,au=ax._active;if(!av){ay.insertAfter(ax.element[0].firstChild);ax._bindTable(ay)}else{if(av.parent().data("animating")){av.parent().kendoStop(true,true).remove();av.remove();ay.insertAfter(ax.element[0].firstChild);ax._focusView(au)}else{if(!av.is(":visible")||ax.options.animation===false){ay.insertAfter(av);av.remove();ax._focusView(au)}else{ax[aw.vertical?"_vertical":"_horizontal"](av,ay,aw.future)}}}},_horizontal:function(aw,aA,ax){var az=this,au=az._active,ay=az.options.animation.horizontal,av=ay.effects,aB=aw.outerWidth();if(av&&av.indexOf(ag)!=-1){aw.add(aA).css({width:aB});aw.wrap("<div/>");az._focusView(au,aw);aw.parent().css({position:"relative",width:aB*2,"float":J,"margin-left":ax?0:-aB});aA[ax?"insertAfter":"insertBefore"](aw);r(ay,{effects:ag+":"+(ax?"right":J),complete:function(){aw.remove();aA.unwrap();az._focusView(au);az._oldTable=ao}});aw.parent().kendoStop(true,true).kendoAnimate(ay)}},_vertical:function(ax,aA){var az=this,aB=az.options.animation.vertical,aw=aB.effects,au=az._active,av,ay;if(aw&&aw.indexOf("zoom")!=-1){aA.css({position:"absolute",top:ax.prev().outerHeight(),left:0}).insertBefore(ax);if(al){av=az._cellByDate(az._view.toDateString(az._current));ay=av.position();ay=(ay.left+parseInt(av.width()/2,10))+"px "+(ay.top+parseInt(av.height()/2,10)+"px");aA.css(al,ay)}ax.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){ax.remove();aA.css({position:"static",top:0,left:0});az._focusView(au);az._oldTable=ao}});aA.kendoStop(true,true).kendoAnimate(aB)}},_cellByDate:function(au){return this._table.find("td:not(."+X+")").filter(function(){return a(this.firstChild).attr(G.attr(ap))===au})},_class:function(av,ay){var ax=this,aw=ax._cellID,au=ax._cell;if(au){au.removeAttr(d).removeAttr(A)}au=ax._table.find("td:not(."+X+")").removeClass(av).filter(function(){return a(this.firstChild).attr(G.attr(ap))===ay}).attr(d,true);if(av===v&&!ax._active&&ax.options.focusOnNav!==false){av=""}au.addClass(av);if(au[0]){ax._cell=au}if(aw){au.attr(A,aw);ax._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",aw)}},_bindTable:function(au){au.on(u,this._addClassProxy).on(e,this._removeClassProxy)},_click:function(av){var ax=this,aw=ax.options,au=new Date(+ax._current),ay=av.attr(G.attr(ap)).split("/");ay=new o(ay[0],ay[1],ay[2]);b(ay,0);ax._view.setDate(au,ay);ax.navigateDown(ad(au,aw.min,aw.max))},_focus:function(av){var au=this,aw=au._view;if(aw.compare(av,au._current)!==0){au.navigate(av)}else{au._current=av;au._class(v,aw.toDateString(av))}},_focusView:function(au,av){if(au){this.focus(av)}},_footer:function(aw){var ax=this,ay=y(),au=ax.element,av=au.find(".k-footer");if(!aw){ax._toggle(false);av.hide();return}if(!av[0]){av=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(au)}ax._today=av.show().find(".k-link").html(aw(ay)).attr("title",G.toString(ay,"D",ax.options.culture));ax._toggle()},_header:function(){var ax=this,av=ax.element,au=ax.options.focusOnNav!==false,aw;if(!av.find(".k-header")[0]){av.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}aw=av.find(".k-link").on(O+" "+P+" "+u+" "+e,Q).click(false);ax._title=aw.eq(1).on(m,function(){ax._focusView(au);ax.navigateUp()});ax[aa]=aw.eq(0).on(m,function(){ax._focusView(au);ax.navigateToPast()});ax[U]=aw.eq(2).on(m,function(){ax._focusView(au);ax.navigateToFuture()})},_navigate:function(au,ax){var ay=this,aw=ay._index+1,av=new o(+ay._current);au=ay[au];if(!au.hasClass(p)){if(aw>3){av.setFullYear(av.getFullYear()+100*ax)}else{g.views[aw].setDate(av,ax)}ay.navigate(av)}},_option:function(aw,az){var ay=this,ax=ay.options,au=ay._value||ay._current,av;if(az===ao){return ax[aw]}az=Z(az,ax.format,ax.culture);if(!az){return}ax[aw]=new o(+az);if(aw===L){av=az>au}else{av=au>az}if(av||D(au,az)){ay._value=null;ay._changeView=true}if(!ay._changeView){ay._changeView=!!(ax.month.content||ax.month.empty)}ay.navigate(ay._value);ay._toggle()},_toggle:function(ax){var aw=this,av=aw.options,au=aw._today;if(ax===ao){ax=F(y(),av.min,av.max)}if(au){au.off(m);if(ax){au.addClass(ak).removeClass(p).on(m,ac(aw._todayClick,aw))}else{au.removeClass(ak).addClass(p).on(m,ab)}}},_todayClick:function(av){var aw=this,au=ar[aw.options.depth],ax=y();av.preventDefault();if(aw._view.compare(aw._current,ax)===0&&aw._index==au){aw._changeView=false}aw._value=ax;aw.navigate(ax,au);aw.trigger(l)},_templates:function(){var az=this,ay=az.options,aw=ay.footer,ax=ay.month,au=ax.content,av=ax.empty;az.month={content:ai('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+G.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(au||"#=data.value#")+"</a></td>",{useWithBlock:!!au}),empty:ai('<td role="gridcell">'+(av||"&nbsp;")+"</td>",{useWithBlock:!!av})};if(aw!==false){az.footer=ai(aw||'#= kendo.toString(data,"D","'+ay.culture+'") #',{useWithBlock:false})}}});an.plugin(h);var g={firstDayOfMonth:function(au){return new o(au.getFullYear(),au.getMonth(),1)},firstVisibleDay:function(av,au){au=au||G.culture().calendar;var aw=au.firstDay,ax=new o(av.getFullYear(),av.getMonth(),0,av.getHours(),av.getMinutes(),av.getSeconds(),av.getMilliseconds());while(ax.getDay()!=aw){g.setTime(ax,-1*R)}return ax},setTime:function(au,aw){var ax=au.getTimezoneOffset(),av=new o(au.getTime()+aw),ay=av.getTimezoneOffset()-ax;au.setTime(av.getTime()+ay*S)},views:[{name:M,title:function(av,ax,aw,au){return w(au).months.names[av.getMonth()]+" "+av.getFullYear()},content:function(aK){var aN=this,aE=0,aH=aK.min,aG=aK.max,aw=aK.date,ax=aK.dates,aB=aK.format,au=aK.culture,aJ=aK.url,aC=aJ&&ax[0],av=w(au),az=av.firstDay,ay=av.days,aI=af(ay.names,az),aL=af(ay.namesShort,az),aM=g.firstVisibleDay(aw,av),aA=aN.first(aw),aF=aN.last(aw),aO=aN.toDateString,aP=new o(),aD='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;aE<7;aE++){aD+='<th scope="col" title="'+aI[aE]+'">'+aL[aE]+"</th>"}aP=new o(aP.getFullYear(),aP.getMonth(),aP.getDate());b(aP,0);aP=+aP;return aq({cells:42,perRow:7,html:aD+='</tr></thead><tbody><tr role="row">',start:new o(aM.getFullYear(),aM.getMonth(),aM.getDate()),min:new o(aH.getFullYear(),aH.getMonth(),aH.getDate()),max:new o(aG.getFullYear(),aG.getMonth(),aG.getDate()),content:aK.content,empty:aK.empty,setter:aN.setDate,build:function(aR){var aQ=[],aS=aR.getDay(),aT="",aU="#";if(aR<aA||aR>aF){aQ.push(X)}if(+aR===aP){aQ.push("k-today")}if(aS===0||aS===6){aQ.push("k-weekend")}if(aC&&B(+aR,ax)){aU=aJ.replace("{0}",G.toString(aR,aB,au));aT=" k-action-link"}return{date:aR,dates:ax,ns:G.ns,title:G.toString(aR,"D",au),value:aR.getDate(),dateString:aO(aR),cssClass:aQ[0]?' class="'+aQ.join(" ")+'"':"",linkClass:aT,url:aU}}})},first:function(au){return g.firstDayOfMonth(au)},last:function(au){var aw=new o(au.getFullYear(),au.getMonth()+1,0),av=g.firstDayOfMonth(au),ax=Math.abs(aw.getTimezoneOffset()-av.getTimezoneOffset());if(ax){aw.setHours(av.getHours()+(ax/60))}return aw},compare:function(au,av){var ay,aw=au.getMonth(),az=au.getFullYear(),ax=av.getMonth(),aA=av.getFullYear();if(az>aA){ay=1}else{if(az<aA){ay=-1}else{ay=aw==ax?0:aw>ax?1:-1}}return ay},setDate:function(au,aw){var av=au.getHours();if(aw instanceof o){au.setFullYear(aw.getFullYear(),aw.getMonth(),aw.getDate())}else{g.setTime(au,aw*R)}b(au,av)},toDateString:function(au){return au.getFullYear()+"/"+au.getMonth()+"/"+au.getDate()}},{name:"year",title:function(au){return au.getFullYear()},content:function(ax){var aw=w(ax.culture).months.namesAbbr,ay=this.toDateString,av=ax.min,au=ax.max;return aq({min:new o(av.getFullYear(),av.getMonth(),1),max:new o(au.getFullYear(),au.getMonth(),1),start:new o(ax.date.getFullYear(),0,1),setter:this.setDate,build:function(az){return{value:aw[az.getMonth()],ns:G.ns,dateString:ay(az),cssClass:""}}})},first:function(au){return new o(au.getFullYear(),0,au.getDate())},last:function(au){return new o(au.getFullYear(),11,au.getDate())},compare:function(au,av){return n(au,av)},setDate:function(au,ax){var aw,av=au.getHours();if(ax instanceof o){aw=ax.getMonth();au.setFullYear(ax.getFullYear(),aw,au.getDate());if(aw!==au.getMonth()){au.setDate(0)}}else{aw=au.getMonth()+ax;au.setMonth(aw);if(aw>11){aw-=12}if(aw>0&&au.getMonth()!=aw){au.setDate(0)}}b(au,av)},toDateString:function(au){return au.getFullYear()+"/"+au.getMonth()+"/1"}},{name:"decade",title:function(au,aw,av){return aj(au,aw,av,10)},content:function(au){var aw=au.date.getFullYear(),av=this.toDateString;return aq({start:new o(aw-aw%10-1,0,1),min:new o(au.min.getFullYear(),0,1),max:new o(au.max.getFullYear(),0,1),setter:this.setDate,build:function(ax,ay){return{value:ax.getFullYear(),ns:G.ns,dateString:av(ax),cssClass:ay===0||ay==11?Y:""}}})},first:function(au){var av=au.getFullYear();return new o(av-av%10,au.getMonth(),au.getDate())},last:function(au){var av=au.getFullYear();return new o(av-av%10+9,au.getMonth(),au.getDate())},compare:function(au,av){return n(au,av,10)},setDate:function(au,av){ae(au,av,1)},toDateString:function(au){return au.getFullYear()+"/0/1"}},{name:k,title:function(au,aw,av){return aj(au,aw,av,100)},content:function(ay){var aA=ay.date.getFullYear(),aw=ay.min.getFullYear(),au=ay.max.getFullYear(),az=this.toDateString,ax=aw,av=au;ax=ax-ax%10;av=av-av%10;if(av-ax<10){av=ax+9}return aq({start:new o(aA-aA%100-10,0,1),min:new o(ax,0,1),max:new o(av,0,1),setter:this.setDate,build:function(aB,aD){var aE=aB.getFullYear(),aC=aE+9;if(aE<aw){aE=aw}if(aC>au){aC=au}return{ns:G.ns,value:aE+" - "+aC,dateString:az(aB),cssClass:aD===0||aD==11?Y:""}}})},first:function(au){var av=au.getFullYear();return new o(av-av%100,au.getMonth(),au.getDate())},last:function(au){var av=au.getFullYear();return new o(av-av%100+99,au.getMonth(),au.getDate())},compare:function(au,av){return n(au,av,100)},setDate:function(au,av){ae(au,av,10)},toDateString:function(au){var av=au.getFullYear();return(av-av%10)+"/0/1"}}]};function aj(au,ay,aw,aA){var aB=au.getFullYear(),az=ay.getFullYear(),ax=aw.getFullYear(),av;aB=aB-aB%aA;av=aB+(aA-1);if(aB<az){aB=az}if(av>ax){av=ax}return aB+"-"+av}function aq(aE){var aA=0,ax,aD=aE.min,aC=aE.max,aG=aE.start,aF=aE.setter,au=aE.build,aB=aE.cells||12,av=aE.perRow||4,aw=aE.content||j,ay=aE.empty||q,az=aE.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;aA<aB;aA++){if(aA>0&&aA%av===0){az+='</tr><tr role="row">'}ax=au(aG,aA);az+=F(aG,aD,aC)?aw(ax):ay(ax);aF(aG,1)}return az+"</tr></tbody></table>"}function n(au,av,ax){var aA=au.getFullYear(),az=av.getFullYear(),aw=az,ay=0;if(ax){az=az-az%ax;aw=az-az%ax+ax-1}if(aA>aw){ay=1}else{if(aA<az){ay=-1}}return ay}function y(){var au=new o();return new o(au.getFullYear(),au.getMonth(),au.getDate())}function ad(ax,av,au){var aw=y();if(ax){aw=new o(+ax)}if(av>aw){aw=new o(+av)}else{if(au<aw){aw=new o(+au)}}return aw}function F(au,aw,av){return +au>=+aw&&+au<=+av}function af(au,av){return au.slice(av).concat(au.slice(0,av))}function ae(au,aw,av){aw=aw instanceof o?aw.getFullYear():au.getFullYear()+av*aw;au.setFullYear(aw)}function Q(au){a(this).toggleClass(z,N.indexOf(au.type)>-1||au.type==t)}function ab(au){au.preventDefault()}function w(au){return x(au).calendars.standard}function V(aw){var ax=ar[aw.start],av=ar[aw.depth],au=x(aw.culture);aw.format=s(aw.format||au.calendars.standard.patterns.d);if(isNaN(ax)){ax=0;aw.start=M}if(av===ao||av>ax){aw.depth=M}if(!aw.dates){aw.dates=[]}}function K(au){if(E){au.find("*").attr("unselectable","on")}}function B(au,av){for(var aw=0,ax=av.length;aw<ax;aw++){if(au===+av[aw]){return true}}return false}function C(au,av){if(au){return au.getFullYear()===av.getFullYear()&&au.getMonth()===av.getMonth()&&au.getDate()===av.getDate()}return false}function D(au,av){if(au){return au.getFullYear()===av.getFullYear()&&au.getMonth()===av.getMonth()}return false}g.isEqualDatePart=C;g.makeUnselectable=K;g.restrictValue=ad;g.isInRange=F;g.normalize=V;g.viewsEnum=ar;G.calendar=g})(window.kendo.jQuery);kendo_module({id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup"]});(function(a,S){var y=window.kendo,R=y.ui,T=R.Widget,I=y.parseDate,A=y.keys,Q=y.template,b=y._activeElement,q="<div />",O="<span />",G=".kendoDatePicker",i="click"+G,H="open",j="close",h="change",n="dateView",p="disabled",L="readonly",o="k-state-default",s="k-state-focused",N="k-state-selected",P="k-state-disabled",t="k-state-hover",z="keydown"+G,u="mouseenter"+G+" mouseleave"+G,E="mousedown"+G,v="id",C="min",B="max",D="month",c="aria-disabled",d="aria-expanded",e="aria-hidden",f="aria-readonly",g=y.calendar,x=g.isInRange,M=g.restrictValue,w=g.isEqualDatePart,r=a.extend,K=a.proxy,k=Date;function F(V){var W=V.parseFormats,U=V.format;g.normalize(V);W=a.isArray(W)?W:[W];if(a.inArray(U,W)===-1){W.splice(0,0,V.format)}V.parseFormats=W}function J(U){U.preventDefault()}var m=function(X){var Z=this,W,U=document.body,Y=l.sharedCalendar,V=a(q).attr(e,"true").addClass("k-calendar-container").appendTo(U);if(!Y){Y=l.sharedCalendar=new R.Calendar(a(q).attr(v,y.guid()).hide().appendTo(U),{focusOnNav:false});g.makeUnselectable(Y.element)}Z.calendar=Y;Z.options=X=X||{};W=X.id;if(W){W+="_dateview";V.attr(v,W);Z._dateViewID=W}Z.popup=new R.Popup(V,r(X.popup,X,{name:"Popup",isRtl:y.support.isRtl(X.anchor)}));Z.div=V;Z._templates();Z.value(X.value)};m.prototype={_calendar:function(){var Y=this,X=Y.popup,W=Y.options,U=Y.calendar,V=U.element;if(V.data(n)!==Y){V.appendTo(X.element).data(n,Y).off(i+" "+z).on(i,"td:has(.k-link)",K(Y._click,Y)).on(E,J).show();U.unbind(h).bind(h,W);U.month=Y.month;U.options.dates=W.dates;U.options.depth=W.depth;U.options.culture=W.culture;U._footer(Y.footer);U.min(W.min);U.max(W.max);U._value=null;U.navigate(Y._value||Y._current,W.start);Y.value(Y._value)}},destroy:function(){var Y=this,U=Y.calendar,W=U.element,V=W.data(n),X;if(V===S||V===Y){X=a(".k-calendar-container");if(X.length>1){W.hide().appendTo(document.body)}else{W.off(G);U.destroy();U.element.remove();l.sharedCalendar=null}}Y.popup.destroy()},open:function(){var U=this;U._calendar();U.popup.open()},close:function(){this.popup.close()},min:function(U){this._option(C,U)},max:function(U){this._option(B,U)},toggle:function(){var U=this;U[U.popup.visible()?j:H]()},move:function(V){var Y=this,W=V.keyCode,U=Y.calendar,X=V.ctrlKey&&W==A.DOWN||W==A.ENTER;if(W==A.ESC){Y.close();return}if(V.altKey){if(W==A.DOWN){Y.open();V.preventDefault()}else{if(W==A.UP){Y.close();V.preventDefault()}}return}if(!Y.popup.visible()){return}if(X&&U._cell.hasClass(N)){Y.close();V.preventDefault();return}Y._current=U._move(V)},value:function(X){var W=this,U=W.calendar,V=W.options;W._value=X;W._current=new k(+M(X,V.min,V.max));if(U.element.data(n)===W){U.value(X)}},_click:function(U){if(U.currentTarget.className.indexOf(N)!==-1){this.close()}},_option:function(V,Y){var X=this,W=X.options,U=X.calendar;W[V]=Y;if(U.element.data(n)===X){U[V](Y)}},_templates:function(){var Z=this,Y=Z.options,W=Y.footer,X=Y.month||{},U=X.content,V=X.empty;Z.month={content:Q('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+y.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(U||"#=data.value#")+"</a></td>",{useWithBlock:!!U}),empty:Q("<td>"+(V||"&nbsp;")+"</td>",{useWithBlock:!!V})};if(W!==false){Z.footer=Q(W||'#= kendo.toString(data,"D","'+Y.culture+'") #',{useWithBlock:false})}}};m.normalize=F;y.DateView=m;var l=T.extend({init:function(W,X){var Y=this,U,V;T.fn.init.call(Y,W,X);W=Y.element;X=Y.options;F(X);Y._wrapper();Y.dateView=new m(r({},X,{id:W.attr(v),anchor:Y.wrapper,change:function(){Y._change(this.value());Y.close()},close:function(Z){if(Y.trigger(j)){Z.preventDefault()}else{W.attr(d,false);V.attr(e,true)}},open:function(aa){var ab=Y.options,Z;if(Y.trigger(H)){aa.preventDefault()}else{if(Y.element.val()!==Y._oldText){Z=I(W.val(),ab.parseFormats,ab.culture);if(!Z){Y.dateView.value(Z)}else{Y.dateView._current=Z;Y.dateView.calendar._focus(Z)}}W.attr(d,true);V.attr(e,false)}}}));V=Y.dateView.div;Y._icon();W[0].setAttribute("type","text");W.addClass("k-input").attr({role:"textbox","aria-haspopup":true,"aria-expanded":false,"aria-owns":Y.dateView._dateViewID});Y._reset();Y._template();U=W.is("[disabled]");if(U){Y.enable(false)}else{Y.readonly(W.is("[readonly]"))}Y._old=Y._update(X.value||Y.element.val());Y._oldText=W.val();y.notify(Y)},events:[H,j,h],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:D,depth:D,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(W){var X=this,U=X.dateView,V=U.options;T.fn.setOptions.call(X,W);F(X.options);U.options=r(V,X.options,{change:V.change,close:V.close,open:V.open})},_editable:function(X){var Z=this,W=Z._dateIcon.off(G),V=Z.element.off(G),aa=Z._inputWrapper.off(G),Y=X.readonly,U=X.disable;if(!Y&&!U){aa.addClass(o).removeClass(P).on(u,Z._toggleHover);V.removeAttr(p).removeAttr(L).attr(c,false).attr(f,false).on("keydown"+G,K(Z._keydown,Z)).on("blur"+G,K(Z._blur,Z)).on("focus"+G,function(){Z._inputWrapper.addClass(s)});W.on(i,K(Z._click,Z)).on(E,J)}else{aa.addClass(U?P:o).removeClass(U?o:P);V.attr(p,U).attr(L,Y).attr(c,U).attr(f,Y)}},readonly:function(U){this._editable({readonly:U===S?true:U,disable:false})},enable:function(U){this._editable({readonly:false,disable:!(U=U===S?true:U)})},destroy:function(){var U=this;T.fn.destroy.call(U);U.dateView.destroy();U.element.off(G);U._dateIcon.off(G);U._inputWrapper.off(G);if(U._form){U._form.off("reset",U._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(U){return this._option(C,U)},max:function(U){return this._option(B,U)},value:function(V){var U=this;if(V===S){return U._value}U._old=U._update(V);if(U._old===null){U.element.val("")}U._oldText=U.element.val()},_toggleHover:function(U){a(U.currentTarget).toggleClass(t,U.type==="mouseenter")},_blur:function(){var U=this,V=U.element.val();U.close();if(V!==U._oldText){U._change(V)}U._inputWrapper.removeClass(s)},_click:function(){var V=this,U=V.element;V.dateView.toggle();if(!y.support.touch&&U[0]!==b()){U.focus()}},_change:function(V){var U=this;V=U._update(V);if(+U._old!=+V){U._old=V;U._oldText=U.element.val();U.trigger(h);U.element.trigger(h)}},_keydown:function(V){var W=this,U=W.dateView,X=W.element.val();if(!U.popup.visible()&&V.keyCode==A.ENTER&&X!==W._oldText){W._change(X)}else{U.move(V);W._updateARIA(U._current)}},_icon:function(){var W=this,U=W.element,V;V=U.next("span.k-select");if(!V[0]){V=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(U)}W._dateIcon=V.attr({role:"button","aria-controls":W.dateView._dateViewID})},_option:function(U,X){var W=this,V=W.options;if(X===S){return V[U]}X=I(X,V.parseFormats,V.culture);if(!X){return}V[U]=new k(+X);W.dateView[U](X)},_update:function(aa){var Z=this,Y=Z.options,X=Y.min,W=Y.max,U=I(aa,Y.parseFormats,Y.culture),V;if(+U===+Z._value){V=y.toString(U,Y.format,Y.culture);if(V!==aa){Z.element.val(U===null?aa:V)}return U}if(U!==null&&w(U,X)){U=M(U,X,W)}else{if(!x(U,X,W)){U=null}}Z._value=U;Z.dateView.value(U);Z.element.val(U?y.toString(U,Y.format,Y.culture):aa);Z._updateARIA(U);return U},_wrapper:function(){var V=this,U=V.element,W;W=U.parents(".k-datepicker");if(!W[0]){W=U.wrap(O).parent().addClass("k-picker-wrap k-state-default");W=W.wrap(O).parent()}W[0].style.cssText=U[0].style.cssText;U.css({width:"100%",height:U[0].style.height});V.wrapper=W.addClass("k-widget k-datepicker k-header").addClass(U[0].className);V._inputWrapper=a(W[0].firstChild)},_reset:function(){var X=this,U=X.element,W=U.attr("form"),V=W?a("#"+W):U.closest("form");if(V[0]){X._resetHandler=function(){X.value(U[0].defaultValue)};X._form=V.on("reset",X._resetHandler)}},_template:function(){this._ariaTemplate=Q(this.options.ARIATemplate)},_updateARIA:function(U){this.element.attr("aria-label",this._ariaTemplate({current:U}))}});R.plugin(l)})(window.kendo.jQuery);kendo_module({id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(a,B){var n=window.kendo,z=n.support,b=n._activeElement,s=z.placeholder,A=n.ui,o=n.keys,g=n.data.DataSource,p=A.List,c="aria-disabled",d="aria-readonly",h="k-state-default",i="disabled",u="readonly",j="k-state-focused",w="k-state-selected",y="k-state-disabled",k="k-state-hover",r=".kendoAutoComplete",l="mouseenter"+r+" mouseleave"+r,f=p.caret,x=p.selectText,t=a.proxy;function m(D,F,E){return E?F.substring(0,D).split(E).length-1:0}function C(D,F,E){return F.split(E)[m(D,F,E)]}function v(D,F,G,E){var H=F.split(E);H.splice(m(D,F,E),1,G);if(E&&H[H.length-1]!==""){H.push("")}return H.join(E)}function q(D){var E=D.value.length;x(D,E,E)}var e=p.extend({init:function(D,E){var F=this,G;F.ns=r;E=a.isArray(E)?{dataSource:E}:E;p.fn.init.call(F,D,E);D=F.element;E=F.options;E.placeholder=E.placeholder||D.attr("placeholder");if(s){D.attr("placeholder",E.placeholder)}F._wrapper();F._loader();F._dataSource();F._ignoreCase();D[0].type="text";G=F.wrapper;F._popup();D.addClass("k-input").on("keydown"+r,t(F._keydown,F)).on("paste"+r,t(F._search,F)).on("focus"+r,function(){F._prev=F._accessor();F._placeholder(false);G.addClass(j)}).on("blur"+r,function(){F._change();F._placeholder();G.removeClass(j)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});F._enable();F._old=F._accessor();if(D[0].id){D.attr("aria-owns",F.ul[0].id)}F._aria();F._placeholder();n.notify(F)},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{}},_dataSource:function(){var D=this;if(D.dataSource&&D._refreshHandler){D._unbindDataSource()}else{D._refreshHandler=t(D.refresh,D);D._progressHandler=t(D._showBusy,D)}D.dataSource=g.create(D.options.dataSource).bind("change",D._refreshHandler).bind("progress",D._progressHandler)},setDataSource:function(D){this.options.dataSource=D;this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(D){p.fn.setOptions.call(this,D);this._template();this._accessors();this._aria()},_editable:function(F){var H=this,E=H.element,I=H.wrapper.off(r),G=F.readonly,D=F.disable;if(!G&&!D){I.addClass(h).removeClass(y).on(l,H._toggleHover);E.removeAttr(i).removeAttr(u).attr(c,false).attr(d,false)}else{I.addClass(D?y:h).removeClass(D?h:y);E.attr(i,D).attr(u,G).attr(c,D).attr(d,G)}},close:function(){var E=this,D=E._current;if(D){D.removeClass(w)}E.current(null);E.popup.close()},destroy:function(){var D=this;D.element.off(r);D.wrapper.off(r);p.fn.destroy.call(D)},refresh:function(){var I=this,J=I.ul[0],H=I.popup,G=I.options,E=I._data(),F=E.length,D;I.trigger("dataBinding");J.innerHTML=n.render(I.template,E);I._height(F);if(H.visible()){H._position()}if(F){if(G.highlightFirst){I.current(a(J.firstChild))}if(G.suggest){I.suggest(a(J.firstChild))}}if(I._open){I._open=false;D=F?"open":"close";if(I._typing&&I.element[0]!==b()){D="close"}H[D]();I._typing=B}if(I._touchScroller){I._touchScroller.reset()}I._makeUnselectable();I._hideBusy();I.trigger("dataBound")},select:function(D){this._select(D)},search:function(I){var H=this,F=H.options,D=F.ignoreCase,G=F.separator,E;I=I||H._accessor();H._current=null;clearTimeout(H._typing);if(G){I=C(f(H.element[0]),I,G)}E=I.length;if(!E){H.popup.close()}else{if(E>=H.options.minLength){H._open=true;H._filterSource({value:D?I.toLowerCase():I,operator:F.filter,field:F.dataTextField,ignoreCase:D})}}},suggest:function(L){var J=this,G=J._last,K=J._accessor(),E=J.element[0],D=f(E),I=J.options.separator,N=K.split(I),M=m(D,K,I),H=D,F;if(G==o.BACKSPACE||G==o.DELETE){J._last=B;return}L=L||"";if(typeof L!=="string"){F=p.inArray(L[0],J.ul[0]);if(F>-1){L=J._text(J._data()[F])}else{L=""}}if(D<=0){D=K.toLowerCase().indexOf(L.toLowerCase())+1}F=K.substring(0,D).lastIndexOf(I);F=F>-1?D-(F+I.length):D;K=N[M].substring(0,F);if(L){F=L.toLowerCase().indexOf(K.toLowerCase());if(F>-1){L=L.substring(F+K.length);H=D+L.length;K+=L}if(I&&N[N.length-1]!==""){N.push("")}}N[M]=K;J._accessor(N.join(I||""));if(E===document.activeElement){x(E,D,H)}},value:function(D){if(D!==B){this._accessor(D);this._old=D}else{return this._accessor()}},_accessor:function(F){var E=this,D=E.element[0];if(F!==B){D.value=F===null?"":F;E._placeholder()}else{F=D.value;if(D.className.indexOf("k-readonly")>-1){if(F===E.options.placeholder){return""}else{return F}}return F}},_accept:function(D){var E=this;E._focus(D);q(E.element[0])},_keydown:function(E){var G=this,H=G.ul[0],F=E.keyCode,D=G._current,I=G.popup.visible();G._last=F;if(F===o.DOWN){if(I){G._move(D?D.next():a(H.firstChild))}E.preventDefault()}else{if(F===o.UP){if(I){G._move(D?D.prev():a(H.lastChild))}E.preventDefault()}else{if(F===o.ENTER||F===o.TAB){if(F===o.ENTER&&G.popup.visible()){E.preventDefault()}G._accept(D)}else{if(F===o.ESC){if(G.popup.visible()){E.preventDefault()}G.close()}else{G._search()}}}}},_move:function(D){var E=this;D=D[0]?D:null;E.current(D);if(E.options.suggest){E.suggest(D)}},_hideBusy:function(){var D=this;clearTimeout(D._busy);D._loading.hide();D.element.attr("aria-busy",false);D._busy=null},_showBusy:function(){var D=this;if(D._busy){return}D._busy=setTimeout(function(){D.element.attr("aria-busy",true);D._loading.show()},100)},_placeholder:function(F){if(s){return}var G=this,D=G.element,E=G.options.placeholder,H;if(E){H=D.val();if(F===B){F=!H}if(!F){if(H!==E){E=H}else{E=""}}if(H===G._old&&!F){return}D.toggleClass("k-readonly",F).val(E);if(!E&&D[0]===document.activeElement){p.selectText(D[0],0,0)}}},_search:function(){var D=this;clearTimeout(D._typing);D._typing=setTimeout(function(){if(D._prev!==D._accessor()){D._prev=D._accessor();D.search()}},D.options.delay)},_select:function(F){var I=this,G=I.options.separator,D=I._data(),H,E;F=a(F);if(F[0]&&!F.hasClass(w)){E=p.inArray(F[0],I.ul[0]);if(E>-1){D=D[E];H=I._text(D);if(G){H=v(f(I.element[0]),I._accessor(),H,G)}I._accessor(H);I.current(F.addClass(w))}}},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(D){a(D.currentTarget).toggleClass(k,D.type==="mouseenter")},_wrapper:function(){var F=this,E=F.element,D=E[0],G;G=E.parent();if(!G.is("span.k-widget")){G=E.wrap("<span />").parent()}G.attr("tabindex",-1);G.attr("role","presentation");G[0].style.cssText=D.style.cssText;E.css({width:"100%",height:D.style.height});F._focused=F.element;F.wrapper=G.addClass("k-widget k-autocomplete k-header").addClass(D.className)}});A.plugin(e)})(window.kendo.jQuery);kendo_module({id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(a,u){var k=window.kendo,t=k.ui,p=t.Select,m=k.support.mobileOS,l=".kendoDropDownList",g="disabled",o="readonly",e="change",i="k-state-focused",f="k-state-default",r="k-state-disabled",b="aria-disabled",c="aria-readonly",q="k-state-selected",j="mouseenter"+l+" mouseleave"+l,s="tabindex",n=a.proxy;var h=p.extend({init:function(v,y){var A=this,w=y&&y.index,x,B,z;A.ns=l;y=a.isArray(y)?{dataSource:y}:y;p.fn.init.call(A,v,y);A._focusHandler=function(){A.wrapper.focus()};y=A.options;v=A.element.on("focus"+l,A._focusHandler);A._reset();A._word="";A._wrapper();A._tabindex();A.wrapper.data(s,A.wrapper.attr(s));A._aria();A._span();A._popup();A._mobile();A._dataSource();A._ignoreCase();A._enable();A._oldIndex=A.selectedIndex=-1;A._cascade();if(w!==u){y.index=w}if(y.autoBind){A.dataSource.fetch()}else{if(A.selectedIndex===-1){z=y.text||"";if(!z){x=A._optionLabelText(y.optionLabel),B=x&&y.index===0;if(A._isSelect){if(B){z=x}else{z=v.children(":selected").text()}}else{if(!v[0].value&&B){z=x}}}A.text(z)}}k.notify(A)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:true,animation:{}},events:["open","close",e,"select","dataBinding","dataBound","cascade"],setOptions:function(v){p.fn.setOptions.call(this,v);this._template();this._accessors();this._aria()},destroy:function(){var v=this;v.wrapper.off(l);v.element.off(l);v._inputWrapper.off(l);p.fn.destroy.call(v)},open:function(){var v=this;if(!v.ul[0].firstChild){v._open=true;if(!v._request){v.dataSource.fetch()}}else{v.popup.open();v._scroll(v._current)}},toggle:function(v){this._toggle(v)},refresh:function(){var y=this,v=y._data(),w=v.length,x=y.options.optionLabel;y.trigger("dataBinding");if(y._current){y.current(null)}y.ul[0].innerHTML=k.render(y.template,v);y._height(w);if(y.popup.visible()){y.popup._position()}if(y._isSelect){if(x&&w){x=y._optionLabelText(x);x='<option value="">'+x+"</option>"}y._options(v,x)}if(y._open){y._open=false;y.toggle(!!w)}y._hideBusy();y._makeUnselectable();if(!y._fetch){if(w){y._selectItem()}else{if(y.text()!==x){y.element.val("");y.text("")}}}y._bound=true;y.trigger("dataBound")},search:function(x){if(x){var w=this,v=w.options.ignoreCase;if(v){x=x.toLowerCase()}w._select(function(y){var z=w._text(y);if(z!==u){z=(z+"");if(v){z=z.toLowerCase()}return z.indexOf(x)===0}})}},text:function(w){var v=this.span;if(w!==u){v.text(w)}else{return v.text()}},value:function(y){var x=this,w,v;if(y!==u){if(y!==null){y=y.toString()}x._selectedValue=y;v=y||(x.options.optionLabel&&!x.element[0].disabled&&y==="");if(v&&x._fetchItems(y)){return}w=x._index(y);x.select(w>-1?w:0)}else{return x._accessor()}},_editable:function(A){var C=this,x=C.element,v=A.disable,B=A.readonly,D=C.wrapper.off(l),w=C._inputWrapper.off(j),y=function(){w.addClass(i);C._blured=false},z=function(){if(!C._blured){C._triggerCascade();var E=window.self!==window.top;if(k.support.mobileOS.ios&&E){C._change()}else{C._blur()}w.removeClass(i);C._blured=true;x.blur()}};if(!B&&!v){x.removeAttr(g).removeAttr(o);w.addClass(f).removeClass(r).on(j,C._toggleHover);D.attr(s,D.data(s)).attr(b,false).attr(c,false).on("click"+l,function(E){C._blured=false;E.preventDefault();C.toggle()}).on("keydown"+l,n(C._keydown,C)).on("keypress"+l,n(C._keypress,C)).on("focusin"+l,y).on("focusout"+l,z)}else{if(v){D.removeAttr(s);w.addClass(r).removeClass(f)}else{w.addClass(f).removeClass(r);D.on("focusin"+l,y).on("focusout"+l,z)}x.attr(g,v).attr(o,B);D.attr(b,v).attr(c,B)}},_accept:function(v){this._focus(v)},_optionLabelText:function(){var x=this.options,v=x.dataTextField,w=x.optionLabel;if(w&&v&&typeof w==="object"){return this._text(w)}return w},_data:function(){var C=this,A=C.options,z=A.optionLabel,B=A.dataTextField,D=A.dataValueField,v=C.dataSource.view(),y=v.length,w=z,x=0;if(z&&y){if(typeof z==="object"){w=z}else{if(B){w={};B=B.split(".");D=D.split(".");d(w,D,"");d(w,B,z)}}w=new k.data.ObservableArray([w]);for(;x<y;x++){w.push(v[x])}v=w}return v},_keydown:function(v){var y=this,w=v.keyCode,x=k.keys,z=y.ul[0];if(w===x.LEFT){w=x.UP}else{if(w===x.RIGHT){w=x.DOWN}}v.keyCode=w;y._move(v);if(w===x.HOME){v.preventDefault();y._select(z.firstChild)}else{if(w===x.END){v.preventDefault();y._select(z.lastChild)}}},_selectNext:function(D,y){var C=this,B,A=y,w=C._data(),z=w.length,x=C.options.ignoreCase,v=function(F,E){F=F+"";if(x){F=F.toLowerCase()}if(F.indexOf(D)===0){C._select(E);C._triggerEvents();return true}};for(;y<z;y++){B=C._text(w[y]);if(B&&v(B,y)){return true}}if(A>0){y=0;for(;y<=A;y++){B=C._text(w[y]);if(B&&v(B,y)){return true}}}return false},_keypress:function(w){var y=this,v=String.fromCharCode(w.charCode||w.keyCode),x=y.selectedIndex,z=y._word;if(y.options.ignoreCase){v=v.toLowerCase()}if(v===" "){w.preventDefault()}if(y._last===v&&z.length<=1&&x>-1){if(!z){z=v}if(y._selectNext(z,x+1)){return}}y._word=z+v;y._last=v;y._search()},_popup:function(){p.fn._popup.call(this);this.popup.one("open",function(){this.wrapper=k.wrap(this.element).addClass("km-popup")})},_search:function(){var x=this,v=x.dataSource,w=x.selectedIndex,y=x._word;clearTimeout(x._typing);x._typing=setTimeout(function(){x._word=""},x.options.delay);if(!x.ul[0].firstChild){v.one(e,function(){if(v.data()[0]){x._selectNext(y,w)}}).fetch();return}x._selectNext(y,w);x._triggerEvents()},_select:function(y){var A=this,v=A._current,w=A._data(),B,z,x;y=A._get(y);if(y&&y[0]&&!y.hasClass(q)){if(v){v.removeClass(q)}x=t.List.inArray(y[0],A.ul[0]);if(x>-1){w=w[x];z=A._text(w);B=A._value(w);A.selectedIndex=x;A.text(z);A._accessor(B!==u?B:z,x);A._selectedValue=A._accessor();A.current(y.addClass(q));if(A._optionID){A._current.attr("aria-selected",true)}}}},_triggerEvents:function(){if(!this.popup.visible()){this._triggerCascade();this._change()}},_mobile:function(){var x=this,v=x.popup,w=v.element.parents(".km-root").eq(0);if(w.length&&m){v.options.animation.open.effects=(m.android||m.meego)?"fadeIn":(m.ios||m.wp)?"slideIn:up":v.options.animation.open.effects}},_span:function(){var x=this,y=x.wrapper,v="span.k-input",w;w=y.find(v);if(!w[0]){y.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(x.element);w=y.find(v)}x.span=w;x._inputWrapper=a(y[0].firstChild);x._arrow=y.find(".k-icon").mousedown(function(z){z.preventDefault()})},_wrapper:function(){var x=this,w=x.element,v=w[0],y;y=w.parent();if(!y.is("span.k-widget")){y=w.wrap("<span />").parent();y[0].style.cssText=v.style.cssText}w.hide();x._focused=x.wrapper=y.addClass("k-widget k-dropdown k-header").addClass(v.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(){var w=this,v=w.options.optionLabel;if(w.dataSource.view()[0]&&v){w.select(0);return}w.text(v);w.element.val("");w.selectedIndex=-1}});function d(y,w,A){var x=0,z=w.length-1,v;for(;x<z;++x){v=w[x];if(!(v in y)){y[v]={}}y=y[v]}y[w[z]]=A}t.plugin(h)})(window.kendo.jQuery);kendo_module({id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(a,C){var l=window.kendo,B=l.ui,n=B.List,u=B.Select,A=l.support,r=A.placeholder,b=l._activeElement,m=l.keys,p=".kendoComboBox",f="click"+p,o="mousedown"+p,i="disabled",t="readonly",e="change",h="k-state-default",j="k-state-focused",z="k-state-disabled",c="aria-disabled",d="aria-readonly",y="k-state-selected",w="filter",v="accept",x="rebind",k="mouseenter"+p+" mouseleave"+p,q=null,s=a.proxy;var g=u.extend({init:function(D,E){var G=this,F;G.ns=p;E=a.isArray(E)?{dataSource:E}:E;u.fn.init.call(G,D,E);G._focusHandler=function(){G.input.focus()};E=G.options;D=G.element.on("focus"+p,G._focusHandler);E.placeholder=E.placeholder||D.attr("placeholder");G._reset();G._wrapper();G._input();G._tabindex(G.input);G._popup();G._dataSource();G._ignoreCase();G._enable();G._cascade();G._aria();G._oldIndex=G.selectedIndex=-1;if(E.autoBind){G._filterSource()}else{F=E.text;if(!F&&G._isSelect){F=D.children(":selected").text()}if(F){G.input.val(F);G._prev=F}}if(!F){G._placeholder()}l.notify(G)},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,template:"",filter:"none",placeholder:"",suggest:false,ignoreCase:true,animation:{}},events:["open","close",e,"select","dataBinding","dataBound","cascade"],setOptions:function(D){u.fn.setOptions.call(this,D);this._template();this._accessors();this._aria()},current:function(E){var F=this,D=F._current;if(E===C){return D}if(D){D.removeClass(y)}u.fn.current.call(F,E)},destroy:function(){var D=this;D.input.off(p);D.element.off(p);D._inputWrapper.off(p);u.fn.destroy.call(D)},_editable:function(G){var I=this,E=G.disable,H=G.readonly,J=I._inputWrapper.off(p),F=I.element.add(I.input.off(p)),D=I._arrow.parent().off(f+" "+o);if(!H&&!E){J.addClass(h).removeClass(z).on(k,I._toggleHover);F.removeAttr(i).removeAttr(t).attr(c,false).attr(d,false);D.on(f,function(){I.toggle()}).on(o,function(K){K.preventDefault()});I.input.on("keydown"+p,s(I._keydown,I)).on("focus"+p,function(){J.addClass(j);I._placeholder(false)}).on("blur"+p,function(){J.removeClass(j);clearTimeout(I._typing);if(I.options.text!==I.input.val()){I.text(I.text())}I._placeholder();I._blur();I.element.blur()})}else{J.addClass(E?z:h).removeClass(E?h:z);F.attr(i,E).attr(t,H).attr(c,E).attr(d,H)}},open:function(){var E=this,D=E.dataSource.options.serverFiltering;if(E.popup.visible()){return}if(!E.ul[0].firstChild||(E._state===v&&!D)){E._open=true;E._state=x;E._filterSource()}else{E.popup.open();E._scroll(E._current)}},refresh:function(){var K=this,L=K.ul[0],I=K.options,J=K._state,E=K._data(),G=E.length,F,M,H,D;K.trigger("dataBinding");L.innerHTML=l.render(K.template,E);K._height(G);if(K.popup.visible()){K.popup._position()}if(K._isSelect){F=K.element[0].firstChild;if(J===x){K._state="";M=K.value()}D=K._option;K._option=C;K._options(E);if(D&&D[0].selected){K._custom(D.val())}else{if(!K._bound&&!F){K._custom("")}}}if(G){if(I.highlightFirst){K.current(a(L.firstChild))}if(I.suggest&&K.input.val()&&K._request!==C){K.suggest(a(L.firstChild))}}if(J!==w&&!K._fetch){K._selectItem()}if(K._open){K._open=false;H=!!G;if(K._typing&&K.input[0]!==b()){H=false}K.toggle(H);K._typing=C}if(K._touchScroller){K._touchScroller.reset()}K._makeUnselectable();K._hideBusy();K._bound=true;K.trigger("dataBound")},search:function(J){J=typeof J==="string"?J:this.text();var I=this,G=J.length,H=I.options,F=H.ignoreCase,E=H.filter,D=H.dataTextField;clearTimeout(I._typing);if(G>=H.minLength){I._state=w;if(E==="none"){I._filter(J)}else{I._open=true;I._filterSource({value:F?J.toLowerCase():J,field:D,operator:E,ignoreCase:F})}}},suggest:function(J){var H=this,E=H.input[0],I=H.text(),D=n.caret(E),G=H._last,F;if(G==m.BACKSPACE||G==m.DELETE){H._last=C;return}J=J||"";if(typeof J!=="string"){F=n.inArray(J[0],H.ul[0]);if(F>-1){J=H._text(H.dataSource.view()[F])}else{J=""}}if(D<=0){D=I.toLowerCase().indexOf(J.toLowerCase())+1}if(J){F=J.toLowerCase().indexOf(I.toLowerCase());if(F>-1){I+=J.substring(F+I.length)}}else{I=I.substring(0,D)}if(I.length!==D||!J){E.value=I;n.selectText(E,D,I.length)}},text:function(H){H=H===null?"":H;var I=this,F=I.input[0],E=I.options.ignoreCase,G=H,D;if(H!==C){D=I.dataItem();if(D&&I._text(D)===H&&I._value(D).toString()===I._old){I._triggerCascade();return}if(E){G=G.toLowerCase()}I._select(function(J){J=I._text(J);if(E){J=(J+"").toLowerCase()}return J===G});if(I.selectedIndex<0){I._custom(H);F.value=H}I._prev=F.value;I._triggerCascade()}else{return F.value}},toggle:function(E){var D=this;D._toggle(E)},value:function(G){var F=this,E=F.options,D;if(G!==C){if(G!==null){G=G.toString()}F._selectedValue=G;if(!F._open&&G&&F._fetchItems(G)){return}D=F._index(G);if(D>-1){F.select(D)}else{F.current(q);F._custom(G);if(E.value!==G||E.text!==F.input.val()){F.text(G);F._placeholder()}}F._old=F._accessor();F._oldIndex=F.selectedIndex}else{return F._accessor()}},_accept:function(D){var E=this;if(D){E._focus(D)}else{E.text(E.text());E._change()}},_custom:function(G){var F=this,E=F.element,D=F._option;if(F._state===w){F._state=v}if(F._isSelect){if(!D){D=F._option=a("<option/>");E.append(D)}D.text(G);D[0].selected=true}else{E.val(G)}F._selectedValue=G},_filter:function(I){var H=this,F=H.options,D=H.dataSource,E=F.ignoreCase,G=function(J){var K=H._text(J);if(K!==C){K=K+"";if(K!==""&&I===""){return false}if(E){K=K.toLowerCase()}return K.indexOf(I)===0}};if(E){I=I.toLowerCase()}if(!H.ul[0].firstChild){D.one(e,function(){if(D.data()[0]){H.search(I)}}).fetch();return}if(H._highlight(G)!==-1){if(F.suggest&&H._current){H.suggest(H._current)}H.open()}H._hideBusy()},_highlight:function(E){var F=this,D;if(E===C||E===null){return -1}E=F._get(E);D=n.inArray(E[0],F.ul[0]);if(D==-1){if(F.options.highlightFirst&&!F.text()){E=a(F.ul[0].firstChild)}else{E=q}}F.current(E);return D},_input:function(){var I=this,E=I.element.removeClass("k-input")[0],D=E.accessKey,J=I.wrapper,H="input.k-input",G=E.name||"",F;if(G){G='name="'+G+'_input" '}F=J.find(H);if(!F[0]){J.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+G+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(I.element);F=J.find(H)}F[0].style.cssText=E.style.cssText;if(E.maxLength>-1){F[0].maxLength=E.maxLength}F.addClass(E.className).val(E.value).css({width:"100%",height:E.style.height}).attr({role:"combobox","aria-expanded":false}).show();if(r){F.attr("placeholder",I.options.placeholder)}if(D){E.accessKey="";F[0].accessKey=D}I._focused=I.input=F;I._inputWrapper=a(J[0].firstChild);I._arrow=J.find(".k-icon").attr({role:"button",tabIndex:-1});if(E.id){I._arrow.attr("aria-controls",I.ul[0].id)}},_keydown:function(D){var F=this,E=D.keyCode;F._last=E;clearTimeout(F._typing);if(E!=m.TAB&&!F._move(D)){F._search()}},_placeholder:function(F){if(r){return}var G=this,D=G.input,E=G.options.placeholder,H;if(E){H=G.value();if(F===C){F=!H}D.toggleClass("k-readonly",F);if(!F){if(!H){E=""}else{return}}D.val(E);if(!E&&D[0]===document.activeElement){n.selectText(D[0],0,0)}}},_search:function(){var D=this;D._typing=setTimeout(function(){var E=D.text();if(D._prev!==E){D._prev=E;D.search(E)}},D.options.delay)},_select:function(F){var H=this,G,I,D=H._data(),E=H._highlight(F);H.selectedIndex=E;if(E!==-1){if(H._state===w){H._state=v}H._current.addClass(y);D=D[E];G=H._text(D);I=H._value(D);H._prev=H.input[0].value=G;H._accessor(I!==C?I:G,E);H._selectedValue=H._accessor();H._placeholder();if(H._optionID){H._current.attr("aria-selected",true)}}},_wrapper:function(){var E=this,D=E.element,F=D.parent();if(!F.is("span.k-widget")){F=D.hide().wrap("<span />").parent();F[0].style.cssText=D[0].style.cssText}E.wrapper=F.addClass("k-widget k-combobox k-header").addClass(D[0].className).css("display","")},_clearSelection:function(G,F){var H=this,E=G._selectedValue||G.value(),D=E&&G.selectedIndex===-1;if(F||!E||D){H.value("")}}});B.plugin(g)})(window.kendo.jQuery);kendo_module({id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(a,Q){var t=window.kendo,P=t.ui,y=P.List,v=t.keys,c=t._activeElement,E=t.data.ObservableArray,I=a.proxy,r="id",x="li",b="accept",k="filter",F="open",h="close",f="change",H="progress",L="select",C="nextSibling",G="previousSibling",o=' style="display:none"',d="aria-disabled",e="aria-readonly",m="k-state-focused",n="k-loading-hidden",p="k-state-hover",N="k-state-disabled",j="disabled",K="readonly",D=".kendoMultiSelect",g="click"+D,u="keydown"+D,z="mouseenter"+D,A="mouseleave"+D,q=z+" "+A,J=/"/g,s=a.isArray,O=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var B=y.extend({init:function(S,U){var V=this,T,R;V.ns=D;y.fn.init.call(V,S,U);V._wrapper();V._tagList();V._input();V._textContainer();V._loader();V._tabindex(V.input);S=V.element.attr("multiple","multiple").hide();U=V.options;R=U.value;if(!U.placeholder){U.placeholder=S.data("placeholder")}T=S.attr(r);if(T){V._tagID=T+"_tag_active";T=T+"_taglist";V.tagList.attr(r,T)}V._aria(T);V._dataSource();V._ignoreCase();V._popup();V._values=[];V._dataItems=[];V._reset();V._enable();V._placeholder();if(U.autoBind){V.dataSource.fetch()}else{if(R){if(!s(R)){R=[R]}if(a.isPlainObject(R[0])||!U.dataValueField){V._retrieveData=true;V.dataSource.data(R);V.value(V._initialValues)}}}t.notify(V)},options:{name:"MultiSelect",enabled:true,autoBind:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[F,h,f,L,"dataBinding","dataBound"],setDataSource:function(R){this.options.dataSource=R;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(R){y.fn.setOptions.call(this,R);this._template();this._accessors();this._aria(this.tagList.attr(r))},current:function(R){this.currentTag(null);return y.fn.current.call(this,R)},currentTag:function(R){var S=this;if(R!==Q){if(S._currentTag){S._currentTag.removeClass(m).removeAttr(r);S.input.removeAttr("aria-activedescendant")}if(R){R.addClass(m).attr(r,S._tagID);S.input.attr("aria-activedescendant",S._tagID)}S._currentTag=R}else{return S._currentTag}},dataItems:function(){return this._dataItems},destroy:function(){var S=this,R=S.ns;S.wrapper.off(R);S.tagList.off(R);S.input.off(R);y.fn.destroy.call(S)},_editable:function(T){var W=this,R=T.disable,U=T.readonly,X=W.wrapper.off(D),V=W.tagList.off(D),S=W.element.add(W.input.off(D));if(!U&&!R){X.removeClass(N).on(q,W._toggleHover).on("mousedown"+D,function(Z){var Y=Z.target.className.indexOf("k-delete")!==-1;Z.preventDefault();if(!Y){if(W.input[0]!==c()){W.input.focus()}if(W.options.minLength===0){W.open()}}});W.input.on(u,I(W._keydown,W)).on("paste"+D,I(W._search,W)).on("focus"+D,function(){W._placeholder(false)}).on("blur"+D,function(){clearTimeout(W._typing);W._placeholder();W.close();if(W._state===k){W._state=b}W.element.blur()});S.removeAttr(j).removeAttr(K).attr(d,false).attr(e,false);V.on(z,x,function(){a(this).addClass(p)}).on(A,x,function(){a(this).removeClass(p)}).on(g,".k-delete",function(Y){W._unselect(a(Y.target).closest(x));W._change();W.close()})}else{if(R){X.addClass(N)}else{X.removeClass(N)}S.attr(j,R).attr(K,U).attr(d,R).attr(e,U)}},close:function(){this.popup.close();this.current(null)},open:function(){var R=this;if(!R.ul[0].firstChild||R._state===b||R._retrieveData){R._state="";R._open=true;R._retrieveData=false;R._filterSource()}else{if(R._visibleItems&&R._allowSelection()){R.popup.open();R.current(R.options.highlightFirst?a(l(R.ul[0])):null)}}},toggle:function(R){R=R!==Q?R:!this.popup.visible();this[R?F:h]()},refresh:function(){var T=this,S=null,R;T.trigger("dataBinding");R=T._render(T.dataSource.view());T._height(R);if(T._setInitialValues){T._setInitialValues=false;T.value(T._initialValues)}if(T._open){T._open=false;T.toggle(R)}if(T.popup.visible()){T.popup._position();if(T.options.highlightFirst){S=a(l(T.ul[0]))}}T.current(S);if(T._touchScroller){T._touchScroller.reset()}T._makeUnselectable();T._hideBusy();T.trigger("dataBound")},search:function(X){var W=this,V=W.options,T=V.ignoreCase,S=V.filter,R=V.dataTextField,U=W.input.val();if(V.placeholder===U){U=""}clearTimeout(W._typing);X=typeof X==="string"?X:U;if(X.length>=V.minLength){W._state=k;W._open=true;W._filterSource({value:T?X.toLowerCase():X,field:R,operator:S,ignoreCase:T})}},value:function(W){var V=this,U=a(V.tagList[0].children),T=U.length,R,S=0;if(W===Q){return V._values}if(V._fetchItems(W)){return}for(;S<T;S++){V._unselect(U.eq(S))}if(W!==null){W=s(W)||W instanceof E?W:[W];for(S=0,T=W.length;S<T;S++){R=V._index(W[S]);if(R>-1){V._select(R)}}V._old=V._values.slice()}},_dataSource:function(){var U=this,S=U.element,T=U.options,R=T.dataSource||{};R=s(R)?{data:R}:R;R.select=S;R.fields=[{field:T.dataTextField},{field:T.dataValueField}];if(U.dataSource&&U._refreshHandler){U._unbindDataSource()}else{U._refreshHandler=I(U.refresh,U);U._progressHandler=I(U._showBusy,U)}U.dataSource=t.data.DataSource.create(R).bind(f,U._refreshHandler).bind(H,U._progressHandler)},_fetchItems:function(T){var S=this;var R=a.isArray(T)&&T.length===0;if(R||!T){return}if(!S._fetch&&!S.ul[0].firstChild){S.dataSource.one(f,function(){S.value(T);S._fetch=false});S._fetch=true;S.dataSource.fetch();return true}},_reset:function(){var U=this,R=U.element,T=R.attr("form"),S=T?a("#"+T):R.closest("form");if(S[0]){U._resetHandler=function(){setTimeout(function(){U.value(U._initialValues)})};U._form=S.on("reset",U._resetHandler)}},_initValue:function(){var R=this,S=R.options.value||R.element.val();if(S===null){S=[]}else{if(!s(S)){S=[S]}S=R._mapValues(S)}R._old=R._initialValues=S;R._setInitialValues=!!S[0]},_mapValues:function(S){var R=this;if(S&&a.isPlainObject(S[0])){S=a.map(S,function(T){return R._value(T)})}return S},_change:function(){var R=this,S=R.value();if(!i(S,R._old)){R._old=S.slice();R.trigger(f);R.element.trigger(f)}},_click:function(R){var T=this,S=a(R.currentTarget);if(!R.isDefaultPrevented()){if(T.trigger(L,{item:S})){T.close();return}T._select(S);T._change();T.close()}},_item:function(S,R){S=S[R]();if(S[0]&&!S.is(":visible")){S=this._item(S,R)}return S},_keydown:function(S){var X=this,V=S.keyCode,W=X._currentTag,R=X._current,T=X.input.val(),U=t.support.isRtl(X.wrapper),Y=X.popup.visible();if(V===v.DOWN){S.preventDefault();if(!Y){X.open();return}if(R){R=M(R[0],C)}else{R=X.ul[0].firstChild}if(R){X.current(a(R))}}else{if(V===v.UP){if(Y){if(R){R=M(R[0],G)}else{R=X.ul[0].lastChild}X.current(a(R));if(!X._current[0]){X.close()}}S.preventDefault()}else{if((V===v.LEFT&&!U)||(V===v.RIGHT&&U)){if(!T){W=W?W.prev():a(X.tagList[0].lastChild);if(W[0]){X.currentTag(W)}}}else{if((V===v.RIGHT&&!U)||(V===v.LEFT&&U)){if(!T&&W){W=W.next();X.currentTag(W[0]?W:null)}}else{if(V===v.ENTER&&Y){if(R){if(X.trigger(L,{item:R})){X.close();return}X._select(R)}X._change();X.close();S.preventDefault()}else{if(V===v.ESC){if(Y){S.preventDefault()}else{X.currentTag(null)}X.close()}else{if(V===v.HOME){if(Y){X.current(a(l(X.ul[0])))}else{if(!T){W=X.tagList[0].firstChild;if(W){X.currentTag(a(W))}}}}else{if(V===v.END){if(Y){X.current(a(w(X.ul[0])))}else{if(!T){W=X.tagList[0].lastChild;if(W){X.currentTag(a(W))}}}}else{if((V===v.DELETE||V===v.BACKSPACE)&&!T){if(V===v.BACKSPACE&&!W){W=a(X.tagList[0].lastChild)}if(W&&W[0]){X._unselect(W);X._change();X.close()}}else{clearTimeout(X._typing);setTimeout(function(){X._scale()});X._search()}}}}}}}}}},_hideBusy:function(){var R=this;clearTimeout(R._busy);R.input.attr("aria-busy",false);R._loading.addClass(n);R._busy=null},_showBusy:function(){var R=this;if(R._busy){return}R._busy=setTimeout(function(){R.input.attr("aria-busy",true);R._loading.removeClass(n)},100)},_placeholder:function(S){var T=this,R=T.input;if(S===Q){S=false;if(R[0]!==c()){S=!T._dataItems[0]}T.wrapper.removeClass(m)}else{T.wrapper.addClass(m)}T._prev="";R.toggleClass("k-readonly",S).val(S?T.options.placeholder:"");if(R[0]===document.activeElement){y.selectText(R[0],0,0)}T._scale()},_scale:function(){var T=this,U=T.wrapper,V=U.width(),R=T._span.text(T.input.val()),S;if(!U.is(":visible")){R.appendTo(document.documentElement);V=S=R.width()+25;R.appendTo(U)}else{S=R.width()+25}T.input.width(S>V?V:S)},_option:function(R,V){var U="<option",S=this._text(R),T=this._value(R);if(T!==Q){T+="";if(T.indexOf('"')!==-1){T=T.replace(J,"&quot;")}U+=' value="'+T+'"'}if(V){U+=' selected="selected"'}U+=">";if(S!==Q){U+=t.htmlEncode(S)}return U+="</option>"},_render:function(R){var Z=this,V=R.length,Y=Z.itemTemplate,aa=Z._dataItems.slice(0),ab=0,U=0,W="",T="",S,X;for(;U<V;U++){S=R[U];X=Z._selected(aa,S);T+=Y(S,U,X);W+=Z._option(S,X);if(!X){ab+=1}}V=aa.length;if(V){for(U=0;U<V;U++){W+=Z._option(aa[U],true)}}Z.ul[0].innerHTML=T;Z.element.html(W);Z._visibleItems=ab;return ab},_selected:function(aa,R){var X=this,W=X._text,Z=X._value,Y=Z(R),U=aa.length,V=false,S,T=0;if(Y===Q){Y=W(R)}for(;T<U;T++){R=aa[T];S=Z(R);if(S===Q){S=W(R)}if(S!==Q&&S===Y){V=true;break}}if(V){aa.splice(T,1)}return V},_search:function(){var R=this;R._typing=setTimeout(function(){var S=R.input.val();if(R._prev!==S){R._prev=S;R.search(S)}},R.options.delay)},_allowSelection:function(){var R=this.options.maxSelectedItems;return R===null||R>this._values.length},_select:function(T){var U=this,V=U._values,R,S;if(!U._allowSelection()){return}if(!isNaN(T)){S=T;U.ul[0].children[S].style.display="none"}else{S=T.hide().data("idx")}U.element[0].children[S].selected=true;R=U.dataSource.view()[S];U.tagList.append(U.tagTemplate(R));U._dataItems.push(R);V.push(U._dataValue(R));U._visibleItems-=1;U.currentTag(null);U._placeholder();U._height(U._visibleItems);if(U._state===k){U._state=b}},_unselect:function(W){var X=this,S=W.index(),R,Y,V,U,T;W.remove();X.currentTag(null);X._values.splice(S,1);R=X._dataItems.splice(S,1)[0];Y=X._dataValue(R);S=X._index(Y);if(S!==-1){a(X.ul[0].children[S]).show();X.element[0].children[S].selected=false;X._visibleItems+=1;X._height(X._visibleItems)}else{S=X.dataSource.view().length;V=X.element[0].children;T=V.length;for(;S<T;S++){U=V[S];if(U.value==Y){U.selected=false;break}}}X._placeholder()},_template:function(){var W=this,T=W.options,S=T.itemTemplate,U=T.tagTemplate,R=T.dataSource,V;if(W.element[0].length&&!R){T.dataTextField=T.dataTextField||"text";T.dataValueField=T.dataValueField||"value"}V=t.template("#:"+t.expr(T.dataTextField,"data")+"#",{useWithBlock:false});S=S?t.template(S):V;U=U?t.template(U):V;W.itemTemplate=function(X,Z,Y){return'<li tabindex="-1" role="option" data-idx="'+Z+'" unselectable="on" class="k-item"'+(Y?o:"")+">"+S(X)+"</li>"};W.tagTemplate=function(X){return'<li class="k-button" unselectable="on"><span unselectable="on">'+U(X)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var T=this,R=T.element[0].accessKey,S=T._innerWrapper.children("input.k-input");if(!S[0]){S=a('<input class="k-input" style="width: 25px" />').appendTo(T._innerWrapper)}T.element.removeAttr("accesskey");T._focused=T.input=S.attr({accesskey:R,role:"listbox","aria-expanded":false})},_tagList:function(){var S=this,R=S._innerWrapper.children("ul");if(!R[0]){R=a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(S._innerWrapper)}S.tagList=R},_loader:function(){this._loading=a('<span class="k-icon k-loading '+n+'"></span>').insertAfter(this.input)},_textContainer:function(){var R=t.getComputedStyles(this.input[0],O);R.position="absolute";R.visibility="hidden";this._span=a("<span/>").css(R).appendTo(this.wrapper)},_wrapper:function(){var S=this,R=S.element,T=R.parent("span.k-multiselect");if(!T[0]){T=R.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();T[0].style.cssText=R[0].style.cssText;a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(R)}S.wrapper=T.addClass(R[0].className).css("display","");S._innerWrapper=a(T[0].firstChild)}});function i(R,S){var T;if((R===null&&S!==null)||(R!==null&&S===null)){return false}T=R.length;if(T!==S.length){return false}while(T--){if(R[T]!==S[T]){return false}}return true}function l(S){var R=S.firstChild;if(R&&R.style.display==="none"){R=M(R,C)}return R}function w(S){var R=S.lastChild;if(R&&R.style.display==="none"){R=M(R,G)}return R}function M(S,R){S=S[R];if(S&&S.style.display==="none"){S=M(S,R)}return S}P.plugin(B)})(window.kendo.jQuery);kendo_module({id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","popup","slider","userevents"]});(function(a,y,E){var t=window.kendo,i=t.Class,D=t.ui,G=D.Widget,v=t.keys,f="background-color",s="k-state-selected",B="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",F="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",e={apply:"Apply",cancel:"Cancel"},w=".kendoColorTools",j="click"+w,u="keydown"+w,h=t.support.browser,r=h.msie&&h.version<9;var n=G.extend({init:function(I,J){var K=this,H;G.fn.init.call(K,I,J);I=K.element;J=K.options;K._value=J.value=x(J.value);H=K._ariaId=J.ariaId;if(H){I.attr("aria-labelledby",H)}if(J._standalone){K._triggerSelect=K._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(H){if(H!==E){this._value=x(H);this._updateUI(this._value)}return this._value},value:function(H){H=this.color(H);if(H){if(this.options.opacity){H=H.toCssRgba()}else{H=H.toCss()}}return H||null},enable:function(H){if(arguments.length===0){H=true}if(H){a(".k-disabled-overlay",this.wrapper).remove()}else{this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(H)},_select:function(H,I){var J=this._value;H=this.color(H);if(!I){if(!H.equals(J)){this.trigger("change",{value:this.value()})}else{if(!this._standalone){this.trigger("cancel")}}}},_triggerSelect:function(H){C(this,"select",H)},_triggerChange:function(H){C(this,"change",H)},destroy:function(){if(this.element){this.element.off(w)}if(this.wrapper){this.wrapper.off(w).find("*").off(w)}this.wrapper=null;G.fn.destroy.call(this)},_updateUI:a.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function C(I,J,H){H=x(H);if(H&&!H.equals(I.color())){if(J=="change"){I._value=H}if(H.a!=1){H=H.toCssRgba()}else{H=H.toCss()}I.trigger(J,{value:H})}}var l=n.extend({init:function(I,K){var L=this;n.fn.init.call(L,I,K);I=L.wrapper=L.element;K=L.options;var H=K.palette;if(H=="websafe"){H=F;K.columns=18}else{if(H=="basic"){H=B}}if(typeof H=="string"){H=H.split(",")}if(a.isArray(H)){H=a.map(H,function(O){return x(O)})}I.addClass("k-widget k-colorpalette").append(a(L._template({colors:H,tileSize:K.tileSize,value:L._value,id:K.ariaId}))).on(j,".k-item",function(O){L._select(a(O.currentTarget).css(f))}).attr("tabIndex",0).on(u,g(L._keydown,L));var M=K.tileSize,N,J;if(M){if(/number|string/.test(typeof M)){N=J=parseFloat(M)}else{if(typeof M=="object"){N=parseFloat(M.width);J=parseFloat(M.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}}I.find(".k-item").css({width:N-2,height:J-2})}if(K.columns){I.css("width",K.columns*(N||14))}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(H){if(H){this.wrapper.removeAttr("tabIndex")}else{this.wrapper.attr("tabIndex",0)}},_keydown:function(J){var N,O=this,P=O.wrapper,L=P.find(".k-item"),I=L.filter("."+s).get(0),M=J.keyCode;if(M==v.LEFT){N=A(L,I,-1)}else{if(M==v.RIGHT){N=A(L,I,1)}else{if(M==v.DOWN){N=A(L,I,O.options.columns)}else{if(M==v.UP){N=A(L,I,-O.options.columns)}else{if(M==v.ENTER){z(J);if(I){this._select(a(I).css(f))}}else{if(M==v.ESC){this._cancel()}}}}}}if(N){z(J);N=a(N);a(I).removeClass(s).removeAttr("aria-selected");N.addClass(s).attr("aria-selected",true);try{var H=x(N.css(f));O._triggerSelect(H)}catch(K){}}},_updateUI:function(H){var J=this,I=null;J.wrapper.find(".k-item."+s).removeClass(s).removeAttr("aria-selected");J.wrapper.find(".k-item").each(function(){var K=x(a(this).css(f));if(K&&K.equals(H)){I=this}});a(I).addClass(s).attr("aria-selected",true)},_template:t.template('<ul class="k-palette k-reset"># for (var i = 0; i < colors.length; i++) { #<li unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+s+'" : "" #" aria-label="#= colors[i].toCss() #"></li># } #</ul>')});var p=n.extend({init:function(H,I){var J=this;n.fn.init.call(J,H,I);I=J.options;H=J.element;J.wrapper=H.addClass("k-widget k-flatcolorpicker").append(J._template(I));J._hueElements=a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",H);J._selectedColor=a(".k-selected-color-display",H);J._colorAsText=a("input.k-color-value",H);J._sliders();J._hsvArea();J._updateUI(J._value||new d(1,0,0,1));H.find("input.k-color-value").on(u,function(L){var N=this;if(L.keyCode==v.ENTER){try{var K=x(N.value);var O=J.color();J._select(K,K.equals(O))}catch(M){a(N).addClass("k-state-error")}}else{if(J.options.autoupdate){setTimeout(function(){var P=x(N.value,true);if(P){J._updateUI(P,true)}},10)}}}).end().on(j,".k-controls button.apply",function(){J._select(J._getHSV())}).on(j,".k-controls button.cancel",function(){J._updateUI(J.color());J._cancel()});if(r){J._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;n.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,autoupdate:true,messages:e},_applyIEFilter:function(){var H=this.element.find(".k-hue-slider .k-slider-track")[0],I=H.currentStyle.backgroundImage;I=I.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");H.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+I+"', sizingMethod='scale')"},_sliders:function(){var K=this,H=K.element;function I(L){K._updateUI(K._getHSV(L.value,null,null,null))}K._hueSlider=H.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:false,slide:I,change:I}).data("kendoSlider");function J(L){K._updateUI(K._getHSV(null,null,null,L.value/100))}K._opacitySlider=H.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:J,change:J}).data("kendoSlider")},_hsvArea:function(){var K=this,H=K.element,J=H.find(".k-hsv-rectangle"),I=J.find(".k-draghandle").attr("tabIndex",0).on(u,g(K._keydown,K));function L(R,S){var O=this.offset,M=R-O.left,N=S-O.top,Q=this.width,P=this.height;M=M<0?0:M>Q?Q:M;N=N<0?0:N>P?P:N;K._svChange(M/Q,1-N/P)}K._hsvEvents=new t.UserEvents(J,{global:true,press:function(M){this.offset=t.getOffset(J);this.width=J.width();this.height=J.height();I.focus();L.call(this,M.x.location,M.y.location)},start:function(){J.addClass("k-dragging");I.focus()},move:function(M){M.preventDefault();L.call(this,M.x.location,M.y.location)},end:function(){J.removeClass("k-dragging")}});K._hsvRect=J;K._hsvHandle=I},_onEnable:function(H){this._hueSlider.enable(H);if(this._opacitySlider){this._opacitySlider.enable(H)}this.wrapper.find("input").attr("disabled",!H);var I=this._hsvRect.find(".k-draghandle");if(H){I.attr("tabIndex",0)}else{I.removeAttr("tabIndex")}},_keydown:function(H){var K=this;function J(N,M){var L=K._getHSV();L[N]+=M*(H.shiftKey?0.01:0.05);if(L[N]<0){L[N]=0}if(L[N]>1){L[N]=1}K._updateUI(L);z(H)}function I(M){var L=K._getHSV();L.h+=M*(H.shiftKey?1:5);if(L.h<0){L.h=0}if(L.h>359){L.h=359}K._updateUI(L);z(H)}switch(H.keyCode){case v.LEFT:if(H.ctrlKey){I(-1)}else{J("s",-1)}break;case v.RIGHT:if(H.ctrlKey){I(1)}else{J("s",1)}break;case v.UP:J(H.ctrlKey&&K._opacitySlider?"a":"v",1);break;case v.DOWN:J(H.ctrlKey&&K._opacitySlider?"a":"v",-1);break;case v.ENTER:K._select(K._getHSV());break;case v.F2:K.wrapper.find("input.k-color-value").focus().select();break;case v.ESC:K._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(I,M,N,H){var L=this._hsvRect,O=L.width(),K=L.height(),J=this._hsvHandle.position();if(I==null){I=this._hueSlider.value()}if(M==null){M=J.left/O}if(N==null){N=1-J.top/K}if(H==null){H=this._opacitySlider?this._opacitySlider.value()/100:1}return new c(I,M,N,H)},_svChange:function(I,J){var H=this._getHSV(null,I,J,null);this._updateUI(H)},_updateUI:function(H,I){var K=this,J=K._hsvRect;if(!H){return}this._colorAsText.removeClass("k-state-error");K._selectedColor.css(f,H.toDisplay());if(!I){K._colorAsText.val(K._opacitySlider?H.toCssRgba():H.toCss())}K._triggerSelect(H);H=H.toHSV();K._hsvHandle.css({left:H.s*J.width()+"px",top:(1-H.v)*J.height()+"px"});K._hueElements.css(f,new c(H.h,1,1,1).toCss());K._hueSlider.value(H.h);if(K._opacitySlider){K._opacitySlider.value(100*H.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:t.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function q(H,J,I){if(!I){I="0"}H=H.toString(16);while(J>H.length){H="0"+H}return H}function o(H){return parseFloat((+H).toFixed(3))}var k=i.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var H=this.toBytes();return"rgba("+H.r+", "+H.g+", "+H.b+", "+o(this.a)+")"},toDisplay:function(){if(r){return this.toCss()}return this.toCssRgba()},equals:function(H){return H===this||H!==null&&this.toCssRgba()==x(H).toCssRgba()},diff:function(I){if(I==null){return NaN}var H=this.toBytes();I=I.toBytes();return Math.sqrt(Math.pow((H.r-I.r)*0.3,2)+Math.pow((H.g-I.g)*0.59,2)+Math.pow((H.b-I.b)*0.11,2))},clone:function(){var H=this.toBytes();if(H===this){H=new b(H.r,H.g,H.b,H.a)}return H}});var d=k.extend({init:function(K,J,I,H){this.r=K;this.g=J;this.b=I;this.a=H},toHSV:function(){var M,L,I,K,O,P;var N=this.r,J=this.g,H=this.b;M=Math.min(N,J,H);L=Math.max(N,J,H);P=L;I=L-M;if(I===0){return new c(0,0,P,this.a)}if(L!==0){O=I/L;if(N==L){K=(J-H)/I}else{if(J==L){K=2+(H-N)/I}else{K=4+(N-J)/I}}K*=60;if(K<0){K+=360}}else{O=0;K=-1}return new c(K,O,P,this.a)},toBytes:function(){return new b(this.r*255,this.g*255,this.b*255,this.a)}});var b=d.extend({init:function(K,J,I,H){this.r=Math.round(K);this.g=Math.round(J);this.b=Math.round(I);this.a=H},toRGB:function(){return new d(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return q(this.r,2)+q(this.g,2)+q(this.b,2)},toBytes:function(){return this}});var c=k.extend({init:function(I,J,K,H){this.h=I;this.s=J;this.v=K;this.a=H},toRGB:function(){var K=this.h,P=this.s,R=this.v;var L,O,J,H,I,M,N,Q;if(P===0){O=J=H=R}else{K/=60;L=Math.floor(K);I=K-L;M=R*(1-P);N=R*(1-P*I);Q=R*(1-P*(1-I));switch(L){case 0:O=R;J=Q;H=M;break;case 1:O=N;J=R;H=M;break;case 2:O=M;J=R;H=Q;break;case 3:O=M;J=N;H=R;break;case 4:O=Q;J=M;H=R;break;default:O=R;J=M;H=N;break}}return new d(O,J,H,this.a)},toBytes:function(){return this.toRGB().toBytes()}});function x(H,J){if(H==null||H=="transparent"){return null}if(H instanceof k){return H}var I=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(H);if(I){return new b(y(I[1],16),y(I[2],16),y(I[3],16),1)}I=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(H);if(I){return new b(y(I[1]+I[1],16),y(I[2]+I[2],16),y(I[3]+I[3],16),1)}I=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(H);if(I){return new b(y(I[1],10),y(I[2],10),y(I[3],10),1)}I=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(H);if(I){return new b(y(I[1],10),y(I[2],10),y(I[3],10),parseFloat(I[4]))}I=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(H);if(I){return new d(parseFloat(I[1])/100,parseFloat(I[2])/100,parseFloat(I[3])/100,1)}I=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(H);if(I){return new d(parseFloat(I[1])/100,parseFloat(I[2])/100,parseFloat(I[3])/100,parseFloat(I[4]))}if(!J){throw new Error("Cannot parse color: "+H)}return E}function A(H,J,I){H=Array.prototype.slice.call(H);var K=H.length;var L=H.indexOf(J);if(L<0){return I<0?H[K-1]:H[0]}L+=I;if(L<0){L+=K}else{L%=K}return H[L]}var m=G.extend({init:function(J,K){var L=this;G.fn.init.call(L,J,K);K=L.options;J=L.element;var M=J.attr("value")||J.val();if(M){M=x(M,true)}else{M=x(K.value,true)}L._value=K.value=M;var I=L.wrapper=a(L._template(K));J.hide().after(I);if(J.is("input")){J.appendTo(I)}L.enable(!J.attr("disabled"));var H=J.attr("accesskey");if(H){J.attr("accesskey",null);I.attr("accesskey",H)}L.bind("activate",function(N){if(!N.isDefaultPrevented()){L.toggle()}});L._updateUI(M)},destroy:function(){this.wrapper.off(w).find("*").off(w);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;G.fn.destroy.call(this)},enable:function(H){var K=this,L=K.wrapper,J=L.children(".k-picker-wrap"),I=J.find(".k-select");if(arguments.length===0){H=true}K.element.attr("disabled",!H);L.attr("disabled",!H);I.off(w).on("mousedown"+w,z);L.addClass("k-state-disabled").removeAttr("tabIndex").add("*",L).off(w);if(H){L.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+w,function(){J.addClass("k-state-hover")}).on("mouseleave"+w,function(){J.removeClass("k-state-hover")}).on("focus"+w,function(){J.addClass("k-state-focused")}).on("blur"+w,function(){J.removeClass("k-state-focused")}).on(u,g(K._keydown,K)).on(j,".k-icon",g(K.toggle,K)).on(j,K.options.toolIcon?".k-tool-icon":".k-selected-color",function(){K.trigger("activate")})}},_template:t.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:e,opacity:false,buttons:true,preview:true},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:n.fn.color,value:n.fn.value,_select:n.fn._select,_triggerSelect:n.fn._triggerSelect,_isInputTypeColor:function(){var H=this.element[0];return(/^input$/i).test(H.tagName)&&(/^color$/i).test(H.type)},_updateUI:function(H){if(H){if(this._isInputTypeColor()||H.a==1){this.element.val(H.toCss())}else{this.element.val(H.toCssRgba())}}this._triggerSelect(H);this.wrapper.find(".k-selected-color").css(f,H?H.toDisplay():"transparent")},_keydown:function(H){var I=H.keyCode;if(this._getPopup().visible()){if(I==v.ESC){this._selector._cancel()}else{this._selector._keydown(H)}z(H)}else{if(I==v.ENTER||I==v.DOWN){this.open();z(H)}}},_getPopup:function(){var L=this,I=L._popup;if(!I){var H=this.options;var K;if(H.palette){K=l}else{K=p}H._standalone=false;delete H.select;delete H.change;delete H.cancel;var J=this._selector=new K(a("<div />").appendTo(document.body),H);L._popup=I=J.wrapper.kendoPopup({anchor:L.wrapper}).data("kendoPopup");J.bind({select:function(M){L._updateUI(x(M.value))},change:function(){L._select(J.color());L.close()},cancel:function(){L.close()}});I.bind({close:function(N){if(L.trigger("close")){N.preventDefault();return}L.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var M=J._selectOnHide();if(!M){L.wrapper.focus();L._updateUI(L.color())}else{L._select(M)}},open:function(M){if(L.trigger("open")){M.preventDefault()}else{L.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){J._select(L.color(),true);J.focus();L.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return I}});function z(H){H.preventDefault()}function g(H,I){return function(){return H.apply(I,arguments)}}D.plugin(l);D.plugin(p);D.plugin(m);t.parseColor=x;t.Color={fromBytes:function(K,J,I,H){return new b(K,J,I,H!=null?H:1)},fromRGB:function(K,J,I,H){return new d(K,J,I,H!=null?H:1)},fromHSV:function(I,J,K,H){return new c(I,J,K,H!=null?H:1)}}})(jQuery,parseInt);kendo_module({id:"columnmenu",name:"Column Menu",category:"framework",depends:["popup","filtermenu","menu"],advanced:true});(function(a,u){var l=window.kendo,t=l.ui,q=a.proxy,g=a.extend,i=a.grep,m=a.map,j=a.inArray,b="k-state-selected",c="asc",f="desc",d="change",k="init",p="kendoPopup",h="kendoFilterMenu",n="kendoMenu",o=".kendoColumnMenu",v=t.Widget;function s(w){return a.trim(w).replace(/&nbsp;/gi,"")}var e=v.extend({init:function(w,y){var z=this,x;v.fn.init.call(z,w,y);w=z.element;y=z.options;z.owner=y.owner;z.dataSource=y.dataSource;z.field=w.attr(l.attr("field"));x=w.find(".k-header-column-menu");if(!x[0]){x=w.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}z.link=x.attr("tabindex",-1).on("click"+o,q(z._click,z));z.wrapper=a('<div class="k-column-menu"/>')},_init:function(){var x=this,w=x.options;x.wrapper.html(l.template(r)({ns:l.ns,messages:w.messages,sortable:w.sortable,filterable:w.filterable,columns:x._ownerColumns(),showColumns:w.columns}));x.popup=x.wrapper[p]({anchor:x.link,open:q(x._open,x),activate:q(x._activate,x),close:x.options.closeCallback}).data(p);x._menu();x._sort();x._columns();x._filter();x.trigger(k,{field:x.field,container:x.wrapper})},events:[k],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:true,sortable:true,filterable:true},destroy:function(){var w=this;v.fn.destroy.call(w);if(w.filterMenu){w.filterMenu.destroy()}if(w._refreshHandler){w.dataSource.unbind(d,w._refreshHandler)}if(w.options.columns){w.owner.unbind("columnShow",w._updateColumnsMenuHandler);w.owner.unbind("columnHide",w._updateColumnsMenuHandler)}if(w.menu){w.menu.element.off(o);w.menu.destroy()}w.wrapper.off(o);if(w.popup){w.popup.destroy()}w.link.off(o)},close:function(){this.menu.close();this.popup.close();this.popup.element.off("keydown"+o)},_click:function(w){w.preventDefault();w.stopPropagation();if(!this.popup){this._init()}this.popup.toggle()},_open:function(){var w=this;a(".k-column-menu").not(w.wrapper).each(function(){a(this).data(p).close()});w.popup.element.on("keydown"+o,function(x){if(x.keyCode==l.keys.ESC){w.close()}})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var w=this.owner.columns,x=i(w,function(y){var z=true,A=s(y.title||"");if(y.menu===false||(!y.field&&!A.length)){z=false}return z});return m(x,function(y){return{originalField:y.field,field:y.field||y.title,title:y.title||y.field,hidden:y.hidden,index:j(y,w)}})},_menu:function(){this.menu=this.wrapper.children()[n]({orientation:"vertical",closeOnClick:false}).data(n)},_sort:function(){var w=this;if(w.options.sortable){w.refresh();w._refreshHandler=q(w.refresh,w);w.dataSource.bind(d,w._refreshHandler);w.menu.bind("select",function(y){var z=a(y.item),x;if(z.hasClass("k-sort-asc")){x=c}else{if(z.hasClass("k-sort-desc")){x=f}}if(!x){return}z.parent().find(".k-sort-"+(x==c?f:c)).removeClass(b);w._sortDataSource(z,x);w.close()})}},_sortDataSource:function(z,x){var D=this,C=D.options.sortable,w=D.dataSource,y,A,B=w.sort()||[];if(z.hasClass(b)&&C&&C.allowUnsort!==false){z.removeClass(b);x=u}else{z.addClass(b)}if(C===true||C.mode==="single"){B=[{field:D.field,dir:x}]}else{for(y=0,A=B.length;y<A;y++){if(B[y].field===D.field){B.splice(y,1);break}}B.push({field:D.field,dir:x})}w.sort(B)},_columns:function(){var w=this;if(w.options.columns){w._updateColumnsMenu();w._updateColumnsMenuHandler=q(w._updateColumnsMenu,w);w.owner.bind(["columnHide","columnShow"],w._updateColumnsMenuHandler);w.menu.bind("select",function(z){var D=a(z.item),C,B,x,y=w.owner.columns,A;if(!D.parent().closest("li.k-columns-item")[0]){return}C=D.find(":checkbox");if(C.attr("disabled")){return}A=C.attr(l.attr("field"));x=i(y,function(E){return E.field==A||E.title==A})[0];B=j(x,y);if(x.hidden===true){w.owner.showColumn(B)}else{w.owner.hideColumn(B)}})}},_updateColumnsMenu:function(){var w=l.attr("field"),x=i(this._ownerColumns(),function(z){return !z.hidden}),y=i(x,function(z){return z.originalField}).length;x=m(x,function(z){return z.field});this.wrapper.find(".k-columns-item input["+w+"]").prop("checked",false).filter(function(){return j(a(this).attr(w),x)>-1}).prop("checked",true).prop("disabled",y==1)},_filter:function(){var x=this,w=x.options;if(w.filterable!==false){x.filterMenu=x.wrapper.find(".k-filterable")[h](g(true,{},{appendToElement:true,dataSource:w.dataSource,values:w.values,field:x.field},w.filterable)).data(h)}},refresh:function(){var B=this,A=B.options.dataSource.sort()||[],w,x=B.field,y,z;B.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(b);for(y=0,z=A.length;y<z;y++){w=A[y];if(x==w.field){B.wrapper.find(".k-sort-"+w.dir).addClass(b)}}}});var r='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';t.plugin(e)})(window.kendo.jQuery);kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]}]});(function(a,aA){var Z=window.kendo,az=Z.ui,s=Z.data.DataSource,L=az.Groupable,ax=Z.support.tbodyInnerHtml,b=Z._activeElement,aE=az.Widget,aa=Z.keys,X=a.isPlainObject,A=a.extend,ab=a.map,J=a.grep,T=a.isArray,S=a.inArray,aj=a.proxy,V=a.isFunction,U=a.isEmptyObject,ac=Math,ai="progress",z="error",q=":not(.k-group-cell):not(.k-hierarchy-cell):visible",aq="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",ae="tr:not(.k-footer-template):visible",ad=":not(.k-group-cell):not(.k-hierarchy-cell):visible",C=ae+":first>"+ad+":first",P="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",N=P+":visible["+Z.attr("field")+"]",O=P+"["+Z.attr("field")+"]",ah=".kendoGrid",y="edit",an="save",ak="remove",x="detailInit",B="filterMenuInit",j="columnMenuInit",g="change",i="columnHide",m="columnShow",ao="saveChanges",r="dataBound",w="detailExpand",v="detailCollapse",D="k-state-focused",ap="k-state-selected",l="columnResize",k="columnReorder",h="click",Q="height",av="tabIndex",H="function",at="string",u="Are you sure you want to delete this record?",G=/(\}|\#)/ig,ay=/#/ig,aD="[\\x20\\t\\r\\n\\f]",af=new RegExp("(^|"+aD+")(k-group-cell|k-hierarchy-cell)("+aD+"|$)"),n='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',Y=false,e=Z.support.browser,W=e.msie&&e.version==7;var aB=aE.extend({init:function(aF,aG){var aH=this;aE.fn.init.call(aH,aF,aG);aH._refreshHandler=aj(aH.refresh,aH);aH.setDataSource(aG.dataSource);aH.wrap()},setDataSource:function(aF){var aG=this;if(aG.dataSource){aG.dataSource.unbind(g,aG._refreshHandler)}aG.dataSource=aF;aG.dataSource.bind(g,aG._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:a.noop},destroy:function(){var aF=this;aE.fn.destroy.call(aF);aF.dataSource.unbind(g,aF._refreshHandler);aF.wrapper.add(aF.verticalScrollbar).off(ah);if(aF.drag){aF.drag.destroy()}},wrap:function(){var aH=this,aG=Z.support.scrollbar()+1,aF=aH.element,aI;aF.css({width:"auto",overflow:"hidden"}).css((Y?"padding-left":"padding-right"),aG);aH.content=aF.children().first();aI=aH.wrapper=aH.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+ah+" mousewheel"+ah,aj(aH._wheelScroll,aH));if(Z.support.kineticScrollNeeded){aH.drag=new Z.UserEvents(aH.wrapper,{global:true,move:function(aJ){aH.verticalScrollbar.scrollTop(aH.verticalScrollbar.scrollTop()-aJ.y.delta);aI.scrollLeft(aI.scrollLeft()-aJ.x.delta);aJ.preventDefault()}})}aH.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:aG}).appendTo(aF).bind("scroll"+ah,aj(aH._scroll,aH))},_wheelScroll:function(aH){var aK=this,aJ=aK.verticalScrollbar.scrollTop(),aI=aH.originalEvent,aG=aI.wheelDeltaY,aF;if(aI.wheelDelta){if(aG===aA||aG){aF=aI.wheelDelta}}else{if(aI.detail&&aI.axis===aI.VERTICAL_AXIS){aF=(-aI.detail)*10}}if(aF){aH.preventDefault();aK.verticalScrollbar.scrollTop(aJ+(-aF))}},_scroll:function(aG){var aP=this,aM=aG.currentTarget.scrollTop,aF=aP.dataSource,aL=aP.itemHeight,aN=aF.skip()||0,aO=aP._rangeStart||aN,aI=aP.element.innerHeight(),aJ=!!(aP._scrollbarTop&&aP._scrollbarTop>aM),aH=ac.max(ac.floor(aM/aL),0),aK=ac.max(aH+ac.floor(aI/aL),0);aP._scrollTop=aM-(aO*aL);aP._scrollbarTop=aM;if(!aP._fetch(aH,aK,aJ)){aP.wrapper[0].scrollTop=aP._scrollTop}},_fetch:function(aI,aK,aN){var aP=this,aG=aP.dataSource,aJ=aP.itemHeight,aO=aG.take(),aM=aP._rangeStart||aG.skip()||0,aF=ac.floor(aI/aO)*aO,aH=false,aL=0.33;if(aI<aM){aH=true;aM=ac.max(0,aK-aO);aP._scrollTop=(aI-aM)*aJ;aP._page(aM,aO)}else{if(aK>=aM+aO&&!aN){aH=true;aM=aI;aP._scrollTop=aJ;aP._page(aM,aO)}else{if(!aP._fetching){if(aI<(aF+aO)-aO*aL&&aI>aO){aG.prefetch(aF-aO,aO)}if(aK>aF+aO*aL){aG.prefetch(aF+aO,aO)}}}}return aH},_page:function(aG,aH){var aI=this,aF=aI.dataSource;clearTimeout(aI._timeout);aI._fetching=true;aI._rangeStart=aG;if(aF.inRange(aG,aH)){aF.range(aG,aH)}else{Z.ui.progress(aI.wrapper.parent(),true);aI._timeout=setTimeout(function(){aF.range(aG,aH)},100)}},refresh:function(){var aN=this,aH="",aK=250000,aG=aN.dataSource,aL=aN._rangeStart,aM=!Z.support.kineticScrollNeeded?Z.support.scrollbar():0,aP=aN.wrapper[0],aO,aI,aJ;Z.ui.progress(aN.wrapper.parent(),false);clearTimeout(aN._timeout);aJ=aN.itemHeight=aN.options.itemHeight()||0;var aF=(aP.scrollWidth>aP.offsetWidth)?aM:0;aO=aG.total()*aJ+aF;for(aI=0;aI<ac.floor(aO/aK);aI++){aH+='<div style="width:1px;height:'+aK+'px"></div>'}if(aO%aK){aH+='<div style="width:1px;height:'+(aO%aK)+'px"></div>'}aN.verticalScrollbar.html(aH);aP.scrollTop=aN._scrollTop;if(aN.drag){aN.drag.cancel()}if(aL&&!aN._fetching){aN._rangeStart=aG.skip()}aN._fetching=false}});function M(aF){return new Array(aF+1).join('<td class="k-group-cell">&nbsp;</td>')}function au(aG){var aF,aH=" ";if(aG){if(typeof aG===at){return aG}for(aF in aG){aH+=aF+'="'+aG[aF]+'"'}}return aH}var t={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}};function R(aF){var aG=0;a("> .k-grouping-header, > .k-grid-toolbar",aF).each(function(){aG+=this.offsetHeight});return aG}function p(aF,aG){a("th, th .k-grid-filter, th .k-link",aF).add(document.body).css("cursor",aG)}function f(aG){var aI,aJ,aF={},aH={};if(!U(aG)){if(!T(aG)){aG=[aG]}for(aI=0,aJ=aG.length;aI<aJ;aI++){aF[aG[aI].aggregate]=0;aH[aG[aI].field]=aF}}return aH}function am(aH,aJ,aG){var aI=aH.eq(aJ),aF=aH.eq(aG);aI[aJ>aG?"insertBefore":"insertAfter"](aF)}function d(aJ,aI,aH){var aK,aL,aF,aG;aH=!T(aH)?[aH]:aH;for(aK=0,aL=aH.length;aK<aL;aK++){aF=aH[aK];if(X(aF)&&aF.click){aG=aF.name||aF.text;aI.on(h+ah,"a.k-grid-"+(aG||"").replace(/\s/g,""),{commandName:aG},aj(aF.click,aJ))}}}function aC(aF){return J(aF,function(aG){return !aG.hidden})}function c(aF){aF=aF||{};var aG=aF.style;if(!aG){aG="display:none"}else{aG=aG.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(aG===aF.style){aG=aG.replace(/(.*)?/i,"display:none;$1")}}return A({},aF,{style:aG})}function al(aF){aF=aF||{};var aG=aF.style;if(aG){aF.style=aG.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return aF}function ag(aJ,aK,aI,aH){var aF=aJ.find(">colgroup"),aL,aG=ab(aK,function(aM){aL=aM.width;if(aL&&parseInt(aL,10)!==0){return Z.format('<col style="width:{0}"/>',typeof aL===at?aL:aL+"px")}return"<col />"});if(aI||aF.find(".k-hierarchy-col").length){aG.splice(0,0,'<col class="k-hierarchy-col" />')}if(aF.length){aF.remove()}aF=a(new Array(aH+1).join('<col class="k-group-col">')+aG.join(""));if(!aF.is("colgroup")){aF=a("<colgroup/>").append(aF)}aJ.prepend(aF);if(e.msie&&e.version==8){aJ.css("display","inline-table");window.setTimeout(function(){aJ.css("display","")},1)}}function o(aF){var aJ={},aH,aG,aI;for(aG=0,aI=aF.length;aG<aI;aG++){aH=aF[aG];aJ[aH.value]=aH.text}return aJ}function F(aJ,aG,aF){var aI=aF&&aF.length&&X(aF[0])&&"value" in aF[0],aH=aI?o(aF)[aJ]:aJ;aH=aH!=null?aH:"";return aG?Z.format(aG,aH):aH}function ar(aG,aH,aK){var aI=0,aJ,aF=aG[aI];while(aF){aJ=aK?true:aF.style.display!=="none";if(aJ&&!af.test(aF.className)&&--aH<0){aF.style.display=aK?"":"none";break}aF=aG[++aI]}}var K=aE.extend({init:function(aF,aG){var aH=this;aG=T(aG)?{dataSource:aG}:aG;aE.fn.init.call(aH,aF,aG);Y=Z.support.isRtl(aF);aH._element();aH._aria();aH._columns(aH.options.columns);aH._dataSource();aH._tbody();aH._pageable();aH._thead();aH._groupable();aH._toolbar();aH._setContentHeight();aH._templates();aH._navigatable();aH._selectable();aH._details();aH._editable();aH._attachCustomCommandsEvent();if(aH.options.autoBind){aH.dataSource.fetch()}else{aH._footer()}Z.notify(aH)},events:[g,"dataBinding","cancel",r,w,v,x,B,j,y,an,ak,ao,l,k,m,i],setDataSource:function(aF){var aG=this;aG.options.dataSource=aF;aG._dataSource();aG._pageable();if(aG.options.groupable){aG._groupable()}aG._thead();if(aG.virtualScrollable){aG.virtualScrollable.setDataSource(aG.options.dataSource)}if(aG.options.autoBind){aF.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var aG=this,aF;aE.fn.destroy.call(aG);if(aG.pager){aG.pager.destroy()}if(aG.groupable){aG.groupable.destroy()}if(aG.options.reorderable){aG.wrapper.data("kendoReorderable").destroy()}if(aG.resizable){aG.resizable.destroy()}if(aG.virtualScrollable){aG.virtualScrollable.destroy()}aG._destroyColumnAttachments();aG._destroyEditable();aG.dataSource.unbind(g,aG._refreshHandler).unbind(ai,aG._progressHandler).unbind(z,aG._errorHandler);aF=aG.element.add(aG.wrapper).add(aG.table).add(aG.thead).add(aG.wrapper.find(">.k-grid-toolbar"));if(aG.content){aF=aF.add(aG.content).add(aG.content.find(">.k-virtual-scrollable-wrap"))}aF.off(ah);Z.destroy(aG.wrapper)},setOptions:function(aF){var aG=this;aE.fn.setOptions.call(this,aF);aG._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var aF=this;aF.resizeHandle=null;aF.thead.find("th").each(function(){var aJ=a(this),aH=aJ.data("kendoFilterMenu"),aI=aJ.data("kendoSortable"),aG=aJ.data("kendoColumnMenu");if(aH){aH.destroy()}if(aI){aI.destroy()}if(aG){aG.destroy()}})},_attachCustomCommandsEvent:function(){var aJ=this,aF=aJ.columns||[],aG,aH,aI;for(aH=0,aI=aF.length;aH<aI;aH++){aG=aF[aH].command;if(aG){d(aJ,aJ.wrapper,aG)}}},_aria:function(){var aF=this.element.attr("id")||"aria";if(aF){this._cellId=aF+"_active_cell"}},_element:function(){var aG=this,aF=aG.element;if(!aF.is("table")){if(aG.options.scrollable){aF=aG.element.find("> .k-grid-content > table")}else{aF=aG.element.children("table")}if(!aF.length){aF=a("<table />").appendTo(aG.element)}}if(W){aF.attr("cellspacing",0)}aG.table=aF.attr("role",aG._hasDetails()?"treegrid":"grid");aG._wrapper()},_positionColumnResizeHandle:function(aF){var aK=this,aJ=aK.options.scrollable,aI=aK.resizeHandle,aG=aK.options.columnResizeHandleWidth,aH;aK.thead.on("mousemove"+ah,"th:not(.k-group-cell,.k-hierarchy-cell)",function(aM){var aR=a(this),aL=aM.clientX,aT=a(window).scrollLeft(),aQ=aR.offset().left+(!Y?this.offsetWidth:0);if(aL+aT>aQ-aG&&aL+aT<aQ+aG){if(!aI){aI=aK.resizeHandle=a('<div class="k-resize-handle"/>');aF.append(aI)}if(!Y){aH=this.offsetWidth;aR.prevAll(":visible").each(function(){aH+=this.offsetWidth})}else{var aO=aR.closest(".k-grid-header-wrap"),aP=e.msie?aO.scrollLeft():0,aS=e.webkit?(aO[0].scrollWidth-aO[0].offsetWidth-aO.scrollLeft()):0,aN=e.mozilla?(aO[0].scrollWidth-aO[0].offsetWidth-(aO[0].scrollWidth-aO[0].offsetWidth-aO.scrollLeft())):0;aH=aR.position().left-aS+aN-aP}aI.css({top:aJ?0:R(aK.wrapper),left:aH-aG,height:aR.outerHeight(),width:aG*3}).data("th",aR).show()}else{if(aI){aI.hide()}else{p(aK.wrapper,"")}}})},_resizable:function(){var aM=this,aK=aM.options,aI,aG,aH,aJ,aF,aL;if(aK.resizable){aI=aK.scrollable?aM.wrapper.find(".k-grid-header-wrap:first"):aM.wrapper;aM._positionColumnResizeHandle(aI);aM.resizable=new az.Resizable(aI,{handle:".k-resize-handle",hint:function(aN){return a('<div class="k-grid-resize-indicator" />').css({height:aN.data("th").outerHeight()+aM.tbody.attr("clientHeight")})},start:function(aO){aL=a(aO.currentTarget).data("th");var aQ=a.inArray(aL[0],aL.parent().children(":visible")),aN=aM.tbody.parent(),aP=aM.footer||a();p(aM.wrapper,"col-resize");if(aK.scrollable){aF=aM.thead.parent().find("col:eq("+aQ+")").add(aN.children("colgroup").find("col:eq("+aQ+")")).add(aP.find("colgroup").find("col:eq("+aQ+")"))}else{aF=aN.children("colgroup").find("col:eq("+aQ+")")}aG=aO.x.location;aH=aL.outerWidth();aJ=aM.tbody.outerWidth()},resize:function(aN){var aP=Y?-1:1,aQ=aH+(aN.x.location*aP)-(aG*aP),aO=aM.footer||a();if(aQ>10){aF.css("width",aQ);if(aK.scrollable&&aJ){aM._footerWidth=aJ+(aN.x.location*aP)-(aG*aP);aM.tbody.parent().add(aM.thead.parent()).add(aO.find("table")).css("width",aM._footerWidth)}}},resizeend:function(){var aO=aL.outerWidth(),aN;p(aM.wrapper,"");if(aH!=aO){aN=aM.columns[aL.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(aL)];aN.width=aO;aM.trigger(l,{column:aN,oldWidth:aH,newWidth:aO})}aM.resizeHandle.hide();aL=null}})}},_draggable:function(){var aF=this;if(aF.options.reorderable){if(aF._draggableInstance){aF._draggableInstance.destroy()}aF._draggableInstance=aF.wrapper.kendoDraggable({group:Z.guid(),filter:aF.content?".k-grid-header:first "+P:"table:first>.k-grid-header "+P,hint:function(aG){return a('<div class="k-header k-drag-clue" />').css({width:aG.width(),paddingLeft:aG.css("paddingLeft"),paddingRight:aG.css("paddingRight"),lineHeight:aG.height()+"px",paddingTop:aG.css("paddingTop"),paddingBottom:aG.css("paddingBottom")}).html(aG.attr(Z.attr("title"))||aG.attr(Z.attr("field"))||aG.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var aF=this;if(aF.options.reorderable){aF.wrapper.kendoReorderable({draggable:aF._draggableInstance,change:function(aH){var aI=S(aF.columns[aH.newIndex],aF.columns),aG=aF.columns[aH.oldIndex];aF.trigger(k,{newIndex:aI,oldIndex:S(aG,aF.columns),column:aG});aF.reorderColumn(aI,aG)}})}},reorderColumn:function(aI,aH){var aO=this,aN=S(aH,aO.columns),aG=S(aH,aC(aO.columns)),aF=S(aO.columns[aI],aC(aO.columns)),aM,aK,aL,aJ=aO.footer||aO.wrapper.find(".k-grid-footer");if(aN===aI){return}aO.columns.splice(aN,1);aO.columns.splice(aI,0,aH);aO._templates();am(aO.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),aG,aF);if(aO.options.scrollable){am(aO.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),aG,aF)}am(aO.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),aN,aI);if(aJ&&aJ.length){am(aJ.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),aG,aF);am(aJ.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),aN,aI)}aM=aO.tbody.children(":not(.k-grouping-row,.k-detail-row)");for(aK=0,aL=aM.length;aK<aL;aK+=1){am(aM.eq(aK).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),aN,aI)}},cellIndex:function(aF){return a(aF).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(aF)},_modelForContainer:function(aF){aF=a(aF);if(!aF.is("tr")&&this._editMode()!=="popup"){aF=aF.closest("tr")}var aG=aF.attr(Z.attr("uid"));return this.dataSource.getByUid(aG)},_editable:function(){var aJ=this,aI=aJ.selectable&&aJ.selectable.options.multiple,aF=aJ.options.editable,aG=function(){var aL=b(),aK=aJ._editContainer;if(aK&&!a.contains(aK[0],aL)&&aK[0]!==aL&&!a(aL).closest(".k-animation-container").length){if(aJ.editable.end()){aJ.closeCell()}}};if(aF){var aH=aJ._editMode();if(aH==="incell"){if(aF.update!==false){aJ.wrapper.on(h+ah,"tr:not(.k-grouping-row) > td",function(aK){var aL=a(this);if(aL.hasClass("k-hierarchy-cell")||aL.hasClass("k-detail-cell")||aL.hasClass("k-group-cell")||aL.hasClass("k-edit-cell")||aL.has("a.k-grid-delete").length||aL.has("button.k-grid-delete").length||aL.closest("tbody")[0]!==aJ.tbody[0]||a(aK.target).is(":input")){return}if(aJ.editable){if(aJ.editable.end()){if(aI){a(b()).blur()}aJ.closeCell();aJ.editCell(aL)}}else{aJ.editCell(aL)}}).on("focusin"+ah,function(){clearTimeout(aJ.timer);aJ.timer=null}).on("focusout"+ah,function(){aJ.timer=setTimeout(aG,1)})}}else{if(aF.update!==false){aJ.wrapper.on(h+ah,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(aK){aK.preventDefault();aJ.editRow(a(this).closest("tr"))})}}if(aF.destroy!==false){aJ.wrapper.on(h+ah,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(aK){aK.preventDefault();aK.stopPropagation();aJ.removeRow(a(this).closest("tr"))})}else{aJ.wrapper.on(h+ah,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(aK){aK.stopPropagation();if(!aJ._confirmation()){aK.preventDefault()}})}}},editCell:function(aF){aF=a(aF);var aI=this,aG=aI.columns[aI.cellIndex(aF)],aH=aI._modelForContainer(aF);if(aH&&(!aH.editable||aH.editable(aG.field))&&!aG.command&&aG.field){aI._attachModelChange(aH);aI._editContainer=aF;aI.editable=aF.addClass("k-edit-cell").kendoEditable({fields:{field:aG.field,format:aG.format,editor:aG.editor,values:aG.values},model:aH,change:function(aJ){if(aI.trigger(an,{values:aJ.values,container:aF,model:aH})){aJ.preventDefault()}}}).data("kendoEditable");aF.parent().addClass("k-grid-edit-row");aI.trigger(y,{container:aF,model:aH})}},_destroyEditable:function(){var aG=this;var aF=function(){if(aG.editable){aG._detachModelChange();aG.editable.destroy();aG.editable=null;aG._editContainer=null}};if(aG.editable){if(aG._editMode()==="popup"){aG._editContainer.data("kendoWindow").bind("deactivate",aF).close()}else{aF()}}},_attachModelChange:function(aF){var aG=this;aG._modelChangeHandler=function(aH){aG._modelChange({field:aH.field,model:this})};aF.bind("change",aG._modelChangeHandler)},_detachModelChange:function(){var aH=this,aF=aH._editContainer,aG=aH._modelForContainer(aF);if(aG){aG.unbind(g,aH._modelChangeHandler)}},closeCell:function(aI){var aK=this,aF=aK._editContainer,aH,aG,aJ;if(!aF){return}aH=aF.closest("tr").attr(Z.attr("uid"));aJ=aK.dataSource.getByUid(aH);if(aI&&aK.trigger("cancel",{container:aF,model:aJ})){return}aF.removeClass("k-edit-cell");aG=aK.columns[aK.cellIndex(aF)];aF.parent().removeClass("k-grid-edit-row");aK._destroyEditable();aK._displayCell(aF,aG,aJ);if(aF.hasClass("k-dirty-cell")){a('<span class="k-dirty"/>').prependTo(aF)}},_displayCell:function(aF,aG,aH){var aK=this,aJ={storage:{},count:0},aI=A({},Z.Template,aK.options.templateSettings),aL=Z.template(aK._cellTmpl(aG,aJ),aI);if(aJ.count>0){aL=aj(aL,aJ.storage)}aF.empty().html(aL(aH))},removeRow:function(aH){var aI=this,aG,aF;if(!aI._confirmation()){return}aH=a(aH).hide();aG=aI._modelForContainer(aH);if(aG&&!aI.trigger(ak,{row:aH,model:aG})){aF=aI._editMode();if(aF!=="incell"){aI.cancelRow()}aI.dataSource.remove(aG);if(aF==="inline"||aF==="popup"){aI.dataSource.sync()}}},_editMode:function(){var aG="incell",aF=this.options.editable;if(aF!==true){if(typeof aF=="string"){aG=aF}else{aG=aF.mode||aG}}return aG},editRow:function(aJ){var aH;var aK=this;if(aJ instanceof Z.data.ObservableObject){aH=aJ}else{aJ=a(aJ);aH=aK._modelForContainer(aJ)}var aG=aK._editMode();var aI=aK.options.navigatable;var aF;aK.cancelRow();if(aH){aK._attachModelChange(aH);if(aG==="popup"){aK._createPopupEditor(aH)}else{if(aG==="inline"){aK._createInlineEditor(aJ,aH)}else{if(aG==="incell"){a(aJ).children(q).each(function(){var aL=a(this);var aM=aK.columns[aL.index()];aH=aK._modelForContainer(aL);if(aH&&(!aH.editable||aH.editable(aM.field))&&aM.field){aK.editCell(aL);return false}})}}}aF=aK._editContainer;aF.on(h+ah,"a.k-grid-cancel",function(aM){aM.preventDefault();aM.stopPropagation();if(aK.trigger("cancel",{container:aF,model:aH})){return}var aL=aK.items().index(a(aK.current()).parent());aK.cancelRow();if(aI){aK.current(aK.items().eq(aL).children().filter(ad).first());E(aK.table,true)}});aF.on(h+ah,"a.k-grid-update",function(aL){aL.preventDefault();aL.stopPropagation();aK.saveRow()})}},_createPopupEditor:function(aP){var aV=this,aM="<div "+Z.attr("uid")+'="'+aP.uid+'" class="k-popup-edit-form"><div class="k-edit-form-container">',aH,aI,aL=[],aN,aO,aW,aX,aG,aT,aF,aK=aV.options.editable,aU=aK.template,aQ=X(aK)?aK.window:{},aR=A({},Z.Template,aV.options.templateSettings);if(aU){if(typeof aU===at){aU=window.unescape(aU)}aM+=(Z.template(aU,aR))(aP);for(aN=0,aO=aV.columns.length;aN<aO;aN++){aH=aV.columns[aN];if(aH.command){aT=I(aH.command,"edit");if(aT){aI=aT}}}}else{for(aN=0,aO=aV.columns.length;aN<aO;aN++){aH=aV.columns[aN];if(!aH.command){aM+='<div class="k-edit-label"><label for="'+aH.field+'">'+(aH.title||aH.field||"")+"</label></div>";if((!aP.editable||aP.editable(aH.field))&&aH.field){aL.push({field:aH.field,format:aH.format,editor:aH.editor,values:aH.values});aM+="<div "+Z.attr("container-for")+'="'+aH.field+'" class="k-edit-field"></div>'}else{var aS={storage:{},count:0};aW=Z.template(aV._cellTmpl(aH,aS),aR);if(aS.count>0){aW=aj(aW,aS.storage)}aM+='<div class="k-edit-field">'+aW(aP)+"</div>"}}else{if(aH.command){aT=I(aH.command,"edit");if(aT){aI=aT}}}}}if(aI){if(X(aI)){if(aI.text&&X(aI.text)){aX=aI.text.update;aG=aI.text.cancel}if(aI.attr){aF=aI.attr}}}aM+='<div class="k-edit-buttons k-state-default">';aM+=aV._createButton({name:"update",text:aX,attr:aF})+aV._createButton({name:"canceledit",text:aG,attr:aF});aM+="</div></div></div>";var aJ=aV._editContainer=a(aM).appendTo(aV.wrapper).eq(0).kendoWindow(A({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(aZ){if(aZ.userTriggered){if(aV.trigger("cancel",{container:aJ,model:aP})){aZ.preventDefault();return}var aY=aV.items().index(a(aV.current()).parent());aV.cancelRow();if(aV.options.navigatable){aV.current(aV.items().eq(aY).children().filter(ad).first());E(aV.table,true)}}}},aQ));aV.editable=aV._editContainer.kendoEditable({fields:aL,model:aP,clearContainer:false}).data("kendoEditable");aJ.data("kendoWindow").center().open();aV.trigger(y,{container:aJ,model:aP})},_createInlineEditor:function(aK,aJ){var aL=this,aG,aF,aH,aI=[];aK.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){aF=a(this);aG=aL.columns[aL.cellIndex(aF)];if(!aG.command&&aG.field&&(!aJ.editable||aJ.editable(aG.field))){aI.push({field:aG.field,format:aG.format,editor:aG.editor,values:aG.values});aF.attr(Z.attr("container-for"),aG.field);aF.empty()}else{if(aG.command){aH=I(aG.command,"edit");if(aH){aF.empty();var aO,aN,aM;if(X(aH)){if(aH.text&&X(aH.text)){aO=aH.text.update;aN=aH.text.cancel}if(aH.attr){aM=aH.attr}}a(aL._createButton({name:"update",text:aO,attr:aM})+aL._createButton({name:"canceledit",text:aN,attr:aM})).appendTo(aF)}}}});aL._editContainer=aK;aL.editable=aK.addClass("k-grid-edit-row").kendoEditable({fields:aI,model:aJ,clearContainer:false}).data("kendoEditable");aL.trigger(y,{container:aK,model:aJ})},cancelRow:function(){var aH=this,aF=aH._editContainer,aG;if(aF){aG=aH._modelForContainer(aF);aH._destroyEditable();aH.dataSource.cancelChanges(aG);if(aH._editMode()!=="popup"){aH._displayRow(aF)}else{aH._displayRow(aH.items().filter("["+Z.attr("uid")+"="+aG.uid+"]"))}}},saveRow:function(){var aI=this,aF=aI._editContainer,aH=aI._modelForContainer(aF),aG=aI.editable;if(aF&&aG&&aG.end()&&!aI.trigger(an,{container:aF,model:aH})){aI.dataSource.sync()}},_displayRow:function(aG){var aH=this,aF=aH._modelForContainer(aG);if(aF){aG.replaceWith(a((aG.hasClass("k-alt")?aH.altRowTemplate:aH.rowTemplate)(aF)))}},_showMessage:function(aF){return window.confirm(aF)},_confirmation:function(){var aH=this,aG=aH.options.editable,aF=aG===true||typeof aG===at?u:aG.confirmation;return aF!==false&&aF!=null?aH._showMessage(aF):true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var aF=this;if(((aF.editable&&aF.editable.end())||!aF.editable)&&!aF.trigger(ao)){aF.dataSource.sync()}},addRow:function(){var aO=this,aJ,aH=aO.dataSource,aK=aO._editMode(),aG=aO.options.editable.createAt||"",aM=aH.pageSize(),aP=aH.view()||[];if((aO.editable&&aO.editable.end())||!aO.editable){if(aK!="incell"){aO.cancelRow()}aJ=aH.indexOf(aP[0]);if(aG.toLowerCase()=="bottom"){aJ+=aP.length;if(aM&&!aH.options.serverPaging&&aM<=aP.length){aJ-=1}}if(aJ<0){if(aH.page()>aH.totalPages()){aJ=(aH.page()-1)*aM}else{aJ=0}}var aL=aH.insert(aJ,{}),aI=aL.uid,aN=aO.table.find("tr["+Z.attr("uid")+"="+aI+"]"),aF=aN.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(aO._firstEditableColumnIndex(aN));if(aK==="inline"&&aN.length){aO.editRow(aN)}else{if(aK==="popup"){aO.editRow(aL)}else{if(aF.length){aO.editCell(aF)}}}}},_firstEditableColumnIndex:function(aH){var aL=this,aF,aG=aL.columns,aI,aJ,aK=aL._modelForContainer(aH);for(aI=0,aJ=aG.length;aI<aJ;aI++){aF=aG[aI];if(aK&&(!aK.editable||aK.editable(aF.field))&&!aF.command&&aF.field){return aI}}return -1},_toolbar:function(){var aH=this,aJ=aH.wrapper,aI=aH.options.toolbar,aG=aH.options.editable,aF;if(aI){aF=aH.wrapper.find(".k-grid-toolbar");if(!aF.length){if(!V(aI)){aI=(typeof aI===at?aI:aH._toolbarTmpl(aI).replace(ay,"\\#"));aI=aj(Z.template(aI),aH)}aF=a('<div class="k-toolbar k-grid-toolbar" />').html(aI({})).prependTo(aJ)}if(aG&&aG.create!==false){aF.on(h+ah,".k-grid-add",function(aK){aK.preventDefault();aH.addRow()}).on(h+ah,".k-grid-cancel-changes",function(aK){aK.preventDefault();aH.cancelChanges()}).on(h+ah,".k-grid-save-changes",function(aK){aK.preventDefault();aH.saveChanges()})}}},_toolbarTmpl:function(aF){var aJ=this,aH,aI,aG="";if(T(aF)){for(aH=0,aI=aF.length;aH<aI;aH++){aG+=aJ._createButton(aF[aH])}}return aG},_createButton:function(aG){var aJ=aG.template||n,aH=typeof aG===at?aG:aG.name||aG.text,aF=t[aH]?t[aH].className:"k-grid-"+(aH||"").replace(/\s/g,""),aI={className:aF,text:aH,imageClass:"",attr:"",iconClass:""};if(!aH&&!(X(aG)&&aG.template)){throw new Error("Custom commands should have name specified")}if(X(aG)){if(aG.className){aG.className+=" "+aI.className}if(aH==="edit"&&X(aG.text)){aG=A(true,{},aG);aG.text=aG.text.edit}if(aG.attr&&X(aG.attr)){aG.attr=au(aG.attr)}aI=A(true,aI,t[aH],aG)}else{aI=A(true,aI,t[aH])}return Z.template(aJ)(aI)},_hasFooters:function(){var aF=this.columns,aH=aF.length,aG;for(aG=0;aG<aH;aG++){if(aF[aG].footerTemplate!==""||aF[aG].groupFooterTemplate!==""){return true}}return false},_groupable:function(){var aF=this;if(aF._groupableClickHandler){aF.table.off(h+ah,aF._groupableClickHandler)}else{aF._groupableClickHandler=function(aG){var aH=a(this),aI=aH.closest("tr");if(aH.hasClass("k-i-collapse")){aF.collapseGroup(aI)}else{aF.expandGroup(aI)}aG.preventDefault();aG.stopPropagation()}}aF.table.on(h+ah,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",aF._groupableClickHandler);aF._attachGroupable()},_attachGroupable:function(){var aG=this,aH=aG.wrapper,aF=aG.options.groupable;if(aF){if(!aH.has("div.k-grouping-header")[0]){a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(aH)}if(aG.groupable){aG.groupable.destroy()}aG.groupable=new L(aH,A({},aF,{draggable:aG._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:aG.dataSource,draggableElements:aG.content?".k-grid-header:first "+N:"table:first>.k-grid-header "+N,filter:aG.content?".k-grid-header:first "+O:"table:first>.k-grid-header "+O,allowDrag:aG.options.reorderable}))}},_selectable:function(){var aJ=this,aG,aF,aH=[],aI=aJ.options.selectable;if(aI){aG=typeof aI===at&&aI.toLowerCase().indexOf("multiple")>-1;aF=typeof aI===at&&aI.toLowerCase().indexOf("cell")>-1;if(aJ._hasDetails()){aH[aH.length]=".k-detail-row"}if(aJ.options.groupable||aJ._hasFooters()){aH[aH.length]=".k-grouping-row,.k-group-footer"}aH=aH.join(",");if(aH!==""){aH=":not("+aH+")"}aJ.selectable=new Z.ui.Selectable(aJ.table,{filter:">"+(aF?aq:"tbody>tr"+aH),aria:true,multiple:aG,change:function(){aJ.trigger(g)}});if(aJ.options.navigatable){aJ.table.on("keydown"+ah,function(aL){var aK=aJ.current();if(aL.keyCode===aa.SPACEBAR&&aL.target==aJ.table[0]&&!aK.is(".k-edit-cell,.k-header")&&aK.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){aL.preventDefault();aL.stopPropagation();aK=aF?aK:aK.parent();if(aG){if(!aL.ctrlKey){aJ.selectable.clear()}else{if(aK.hasClass(ap)){aK.removeClass(ap);aJ.trigger(g);return}}}else{aJ.selectable.clear()}aJ.selectable.value(aK)}})}}},clearSelection:function(){var aF=this;aF.selectable.clear();aF.trigger(g)},select:function(aF){var aH=this,aG=aH.selectable;aF=a(aF);if(aF.length){if(!aG.options.multiple){aG.clear();aF=aF.first()}aG.value(aF);return}return aG.value()},current:function(aG){var aJ=this,aH=aJ.options.scrollable,aF=aJ._current,aI=aJ.table.add(aJ.thead.parent());if(aG!==aA&&aG.length){if(!aF||aF[0]!==aG[0]){if(aF){aF.removeClass(D).removeAttr("id");aI.removeAttr("aria-activedescendant")}aG.attr("id",aJ._cellId);aJ._current=aG.addClass(D);aI.attr("aria-activedescendant",aJ._cellId);if(aG.length&&aH){if(a.contains(aJ.content[0],aG[0])){aJ._scrollTo(aG.parent()[0],aJ.content[0])}if(aH.virtual){aJ._scrollTo(aG[0],aJ.content.find(">.k-virtual-scrollable-wrap")[0])}else{aJ._scrollTo(aG[0],aJ.content[0])}}}}return aJ._current},_removeCurrent:function(){if(this._current){this._current.removeClass(D);this._current=null}},_scrollTo:function(aJ,aG){var aM=aJ.tagName.toLowerCase(),aN=aM==="td"||aM==="th",aK=aJ[aN?"offsetLeft":"offsetTop"],aL=aJ[aN?"offsetWidth":"offsetHeight"],aI=aG[aN?"scrollLeft":"scrollTop"],aH=aG[aN?"clientWidth":"clientHeight"],aF=aK+aL,aO=0;if(aI>aK){aO=aK}else{if(aF>(aI+aH)){if(aL<=aH){aO=(aF-aH)}else{aO=aK}}else{aO=aI}}aG[aN?"scrollLeft":"scrollTop"]=aO},_navigatable:function(){var aK=this,aF=aj(aK.current,aK),aJ=aK.table,aH=aK.thead.parent(),aG=aJ,aI=Z.support.isRtl(aK.element);if(!aK.options.navigatable){return}if(aK.options.scrollable){aG=aJ.add(aH);aH.attr(av,-1)}aH.on("keydown"+ah,function(aL){if(aL.altKey&&aL.keyCode==aa.DOWN){aF().find(".k-grid-filter, .k-header-column-menu").click();aL.stopImmediatePropagation()}}).find("a.k-link").attr("tabIndex",-1);aJ.attr(av,ac.max(aJ.attr(av)||0,0)).on("mousedown"+ah+" keydown"+ah,".k-detail-cell",function(aL){if(aL.target!==aL.currentTarget){aL.stopImmediatePropagation()}});aG.on((Z.support.touch?"touchstart"+ah:"mousedown"+ah),ae+">"+ad,aj(aw,aK)).on("focus"+ah,function(){if(Z.support.touch){return}var aL=aF();if(aL&&aL.is(":visible")){aL.addClass(D)}else{aF(a(this).find(C))}if(this==aJ[0]){aH.attr(av,-1);aJ.attr(av,0)}else{aJ.attr(av,-1);aH.attr(av,0)}}).on("focusout"+ah,function(){var aL=aF();if(aL){aL.removeClass(D)}}).on("keydown"+ah,function(aS){var aX=aS.keyCode,aU=false,aM=!aS.isDefaultPrevented()&&!a(aS.target).is(":button,a,:input,a>.k-icon"),aY=aK.options.pageable,aR=aK.dataSource,aW=aK._editMode()=="incell",aL,aQ,aZ,aV,a1,a0=aS.shiftKey,aP=aF();if(aP&&aP.is("th")){aM=true}if(aM&&aX==aa.UP){if(aP){aZ=aP.parent().prevAll(ae).first();if(!aZ[0]){a1=aK.thead.parent();E(a1,true);aZ=a1.find(ae).first()}aV=aP.index();aP=aZ.children().eq(aV);if(!aP[0]||!aP.is(ad)){aP=aZ.children(ad).first()}}else{aP=aJ.find(C)}aU=true;aF(aP)}else{if(aM&&aX==aa.DOWN){if(aP){aZ=aP.parent().nextAll(ae).first();if(!aZ[0]&&aP.is("th")){E(aK.tbody.parent());aZ=aK.tbody.find(ae).first()}aV=aP.index();aP=aZ.children().eq(aV);if(!aP[0]||!aP.is(ad)){aP=aZ.children(ad).first()}}else{aP=aJ.find(C)}aU=true;aF(aP)}else{if(aM&&aX==(aI?aa.RIGHT:aa.LEFT)){aF(aP?aP.prevAll(q+":first"):aJ.find(C));aU=true}else{if(aM&&aX==(aI?aa.LEFT:aa.RIGHT)){if(aP){if(aP.next()[0]){aP=aP.nextAll(q+":first")}}else{aP=aJ.find(C)}aU=true;aF(aP)}else{if(aM&&aY&&aa.PAGEDOWN==aX){aR.page(aR.page()+1);aU=true}else{if(aM&&aY&&aa.PAGEUP==aX){aR.page(aR.page()-1);aU=true}else{if(aX==aa.ENTER||aa.F2==aX){aP=aP?aP:aJ.find(C);if(aP.is("th")){aP.find(".k-link").click();aU=true}else{if(aP.parent().is(".k-master-row,.k-grouping-row")){aP.parent().find(".k-icon:first").click();aU=true}else{var aT=aP.find(":kendoFocusable:first");if(!aP.hasClass("k-edit-cell")&&aT[0]&&aP.hasClass("k-state-focused")){aT.focus();aU=true}else{if(aK.options.editable&&!a(aS.target).is(":button,.k-button,textarea")){var aO=a(aS.target).closest("[role=gridcell]");if(!aO[0]){aO=aP}aK._handleEditing(aO);aU=true}}}}}else{if(aa.ESC==aX){aL=b();if(aP&&a.contains(aP[0],aL)&&!aP.hasClass("k-edit-cell")&&!aP.parent().hasClass("k-grid-edit-row")){E(aK.table[0],true);aU=true}else{if(aK._editContainer&&(!aP||aK._editContainer.has(aP[0])||aP[0]===aK._editContainer[0])){if(aW){aK.closeCell(true)}else{aQ=aK.items().index(a(aP).parent());if(aL){aL.blur()}aK.cancelRow();if(aQ>=0){aK.current(aK.items().eq(aQ).children().filter(ad).first())}}if(e.msie&&e.version<9){document.body.focus()}E(aJ,true);aU=true}}}else{if(aa.TAB==aX){var aN;aP=a(aP);if(aK.options.editable&&aW){aN=a(b()).closest(".k-edit-cell");if(aN[0]&&aN[0]!==aP[0]){aP=aN}}aN=a0?aP.prevAll(q+":first"):aP.nextAll(":visible:first");if(!aN.length){aN=aP.parent()[a0?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(q+(a0?":last":":first"))}if(!aP.is("th")&&aN.length&&aK.options.editable&&aW){aK._handleEditing(aP,aN);aU=true}}}}}}}}}}if(aU){aS.preventDefault();aS.stopPropagation()}})},_handleEditing:function(aG,aM){var aO=this,aF=a(b()),aL=aO._editMode(),aK=e.msie,aN=aK&&e.version<9,aH=aO._editContainer,aI,aJ;if(aL=="incell"){aJ=aG.hasClass("k-edit-cell")}else{aJ=aG.parent().hasClass("k-grid-edit-row")}if(aO.editable){if(a.contains(aH[0],aF[0])){if(e.opera||aN){aF.change().triggerHandler("blur")}else{aF.blur();if(aK){aF.blur()}}}if(!aO.editable){E(aO.table);return}if(aO.editable.end()){if(aL=="incell"){aO.closeCell()}else{aO.saveRow();aJ=true}}else{if(aL=="incell"){aO.current(aH)}else{aO.current(aH.children().filter(q).first())}aI=aH.find(":kendoFocusable:first")[0];if(aI){aI.focus()}return}}if(aM){aO.current(aM)}if(aN){document.body.focus()}E(aO.table,true);if((!aJ&&!aM)||aM){if(aL=="incell"){aO.editCell(aO.current())}else{aO.editRow(aO.current().parent())}}},_wrapper:function(){var aH=this,aG=aH.table,aF=aH.options.height,aI=aH.element;if(!aI.is("div")){aI=aI.wrap("<div/>").parent()}aH.wrapper=aI.addClass("k-grid k-widget k-secondary");if(aF){aH.wrapper.css(Q,aF);aG.css(Q,"auto")}},_tbody:function(){var aH=this,aF=aH.table,aG;aG=aF.find(">tbody");if(!aG.length){aG=a("<tbody/>").appendTo(aF)}aH.tbody=aG},_scrollable:function(){var aM=this,aH,aL,aI=aM.options,aJ=aI.scrollable,aG=aJ!==true&&aJ.virtual&&!aM.virtualScrollable,aK=!Z.support.kineticScrollNeeded||aG?Z.support.scrollbar():0;if(aJ){aH=aM.wrapper.children(".k-grid-header");if(!aH[0]){aH=a('<div class="k-grid-header" />').insertBefore(aM.table)}aH.css((Y?"padding-left":"padding-right"),aJ.virtual?aK+1:aK);aL=a('<table role="grid" />');if(W){aL.attr("cellspacing",0)}aL.append(aM.thead);aH.empty().append(a('<div class="k-grid-header-wrap" />').append(aL));aM.content=aM.table.parent();if(aM.content.is(".k-virtual-scrollable-wrap")){aM.content=aM.content.parent()}if(!aM.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){aM.content=aM.table.wrap('<div class="k-grid-content" />').parent()}if(aG){aM.virtualScrollable=new aB(aM.content,{dataSource:aM.dataSource,itemHeight:aj(aM._averageRowHeight,aM)})}aM.scrollables=aH.children(".k-grid-header-wrap");var aF=aM.wrapper.find(".k-grid-footer"),aO=(Y&&e.webkit)?aK:0;if(aF.length){aM.scrollables=aM.scrollables.add(aF.children(".k-grid-footer-wrap"))}if(aJ.virtual){aM.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+ah,function(){aM.scrollables.scrollLeft(this.scrollLeft+aO)})}else{aM.content.bind("scroll"+ah,function(){aM.scrollables.scrollLeft(this.scrollLeft+aO)});var aN=Z.touchScroller(aM.content);if(aN&&aN.movable){aN.movable.bind("change",function(aP){aM.scrollables.scrollLeft(-aP.sender.x)})}}}},_setContentWidth:function(){var aJ=this,aH="k-grid-content-expander",aG='<div class="'+aH+'"></div>',aI=aJ.resizable,aF;if(aJ.options.scrollable){aF=aJ.table.parent().children("."+aH);aJ._setContentWidthHandler=aj(aJ._setContentWidth,aJ);if(!aJ.dataSource.view().length){if(!aF[0]){aF=a(aG).appendTo(aJ.table.parent());if(aI){aI.bind("resize",aJ._setContentWidthHandler)}}aF.width(aJ.thead.width())}else{if(aF[0]){aF.remove();if(aI){aI.unbind("resize",aJ._setContentWidthHandler)}}}}},_setContentHeight:function(){var aK=this,aI=aK.options,aG=aK.wrapper.innerHeight(),aF=aK.wrapper.children(".k-grid-header"),aJ=Z.support.scrollbar();if(aI.scrollable){aG-=aF.outerHeight();if(aK.pager){aG-=aK.pager.element.outerHeight()}if(aI.groupable){aG-=aK.wrapper.children(".k-grouping-header").outerHeight()}if(aI.toolbar){aG-=aK.wrapper.children(".k-grid-toolbar").outerHeight()}if(aK.footerTemplate){aG-=aK.wrapper.children(".k-grid-footer").outerHeight()}var aH=function(aL){var aM,aN;if(aL[0].style.height){return true}else{aM=aL.height()}aL.height("auto");aN=aL.height();if(aM!=aN){aL.height("");return true}aL.height("");return false};if(aH(aK.wrapper)){if(aG>aJ*2){aK.content.height(aG)}else{aK.content.height(aJ*2+1)}}}},_averageRowHeight:function(){var aH=this,aG=aH._rowHeight;if(!aH._rowHeight){aH._rowHeight=aG=aH.table.outerHeight()/aH.items().length;aH._sum=aG;aH._measures=1}var aF=aH.table.outerHeight()/aH.items().length;if(aG!==aF){aH._measures++;aH._sum+=aF;aH._rowHeight=aH._sum/aH._measures}return aG},_dataSource:function(){var aI=this,aG=aI.options,aH,aF=aG.dataSource;aF=T(aF)?{data:aF}:aF;if(X(aF)){A(aF,{table:aI.table,fields:aI.columns});aH=aG.pageable;if(X(aH)&&aH.pageSize!==aA){aF.pageSize=aH.pageSize}}if(aI.dataSource&&aI._refreshHandler){aI.dataSource.unbind(g,aI._refreshHandler).unbind(ai,aI._progressHandler).unbind(z,aI._errorHandler)}else{aI._refreshHandler=aj(aI.refresh,aI);aI._progressHandler=aj(aI._requestStart,aI);aI._errorHandler=aj(aI._error,aI)}aI.dataSource=s.create(aF).bind(g,aI._refreshHandler).bind(ai,aI._progressHandler).bind(z,aI._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(aH){var aN=this,aL=aH.model,aM=aN.tbody.find("tr["+Z.attr("uid")+"="+aL.uid+"]"),aF,aG,aJ=aM.hasClass("k-alt"),aO,aI=aN.items().index(aM),aK;if(aM.children(".k-edit-cell").length&&!aN.options.rowTemplate){aM.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){aF=a(this);aG=aN.columns[aN.cellIndex(aF)];if(aG.field===aH.field){if(!aF.hasClass("k-edit-cell")){aN._displayCell(aF,aG,aL);a('<span class="k-dirty"/>').prependTo(aF)}else{aF.addClass("k-dirty-cell")}}})}else{if(!aM.hasClass("k-grid-edit-row")){aO=(aJ?aN.altRowTemplate:aN.rowTemplate)(aL);aM.replaceWith(aO);aO=aN.items().eq(aI);for(aI=0,aK=aN.columns.length;aI<aK;aI++){aG=aN.columns[aI];if(aG.field===aH.field){aF=aO.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(aI);a('<span class="k-dirty"/>').prependTo(aF)}}aN.trigger("itemChange",{item:aO,data:aL,ns:az})}}},_pageable:function(){var aG=this,aH,aF=aG.options.pageable;if(aF){aH=aG.wrapper.children("div.k-grid-pager");if(!aH.length){aH=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(aG.wrapper)}if(aG.pager){aG.pager.destroy()}if(typeof aF==="object"&&aF instanceof Z.ui.Pager){aG.pager=aF}else{aG.pager=new Z.ui.Pager(aH,A({},aF,{dataSource:aG.dataSource}))}}},_footer:function(){var aL=this,aF=aL.dataSource.aggregates(),aJ="",aH=aL.footerTemplate,aK=aL.options,aI,aG=aL.footer||aL.wrapper.find(".k-grid-footer");if(aH){aF=!U(aF)?aF:f(aL.dataSource.aggregate());aJ=a(aL._wrapFooter(aH(aF)));if(aG.length){var aM=aJ;aG.replaceWith(aM);aG=aL.footer=aM}else{if(aK.scrollable){aG=aL.footer=aK.pageable?aJ.insertBefore(aL.wrapper.children("div.k-grid-pager")):aJ.appendTo(aL.wrapper)}else{aG=aL.footer=aJ.insertBefore(aL.tbody)}}}else{if(aG&&!aL.footer){aL.footer=aG}}if(aG.length){if(aK.scrollable){aI=aG.attr("tabindex",-1).children(".k-grid-footer-wrap");aL.scrollables=aL.scrollables.not(".k-grid-footer-wrap").add(aI)}if(aL._footerWidth){aG.find("table").css("width",aL._footerWidth)}if(aI){aI.scrollLeft(aL.content.scrollLeft())}}},_wrapFooter:function(aF){var aI=this,aG="",aH=!Z.support.mobileOS?Z.support.scrollbar():0;if(aI.options.scrollable){aG=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(W?' cellspacing="0"':"")+"><tbody>"+aF+"</tbody></table></div></div>");aI._appendCols(aG.find("table"));aG.css((Y?"padding-left":"padding-right"),aH);return aG}return'<tfoot class="k-grid-footer">'+aF+"</tfoot>"},_columnMenu:function(){var aQ=this,aM,aJ=aQ.columns,aH,aO=aQ.options,aI=aO.columnMenu,aN,aP,aK,aG=function(){E(aQ.thead.parent(),true)},aL=function(aR){aQ.trigger(j,{field:aR.field,container:aR.container})},aF;if(aI){if(typeof aI=="boolean"){aI={}}aQ.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aR){aH=aJ[aR];aF=a(this);if(!aH.command&&(aH.field||aF.attr("data-"+Z.ns+"field"))){aM=aF.data("kendoColumnMenu");if(aM){aM.destroy()}aP=aH.sortable!==false&&aI.sortable!==false?aO.sortable:false;aK=aO.filterable&&aH.filterable!==false&&aI.filterable!==false?A({},aH.filterable,aO.filterable):false;aN={dataSource:aQ.dataSource,values:aH.values,columns:aI.columns,sortable:aP,filterable:aK,messages:aI.messages,owner:aQ,closeCallback:aG,init:aL};aF.kendoColumnMenu(aN)}})}},_filterable:function(){var aK=this,aH=aK.columns,aF,aJ,aG=function(){E(aK.thead.parent(),true)},aI=aK.options.filterable;if(aI&&!aK.options.columnMenu){aK.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aM){aF=a(this);if(aH[aM].filterable!==false&&!aH[aM].command&&(aH[aM].field||aF.attr("data-"+Z.ns+"field"))){aJ=aF.data("kendoFilterMenu");if(aJ){aJ.destroy()}var aL=aH[aM].filterable;var aN=A({},aI,aL,{dataSource:aK.dataSource,values:aH[aM].values,closeCallback:aG,init:function(aO){aK.trigger(B,{field:aO.field,container:aO.container})}});if(aL&&aL.messages){aN.messages=A(true,{},aI.messages,aL.messages)}aF.kendoFilterMenu(aN)}})}},_sortable:function(){var aK=this,aH=aK.columns,aG,aF,aJ,aI=aK.options.sortable;if(aI){aK.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aL){aG=aH[aL];if(aG.sortable!==false&&!aG.command&&aG.field){aF=a(this);aJ=aF.data("kendoSortable");if(aJ){aJ.destroy()}aF.attr("data-"+Z.ns+"field",aG.field).kendoSortable(A({},aI,aG.sortable,{dataSource:aK.dataSource,aria:true}))}})}},_columns:function(aG){var aK=this,aJ=aK.table,aI,aF=aJ.find("col"),aH=aK.options.dataSource;aG=aG.length?aG:ab(aJ.find("th"),function(aR,aO){aR=a(aR);var aQ=aR.attr(Z.attr("sortable")),aM=aR.attr(Z.attr("filterable")),aS=aR.attr(Z.attr("type")),aN=aR.attr(Z.attr("groupable")),aL=aR.attr(Z.attr("field")),aP=aR.attr(Z.attr("menu"));if(!aL){aL=aR.text().replace(/\s|[^A-z0-9]/g,"")}return{field:aL,type:aS,sortable:aQ!=="false",filterable:aM!=="false",groupable:aN!=="false",menu:aP,template:aR.attr(Z.attr("template")),width:aF.eq(aO).css("width")}});aI=!(aK.table.find("tbody tr").length>0&&(!aH||!aH.transport));aK.columns=ab(aG,function(aL){aL=typeof aL===at?{field:aL}:aL;if(aL.hidden){aL.attributes=c(aL.attributes);aL.footerAttributes=c(aL.footerAttributes);aL.headerAttributes=c(aL.headerAttributes)}return A({encoded:aI},aL)})},_groups:function(){var aF=this.dataSource.group();return aF?aF.length:0},_tmpl:function(aM,aF){var aQ=this,aN=A({},Z.Template,aQ.options.templateSettings),aK,aL=aQ.columns.length,aP,aO={storage:{},count:0},aH,aR,aJ=aQ._hasDetails(),aG=[],aI=aQ._groups();if(!aM){aM="<tr";if(aF){aG.push("k-alt")}if(aJ){aG.push("k-master-row")}if(aG.length){aM+=' class="'+aG.join(" ")+'"'}if(aL){aM+=" "+Z.attr("uid")+'="#='+Z.expr("uid",aN.paramName)+'#"'}aM+=" role='row'>";if(aI>0){aM+=M(aI)}if(aJ){aM+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(aK=0;aK<aL;aK++){aH=aQ.columns[aK];aP=aH.template;aR=typeof aP;aM+="<td"+au(aH.attributes)+" role='gridcell'>";aM+=aQ._cellTmpl(aH,aO);aM+="</td>"}aM+="</tr>"}aM=Z.template(aM,aN);if(aO.count>0){return aj(aM,aO.storage)}return aM},_headerCellText:function(aF){var aJ=this,aG=A({},Z.Template,aJ.options.templateSettings),aH=aF.headerTemplate,aK=typeof(aH),aI=aF.title||aF.field||"";if(aK===H){aI=Z.template(aH,aG)({})}else{if(aK===at){aI=aH}}return aI},_cellTmpl:function(aF,aO){var aQ=this,aN=A({},Z.Template,aQ.options.templateSettings),aP=aF.template,aM=aN.paramName,aH=aF.field,aJ="",aK,aL,aI=aF.format,aR=typeof aP,aG=aF.values;if(aF.command){if(T(aF.command)){for(aK=0,aL=aF.command.length;aK<aL;aK++){aJ+=aQ._createButton(aF.command[aK])}return aJ.replace(ay,"\\#")}return aQ._createButton(aF.command).replace(ay,"\\#")}if(aR===H){aO.storage["tmpl"+aO.count]=aP;aJ+="#=this.tmpl"+aO.count+"("+aM+")#";aO.count++}else{if(aR===at){aJ+=aP}else{if(aG&&aG.length&&X(aG[0])&&"value" in aG[0]&&aH){aJ+="#var v ="+Z.stringify(o(aG))+"#";aJ+="#var f = v[";if(!aN.useWithBlock){aJ+=aM+"."}aJ+=aH+"]#";aJ+="${f != null ? f : ''}"}else{aJ+=aF.encoded?"#:":"#=";if(aI){aJ+='kendo.format("'+aI.replace(G,"\\$1")+'",'}if(aH){aH=Z.expr(aH,aM);aJ+=aH+"==null?'':"+aH}else{aJ+="''"}if(aI){aJ+=")"}aJ+="#"}}}return aJ},_templates:function(){var aK=this,aJ=aK.options,aG=aK.dataSource,aI=aG.group(),aH=aK.footer||aK.wrapper.find(".k-grid-footer"),aF=aG.aggregate();aK.rowTemplate=aK._tmpl(aJ.rowTemplate);aK.altRowTemplate=aK._tmpl(aJ.altRowTemplate||aJ.rowTemplate,true);if(aK._hasDetails()){aK.detailTemplate=aK._detailTmpl(aJ.detailTemplate||"")}if((aK._group&&!U(aF))||(!U(aF)&&!aH.length)||J(aK.columns,function(aL){return aL.footerTemplate}).length){aK.footerTemplate=aK._footerTmpl(aF,"footerTemplate","k-footer-template")}if(aI&&J(aK.columns,function(aL){return aL.groupFooterTemplate}).length){aF=a.map(aI,function(aL){return aL.aggregates});aK.groupFooterTemplate=aK._footerTmpl(aF,"groupFooterTemplate","k-group-footer")}},_footerTmpl:function(aF,aU,aP){var aV=this,aR=A({},Z.Template,aV.options.templateSettings),aO=aR.paramName,aL="",aM,aN,aH=aV.columns,aT,aW,aS={},aI=0,aQ={},aK=aV._groups(),aJ=f(aF),aG;aL+='<tr class="'+aP+'">';if(aK>0){aL+=M(aK)}if(aV._hasDetails()){aL+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(aM=0,aN=aV.columns.length;aM<aN;aM++){aG=aH[aM];aT=aG[aU];aW=typeof aT;aL+="<td"+au(aG.footerAttributes)+">";if(aT){if(aW!==H){aQ=aJ[aG.field]?A({},aR,{paramName:aO+"."+aG.field}):{};aT=Z.template(aT,aQ)}aS["tmpl"+aI]=aT;aL+="#=this.tmpl"+aI+"("+aO+")#";aI++}else{aL+="&nbsp;"}aL+="</td>"}aL+="</tr>";aL=Z.template(aL,aR);if(aI>0){return aj(aL,aS)}return aL},_detailTmpl:function(aK){var aN=this,aH="",aJ=A({},Z.Template,aN.options.templateSettings),aI=aJ.paramName,aM={},aL=0,aG=aN._groups(),aF=aC(aN.columns).length,aO=typeof aK;aH+='<tr class="k-detail-row">';if(aG>0){aH+=M(aG)}aH+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(aF?' colspan="'+aF+'"':"")+">";if(aO===H){aM["tmpl"+aL]=aK;aH+="#=this.tmpl"+aL+"("+aI+")#";aL++}else{aH+=aK}aH+="</td></tr>";aH=Z.template(aH,aJ);if(aL>0){return aj(aH,aM)}return aH},_hasDetails:function(){var aF=this;return aF.options.detailTemplate!==null||(aF._events[x]||[]).length},_details:function(){var aF=this;aF.table.on(h+ah,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(aK){var aG=a(this),aL=aG.hasClass("k-plus"),aN=aG.closest("tr.k-master-row"),aI,aJ=aF.detailTemplate,aH,aM=aF._hasDetails();aG.toggleClass("k-plus",!aL).toggleClass("k-minus",aL);if(aM&&!aN.next().hasClass("k-detail-row")){aH=aF.dataItem(aN);a(aJ(aH)).addClass(aN.hasClass("k-alt")?"k-alt":"").insertAfter(aN);aF.trigger(x,{masterRow:aN,detailRow:aN.next(),data:aH,detailCell:aN.next().find(".k-detail-cell")})}aI=aN.next();aF.trigger(aL?w:v,{masterRow:aN,detailRow:aI});aI.toggle(aL);if(aF._current){aF._current.attr("aria-expanded",aL)}aK.preventDefault();return false})},dataItem:function(aK){aK=a(aK)[0];if(!aK){return null}var aJ=this.tbody.children(),aF=/k-grouping-row|k-detail-row|k-group-footer/,aH=aK.sectionRowIndex,aI,aG;aG=aH;for(aI=0;aI<aH;aI++){if(aF.test(aJ[aI].className)){aG--}}return this._data[aG]},expandRow:function(aF){a(aF).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(aF){a(aF).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var aM=this,aF=aM.columns,aG=aM._hasDetails()&&aF.length,aI,aJ,aH="",aN=aM.table.find(">thead"),aO,aK,aL;if(!aN.length){aN=a("<thead/>").insertBefore(aM.tbody)}aO=aM.element.find("tr:has(th):first");if(!aO.length){aO=aN.children().first();if(!aO.length){aO=a("<tr/>")}}if(!aO.children().length){if(aG){aH+='<th class="k-hierarchy-cell">&nbsp;</th>'}for(aI=0,aJ=aF.length;aI<aJ;aI++){aL=aF[aI];aK=aM._headerCellText(aL);if(!aL.command){aH+="<th role='columnheader' "+Z.attr("field")+"='"+(aL.field||"")+"' ";if(aL.title){aH+=Z.attr("title")+'="'+aL.title.replace(/'/g,"'")+'" '}if(aL.groupable!==aA){aH+=Z.attr("groupable")+"='"+aL.groupable+"' "}if(aL.aggregates){aH+=Z.attr("aggregates")+"='"+aL.aggregates+"'"}aH+=au(aL.headerAttributes);aH+=">"+aK+"</th>"}else{aH+="<th"+au(aL.headerAttributes)+">"+aK+"</th>"}}aO.html(aH)}else{if(aG&&!aO.find(".k-hierarchy-cell")[0]){aO.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}aO.find("th").addClass("k-header");if(!aM.options.scrollable){aN.addClass("k-grid-header")}aO.find("script").remove().end().appendTo(aN);if(aM.thead){aM._destroyColumnAttachments()}aM.thead=aN;aM._sortable();aM._filterable();aM._scrollable();aM._updateCols();aM._resizable();aM._draggable();aM._reorderable();if(aM.groupable){aM._attachGroupable()}aM._columnMenu()},_updateCols:function(){var aF=this;aF._appendCols(aF.thead.parent().add(aF.table))},_appendCols:function(aF){var aG=this;ag(aF,aC(aG.columns),aG._hasDetails(),aG._groups())},_autoColumns:function(aG){if(aG&&aG.toJSON){var aH=this,aF;aG=aG.toJSON();for(aF in aG){aH.columns.push({field:aF})}aH._thead();aH._templates()}},_rowsHtml:function(aG){var aL=this,aH="",aI,aJ,aK=aL.rowTemplate,aF=aL.altRowTemplate;for(aI=0,aJ=aG.length;aI<aJ;aI++){if(aI%2){aH+=aF(aG[aI])}else{aH+=aK(aG[aI])}aL._data.push(aG[aI])}return aH},_groupRowHtml:function(aK,aF,aP){var aS=this,aM="",aN,aO,aI=aK.field,aG=J(aS.columns,function(aT){return aT.field==aI})[0]||{},aQ=aG.groupHeaderTemplate,aR=(aG.title||aI)+": "+F(aK.value,aG.format,aG.values),aH=A({},{field:aK.field,value:aK.value},aK.aggregates[aK.field]),aJ=aS._groupAggregatesDefaultObject||{},aL=aK.items;if(aQ){aR=typeof aQ===H?aQ(aH):Z.template(aQ)(aH)}aM+='<tr class="k-grouping-row">'+M(aP)+'<td colspan="'+aF+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+aR+"</p></td></tr>";if(aK.hasSubgroups){for(aN=0,aO=aL.length;aN<aO;aN++){aM+=aS._groupRowHtml(aL[aN],aF-1,aP+1)}}else{aM+=aS._rowsHtml(aL)}if(aS.groupFooterTemplate){aM+=aS.groupFooterTemplate(A(aJ,aK.aggregates))}return aM},collapseGroup:function(aG){aG=a(aG).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var aH=aG.find(".k-group-cell").length,aF=1,aI,aJ;aG.find("td:first").attr("aria-expanded",false);aG.nextAll("tr").each(function(){aJ=a(this);aI=aJ.find(".k-group-cell").length;if(aJ.hasClass("k-grouping-row")){aF++}else{if(aJ.hasClass("k-group-footer")){aF--}}if(aI<=aH||(aJ.hasClass("k-group-footer")&&aF<0)){return false}aJ.hide()})},expandGroup:function(aF){aF=a(aF).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var aJ=this,aH=aF.find(".k-group-cell").length,aK,aI,aG=1;aF.find("td:first").attr("aria-expanded",true);aF.nextAll("tr").each(function(){aK=a(this);aI=aK.find(".k-group-cell").length;if(aI<=aH){return false}if(aI==aH+1&&!aK.hasClass("k-detail-row")){aK.show();if(aK.hasClass("k-grouping-row")&&aK.find(".k-icon").hasClass("k-i-collapse")){aJ.expandGroup(aK)}if(aK.hasClass("k-master-row")&&aK.find(".k-icon").hasClass("k-minus")){aK.next().show()}}if(aK.hasClass("k-grouping-row")){aG++}if(aK.hasClass("k-group-footer")){if(aG==1){aK.show()}else{aG--}}})},_updateHeader:function(aG){var aI=this,aF=aI.thead.find("th.k-group-cell"),aH=aF.length;if(aG>aH){a(new Array(aG-aH+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(aI.thead.find("tr"))}else{if(aG<aH){aH=aH-aG;a(J(aF,function(aK,aJ){return aH>aJ})).remove()}}},_firstDataItem:function(aF,aG){if(aF&&aG){if(aF.hasSubgroups){aF=this._firstDataItem(aF.items[0],aG)}else{aF=aF.items[0]}}return aF},hideColumn:function(aH){var aR=this,aP,aO,aF,aQ,aM,aG,aK,aS=0,aN,aL=aR.footer||aR.wrapper.find(".k-grid-footer"),aJ=aR.columns,aI;if(typeof aH=="number"){aH=aJ[aH]}else{aH=J(aJ,function(aT){return aT.field===aH})[0]}if(!aH||aH.hidden){return}aI=S(aH,aC(aJ));aH.hidden=true;aH.attributes=c(aH.attributes);aH.footerAttributes=c(aH.footerAttributes);aH.headerAttributes=c(aH.headerAttributes);aR._templates();aR._updateCols();ar(aR.thead.find(">tr")[0].cells,aI,false);if(aL[0]){aR._appendCols(aL.find("table:first"));ar(aL.find(".k-footer-template")[0].cells,aI,false)}aP=aR.tbody.children();for(aM=0,aN=aP.length;aM<aN;aM+=1){aO=aP.eq(aM);if(aO.is(".k-grouping-row,.k-detail-row")){aF=aO.children(":not(.k-group-cell):first,.k-detail-cell").last();aF.attr("colspan",parseInt(aF.attr("colspan"),10)-1)}else{if(aO.hasClass("k-grid-edit-row")&&(aF=aO.children(".k-edit-container")[0])){aF=a(aF);aF.attr("colspan",parseInt(aF.attr("colspan"),10)-1);aF.find("col").eq(aI).remove();aO=aF.find("tr:first")}ar(aO[0].cells,aI,false)}}aG=aR.thead.prev().find("col");for(aM=0,aN=aG.length;aM<aN;aM+=1){aK=aG[aM].style.width;if(aK&&aK.indexOf("%")==-1){aS+=parseInt(aK,10)}else{aS=0;break}}aQ=a(">.k-grid-header table:first,>.k-grid-footer table:first",aR.wrapper).add(aR.table);aR._footerWidth=null;if(aS){aQ.width(aS);aR._footerWidth=aS}if(e.msie&&e.version==8){aQ.css("display","inline-table");setTimeout(function(){aQ.css("display","table")},1)}aR.trigger(i,{column:aH})},showColumn:function(aH){var aR=this,aP,aM,aN,aO,aF,aQ,aS,aK,aG,aJ=aR.columns,aL=aR.footer||aR.wrapper.find(".k-grid-footer"),aI;if(typeof aH=="number"){aH=aJ[aH]}else{aH=J(aJ,function(aT){return aT.field===aH})[0]}if(!aH||!aH.hidden){return}aI=S(aH,aJ);aH.hidden=false;aH.attributes=al(aH.attributes);aH.footerAttributes=al(aH.footerAttributes);aH.headerAttributes=al(aH.headerAttributes);aR._templates();aR._updateCols();ar(aR.thead.find(">tr")[0].cells,aI,true);if(aL[0]){aR._appendCols(aL.find("table:first"));ar(aL.find(".k-footer-template")[0].cells,aI,true)}aP=aR.tbody.children();for(aM=0,aN=aP.length;aM<aN;aM+=1){aO=aP.eq(aM);if(aO.is(".k-grouping-row,.k-detail-row")){aF=aO.children(":not(.k-group-cell):first,.k-detail-cell").last();aF.attr("colspan",parseInt(aF.attr("colspan"),10)+1)}else{if(aO.hasClass("k-grid-edit-row")&&(aF=aO.children(".k-edit-container")[0])){aF=a(aF);aF.attr("colspan",parseInt(aF.attr("colspan"),10)+1);ag(aF.find(">form>table"),aC(aJ),false,0);aO=aF.find("tr:first")}ar(aO[0].cells,aI,true)}}aQ=a(">.k-grid-header table:first,>.k-grid-footer table:first",aR.wrapper).add(aR.table);if(!aH.width){aQ.width("")}else{aS=0;aG=aR.thead.prev().find("col");for(aM=0,aN=aG.length;aM<aN;aM+=1){aK=aG[aM].style.width;if(aK.indexOf("%")>-1){aS=0;break}aS+=parseInt(aK,10)}aR._footerWidth=null;if(aS){aQ.width(aS);aR._footerWidth=aS}}aR.trigger(m,{column:aH})},_progress:function(aH){var aG=this,aF=aG.element.is("table")?aG.element.parent():(aG.content&&aG.content.length?aG.content:aG.element);Z.ui.progress(aF,aH)},refresh:function(aK){var aT=this,aP,aN,aM="",aJ=aT.dataSource.view(),aQ=aT.options.navigatable,aS,aR,aI,aH=a(aT.current()),aO=false,aL=(aT.dataSource.group()||[]).length,aG=aL+aC(aT.columns).length,aF;if(aK&&aK.action==="itemchange"&&aT.editable){return}aK=aK||{};if(aT.trigger("dataBinding",{action:aK.action||"rebind",index:aK.index,items:aK.items})){return}aF=b();if(aQ&&(aT.table[0]===aF||a.contains(aT.table[0],aF)||(aT._editContainer&&aT._editContainer.data("kendoWindow")))){aO=aH.is("th");aI=0;if(aO){aI=aT.thead.find("th:not(.k-group-cell)").index(aH)}}aT._destroyEditable();aT._progress(false);aT._data=[];if(!aT.columns.length){aT._autoColumns(aT._firstDataItem(aJ[0],aL));aG=aL+aT.columns.length}aT._group=aL>0||aT._group;if(aT._group){aT._templates();aT._updateCols();aT._updateHeader(aL);aT._group=aL>0}if(aL>0){if(aT.detailTemplate){aG++}if(aT.groupFooterTemplate){aT._groupAggregatesDefaultObject=f(aT.dataSource.aggregate())}for(aN=0,aP=aJ.length;aN<aP;aN++){aM+=aT._groupRowHtml(aJ[aN],aG,0)}}else{aM+=aT._rowsHtml(aJ)}if(ax){aT.tbody[0].innerHTML=aM}else{aR=document.createElement("div");aR.innerHTML="<table><tbody>"+aM+"</tbody></table>";aS=aR.firstChild.firstChild;aT.table[0].replaceChild(aS,aT.tbody[0]);aT.tbody=a(aS)}aT._footer();aT._setContentHeight();aT._setContentWidth();if(aI>=0){aT._removeCurrent();if(!aO){aT.current(aT.items().eq(aI).children().filter(q).first())}else{aT.current(aT.thead.find("th:not(.k-group-cell)").eq(aI))}if(aT._current){E(aT._current.closest("table")[0],true)}}aT.trigger(r)}});function I(aG,aJ){var aH,aI,aF;if(typeof aG===at&&aG===aJ){return aG}if(X(aG)&&aG.name===aJ){return aG}if(T(aG)){for(aH=0,aI=aG.length;aH<aI;aH++){aF=aG[aH];if((typeof aF===at&&aF===aJ)||(aF.name===aJ)){return aF}}}return null}function E(aL,aG){var aI=e.msie;if(aG===true){aL=a(aL);var aF=aI&&aL.parent().is(".k-grid-content,.k-grid-header-wrap"),aK,aJ;if(aF){aK=aL.parent().scrollTop();aJ=aL.parent().scrollLeft()}if(aI){try{aL[0].setActive()}catch(aH){aL[0].focus()}}else{aL[0].focus()}if(aF){aL.parent().scrollTop(aK);aL.parent().scrollLeft(aJ)}}else{a(aL).one("focusin",function(aM){aM.preventDefault()}).focus()}}function aw(aH){var aG=a(aH.currentTarget),aI=aG.is("th"),aF=aG.closest("table")[0];if(Z.support.touch){return}if(aF!==this.table[0]&&aF!==this.thead.parent()[0]){return}this.current(aG);if(aI||!a(aH.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap")){setTimeout(function(){E(aF,true)})}if(aI){aH.preventDefault()}}az.plugin(K);az.plugin(aB)})(window.kendo.jQuery);kendo_module({id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]}]});(function(a,y){var n=window.kendo,d="change",c="cancel",g="dataBound",f="dataBinding",z=n.ui.Widget,o=n.keys,l=">*",s="progress",j="error",k="k-state-focused",w="k-state-selected",m="k-edit-item",x="string",i="edit",u="remove",v="save",e="click",q=".kendoListView",t=a.proxy,b=n._activeElement,r=n.ui.progress,h=n.data.DataSource;var p=z.extend({init:function(A,B){var C=this;B=a.isArray(B)?{dataSource:B}:B;z.fn.init.call(C,A,B);B=C.options;C.wrapper=A=C.element;if(A[0].id){C._itemId=A[0].id+"_lv_active"}C._element();C._dataSource();C._templates();C._navigatable();C._selectable();C._pageable();C._crudHandlers();if(C.options.autoBind){C.dataSource.fetch()}n.notify(C)},events:[d,c,f,g,i,u,v],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(A){z.fn.setOptions.call(this,A);this._templates()},_templates:function(){var A=this.options;this.template=n.template(A.template||"");this.altTemplate=n.template(A.altTemplate||A.template);this.editTemplate=n.template(A.editTemplate||"")},_item:function(A){return this.element.children()[A]()},items:function(){return this.element.children()},setDataSource:function(A){this.options.dataSource=A;this._dataSource();if(this.options.autoBind){A.fetch()}},_unbindDataSource:function(){var A=this;A.dataSource.unbind(d,A._refreshHandler).unbind(s,A._progressHandler).unbind(j,A._errorHandler)},_dataSource:function(){var A=this;if(A.dataSource&&A._refreshHandler){A._unbindDataSource()}else{A._refreshHandler=t(A.refresh,A);A._progressHandler=t(A._progress,A);A._errorHandler=t(A._error,A)}A.dataSource=h.create(A.options.dataSource).bind(d,A._refreshHandler).bind(s,A._progressHandler).bind(j,A._errorHandler)},_progress:function(){r(this.element,true)},_error:function(){r(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(D){var K=this,L=K.dataSource.view(),C,H,G,E="",F,I,J=K.template,B=K.altTemplate,A=b();D=D||{};if(D.action==="itemchange"){if(!K._hasBindingTarget()&&!K.editable){C=D.items[0];G=K.items().filter("["+n.attr("uid")+"="+C.uid+"]");if(G.length>0){F=G.index();G.replaceWith(J(C));G=K.items().eq(F);G.attr(n.attr("uid"),C.uid);K.trigger("itemChange",{item:G,data:C})}}return}if(K.trigger(f,{action:D.action||"rebind",items:D.items,index:D.index})){return}K._destroyEditable();for(F=0,I=L.length;F<I;F++){if(F%2){E+=B(L[F])}else{E+=J(L[F])}}K.element.html(E);H=K.items();for(F=0,I=L.length;F<I;F++){H.eq(F).attr(n.attr("uid"),L[F].uid).attr("role","option").attr("aria-selected","false")}if(K.element[0]===A&&K.options.navigatable){K.current(H.eq(0))}K.trigger(g)},_pageable:function(){var D=this,A=D.options.pageable,C,B;if(a.isPlainObject(A)){B=A.pagerId;C=a.extend({},A,{dataSource:D.dataSource,pagerId:null});D.pager=new n.ui.Pager(a("#"+B),C)}},_selectable:function(){var E=this,B,A,D=E.options.selectable,C=E.options.navigatable;if(D){B=typeof D===x&&D.toLowerCase().indexOf("multiple")>-1;if(B){E.element.attr("aria-multiselectable",true)}E.selectable=new n.ui.Selectable(E.element,{aria:true,multiple:B,filter:l,change:function(){E.trigger(d)}});if(C){E.element.on("keydown"+q,function(F){if(F.keyCode===o.SPACEBAR){A=E.current();if(F.target==F.currentTarget){F.preventDefault()}if(B){if(!F.ctrlKey){E.selectable.clear()}else{if(A&&A.hasClass(w)){A.removeClass(w);return}}}else{E.selectable.clear()}E.selectable.value(A)}})}}},current:function(A){var E=this,C=E.element,B=E._current,D=E._itemId;if(A===y){return B}if(B&&B[0]){if(B[0].id===D){B.removeAttr("id")}B.removeClass(k);C.removeAttr("aria-activedescendant")}if(A&&A[0]){D=A[0].id||D;E._scrollTo(A[0]);C.attr("aria-activedescendant",D);A.addClass(k).attr("id",D)}E._current=A},_scrollTo:function(B){var E=this,A,F=false,C="scroll";if(E.wrapper.css("overflow")=="auto"||E.wrapper.css("overflow")==C){A=E.wrapper[0]}else{A=window;F=true}var D=function(J,I){var L=F?a(B).offset()[J.toLowerCase()]:B["offset"+J],K=B["client"+I],H=a(A)[C+J](),G=a(A)[I.toLowerCase()]();if(L+K>H+G){a(A)[C+J](L+K-G)}else{if(L<H){a(A)[C+J](L)}}};D("Top","Height");D("Left","Width")},_navigatable:function(){var D=this,C=D.options.navigatable,B=D.element,A=function(E){D.current(a(E.currentTarget));if(!a(E.target).is(":button,a,:input,a>.k-icon,textarea")){B.focus()}};if(C){D._tabindex();B.on("focus"+q,function(){var E=D._current;if(!E||!E.is(":visible")){E=D._item("first")}D.current(E)}).on("focusout"+q,function(){if(D._current){D._current.removeClass(k)}}).on("keydown"+q,function(H){var M=H.keyCode,G=D.current(),O=a(H.target),F=!O.is(":button,textarea,a,a>.t-icon,input"),L=O.is(":text"),N=n.preventDefault,I=B.find("."+m),E=b(),K;if((!F&&!L&&o.ESC!=M)||(L&&o.ESC!=M&&o.ENTER!=M)){return}if(o.UP===M||o.LEFT===M){if(G){G=G.prev()}D.current(!G||!G[0]?D._item("last"):G);N(H)}else{if(o.DOWN===M||o.RIGHT===M){if(G){G=G.next()}D.current(!G||!G[0]?D._item("first"):G);N(H)}else{if(o.PAGEUP===M){D.current(null);D.dataSource.page(D.dataSource.page()-1);N(H)}else{if(o.PAGEDOWN===M){D.current(null);D.dataSource.page(D.dataSource.page()+1);N(H)}else{if(o.HOME===M){D.current(D._item("first"));N(H)}else{if(o.END===M){D.current(D._item("last"));N(H)}else{if(o.ENTER===M){if(I.length!==0&&(F||L)){K=D.items().index(I);if(E){E.blur()}D.save();var J=function(){D.element.trigger("focus");D.current(D.items().eq(K))};D.one("dataBound",J)}else{if(D.options.editTemplate!==""){D.edit(G)}}}else{if(o.ESC===M){I=B.find("."+m);if(I.length===0){return}K=D.items().index(I);D.cancel();D.element.trigger("focus");D.current(D.items().eq(K))}}}}}}}}});B.on("mousedown"+q+" touchstart"+q,l,t(A,D))}},clearSelection:function(){var A=this;A.selectable.clear();A.trigger(d)},select:function(A){var C=this,B=C.selectable;A=a(A);if(A.length){if(!B.options.multiple){B.clear();A=A.first()}B.value(A);return}return B.value()},_destroyEditable:function(){var A=this;if(A.editable){A.editable.destroy();delete A.editable}},_modelFromElement:function(A){var B=A.attr(n.attr("uid"));return this.dataSource.getByUid(B)},_closeEditable:function(G){var E=this,B=E.editable,A,C,D=E.template,F=true;if(B){if(G){F=B.end()}if(F){if(B.element.index()%2){D=E.altTemplate}A=E._modelFromElement(B.element);E._destroyEditable();C=B.element.index();B.element.replaceWith(D(A));E.items().eq(C).attr(n.attr("uid"),A.uid)}}return F},edit:function(D){var E=this,B=E._modelFromElement(D),A,F=B.uid,C;E.cancel();D=E.items().filter("["+n.attr("uid")+"="+F+"]");C=D.index();D.replaceWith(E.editTemplate(B));A=E.items().eq(C).addClass(m).attr(n.attr("uid"),B.uid);E.editable=A.kendoEditable({model:B,clearContainer:false,errorTemplate:false}).data("kendoEditable");E.trigger(i,{model:B,item:A})},save:function(){var C=this,A=C.editable,B;if(!A){return}A=A.element;B=C._modelFromElement(A);if(!C.trigger(v,{model:B,item:A})&&C._closeEditable(true)){C.dataSource.sync()}},remove:function(C){var D=this,B=D.dataSource,A=D._modelFromElement(C);if(!D.trigger(u,{model:A,item:C})){C.hide();B.remove(A);B.sync()}},add:function(){var C=this,A=C.dataSource,B=A.indexOf((A.view()||[])[0]);if(B<0){B=0}C.cancel();A.insert(B,{});C.edit(C.element.children().first())},cancel:function(){var D=this,B=D.dataSource;if(D.editable){var A=D.editable.element;var C=D._modelFromElement(A);if(!D.trigger(c,{model:C,container:A})){B.cancelChanges(C);D._closeEditable(false)}}},_crudHandlers:function(){var B=this,A=e+q;B.element.on(A,".k-edit-button",function(C){var D=a(this).closest("["+n.attr("uid")+"]");B.edit(D);C.preventDefault()});B.element.on(A,".k-delete-button",function(C){var D=a(this).closest("["+n.attr("uid")+"]");B.remove(D);C.preventDefault()});B.element.on(A,".k-update-button",function(C){B.save();C.preventDefault()});B.element.on(A,".k-cancel-button",function(C){B.cancel();C.preventDefault()})},destroy:function(){var A=this;z.fn.destroy.call(A);A._unbindDataSource();A._destroyEditable();A.element.off(q);if(A.pager){A.pager.destroy()}if(A.selectable){A.selectable.destroy()}n.destroy(A.element)}});n.ui.plugin(p)})(window.kendo.jQuery);kendo_module({id:"imagebrowser",name:"ImageBrowser",category:"web",description:"",hidden:true,depends:["listview","dropdownlist","upload"]});(function(a,E){var r=window.kendo,F=r.ui.Widget,q=a.isPlainObject,w=a.proxy,m=a.extend,v=r.support.placeholder,f=r.support.browser,p=a.isFunction,C=/(^\/|\/$)/g,g="change",b="apply",l="error",h="click",t=".kendoImageBrowser",d=".kendoBreadcrumbs",y=".kendoSearchBox",s="name",z="size",D="type",j={field:D,dir:"asc"},k=r.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),B='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';m(true,r.data,{schemas:{imagebrowser:{data:function(G){return G.items||G||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});m(true,r.data,{transports:{imagebrowser:r.data.RemoteTransport.extend({init:function(G){r.data.RemoteTransport.fn.init.call(this,a.extend(true,{},this.options,G))},_call:function(H,G){G.data=a.extend({},G.data,{path:this.options.path()});if(p(this.options[H])){this.options[H].call(this,G)}else{r.data.RemoteTransport.fn[H].call(this,G)}},read:function(G){this._call("read",G)},create:function(G){this._call("create",G)},destroy:function(G){this._call("destroy",G)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function c(G,J,K){var H,I;G.on("dragenter"+t,function(){J();I=new Date();if(!H){H=setInterval(function(){var L=new Date()-I;if(L>100){K();clearInterval(H);H=null}},100)}}).on("dragover"+t,function(){I=new Date()})}var u;if(f.msie&&f.version<8){u=function(G){return G.offsetTop}}else{u=function(G){return G.offsetTop-a(G).height()}}function i(H,G){if(H===E||!H.match(/\/$/)){H=(H||"")+"/"}return H+G}function A(H){if(!H){return""}var G=" bytes";if(H>=1073741824){G=" GB";H/=1073741824}else{if(H>=1048576){G=" MB";H/=1048576}else{if(H>=1024){G=" KB";H/=1024}}}return Math.round(H*100)/100+G}function n(H,I){var G=H[I];if(q(G)){return G.from||G.field||I}return G}var o=F.extend({init:function(G,H){var I=this;H=H||{};F.fn.init.call(I,G,H);I.element.addClass("k-imagebrowser k-secondary");I.element.on(h+t,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",w(I._deleteClick,I)).on(h+t,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",w(I._addClick,I)).on("keydown"+t,"li.k-state-selected input",w(I._directoryKeyDown,I)).on("blur"+t,"li.k-state-selected input",w(I._directoryBlur,I));I._dataSource();I.refresh();I.path(I.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[l,g,b],destroy:function(){var G=this;F.fn.destroy.call(G);G.dataSource.unbind(l,G._errorHandler);G.element.add(G.list).add(G.toolbar).off(t);if(G.arrangeBy){G.arrangeBy.destroy()}r.destroy(G.element)},value:function(){var J=this,I=J._selectedItem(),H,G=J.options.transport.imageUrl;if(I&&I.get(D)==="f"){H=i(J.path(),I.get(s)).replace(C,"");if(G){H=p(G)?G(H):r.format(G,encodeURIComponent(H))}return H}},_selectedItem:function(){var G=this.listView,H=G.select();if(H.length){return this.dataSource.getByUid(H.attr(r.attr("uid")))}},_toolbar:function(){var J=this,I=r.template(B),H=J.options.messages,G=[{text:H.orderByName,value:"name"},{text:H.orderBySize,value:"size"}];J.toolbar=a(I({messages:H,showUpload:J.options.transport.uploadUrl,showCreate:J.options.transport.create,showDelete:J.options.transport.destroy})).appendTo(J.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:H.dropFilesHere},async:{saveUrl:J.options.transport.uploadUrl,autoUpload:true},upload:w(J._fileUpload,J),error:function(K){J._error({xhr:K.XMLHttpRequest,status:"error"})}}).end();J.upload=J.toolbar.find(".k-upload input").data("kendoUpload");J.arrangeBy=J.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:G,dataTextField:"text",dataValueField:"value",change:function(){J.orderBy(this.value())}}).data("kendoDropDownList");J._attachDropzoneEvents()},_attachDropzoneEvents:function(){var G=this;if(G.options.transport.uploadUrl){c(a(document.documentElement),a.proxy(G._dropEnter,G),a.proxy(G._dropLeave,G));G._scrollHandler=w(G._positionDropzone,G)}},_dropEnter:function(){this._positionDropzone();a(document).on("scroll"+t,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();a(document).off("scroll"+t,this._scrollHandler)},_positionDropzone:function(){var I=this,G=I.element,H=G.offset();I.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(H).css({width:G[0].clientWidth,height:G[0].clientHeight,lineHeight:G[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var I=this,G=I.listView.select(),H=r.format(I.options.messages.deleteFile,G.find("strong").text());if(G.length&&I._showMessage(H,"confirm")){I.listView.remove(G)}},_addClick:function(){this.createDirectory()},_getFieldName:function(G){return n(this.dataSource.reader.model.fields,G)},_fileUpload:function(G){var O=this,M=O.options,J=M.fileTypes,K=new RegExp(("("+J.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),H=G.files[0].name,I=s,N=z,L;if(K.test(H)){G.data={path:O.path()};L=O._createFile(H);if(!L){G.preventDefault()}else{O.upload.one("success",function(P){L.set(I,P.response[O._getFieldName(I)]);L.set(N,P.response[O._getFieldName(N)]);O._tiles=O.listView.items().filter("["+r.attr("type")+"=f]");O._scroll()})}}else{G.preventDefault();O._showMessage(r.format(M.messages.invalidFileType,H,J))}},_findFile:function(J){var G=this.dataSource.data(),H,L,M=D,K=s,I;J=J.toLowerCase();for(H=0,I=G.length;H<I;H++){if(G[H].get(M)==="f"&&G[H].get(K).toLowerCase()===J){L=G[H];break}}return L},_createFile:function(H){var M=this,I,K,J=0,L={},N=D,O=M.dataSource.view(),G=M._findFile(H);if(G&&!M._showMessage(r.format(M.options.messages.overwriteFile,H),"confirm")){return null}if(G){return G}for(I=0,K=O.length;I<K;I++){if(O[I].get(N)==="f"){J=I;break}}L[N]="f";L[s]=H;L[z]=0;return M.dataSource.insert(++J,L)},createDirectory:function(){var M=this,G,I,H=0,N=D,L=s,O=M.dataSource.data(),K=M._nameDirectory(),J=new M.dataSource.reader.model();for(G=0,I=O.length;G<I;G++){if(O[G].get(N)==="d"){H=G}}J.set(N,"d");J.set(L,K);M.listView.one("dataBound",function(){var Q=M.listView.items().filter("["+r.attr("uid")+"="+J.uid+"]"),P=Q.find("input");if(Q.length){this.edit(Q)}this.element.scrollTop(Q.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){P.select()})}).one("save",function(P){var Q=P.model.get(L);if(!Q){P.model.set(L,K)}else{P.model.set(L,M._nameExists(Q,J.uid)?M._nameDirectory():Q)}});M.dataSource.insert(++H,J)},_directoryKeyDown:function(G){if(G.keyCode==13){G.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(J,M){var G=this.dataSource.data(),L=D,K=s,H,I;for(H=0,I=G.length;H<I;H++){if(G[H].get(L)==="d"&&G[H].get(K).toLowerCase()===J.toLowerCase()&&G[H].uid!==M){return true}}return false},_nameDirectory:function(){var L="New folder",H=this.dataSource.data(),I=[],N=D,M=s,G,J,K;for(J=0,K=H.length;J<K;J++){if(H[J].get(N)==="d"&&H[J].get(M).toLowerCase().indexOf(L.toLowerCase())>-1){I.push(H[J].get(M))}}if(a.inArray(L,I)>-1){J=2;do{G=L+" ("+J+")";J++}while(a.inArray(G,I)>-1);L=G}return L},orderBy:function(G){this.dataSource.sort([{field:D,dir:"asc"},{field:G,dir:"asc"}])},search:function(G){this.dataSource.filter({field:s,operator:"contains",value:G})},_content:function(){var G=this;G.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(G.element).on("scroll"+t,w(G._scroll,G)).on("dblclick"+t,"li",w(G._dblClick,G));G.listView=new r.ui.ListView(G.list,{dataSource:G.dataSource,template:G._itemTmpl(),editTemplate:G._editTmpl(),selectable:true,autoBind:false,dataBinding:function(H){G.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(H.action==="remove"||H.action==="sync"){H.preventDefault()}},dataBound:function(){if(G.dataSource.view().length){G._tiles=this.items().filter("["+r.attr("type")+"=f]");G._scroll()}else{this.wrapper.append(k({text:G.options.messages.emptyFolder}))}},change:w(G._listViewChange,G)})},_dblClick:function(G){var J=this,I=a(G.currentTarget);if(I.filter("["+r.attr("type")+"=d]").length){var H=J.dataSource.getByUid(I.attr(r.attr("uid")));if(H){J.path(i(J.path(),H.get(s)));J.breadcrumbs.value(J.path())}}else{if(I.filter("["+r.attr("type")+"=f]").length){J.trigger(b)}}},_listViewChange:function(){var G=this._selectedItem();if(G){this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(G.get(D)==="f"){this.trigger(g)}}},_dataSource:function(){var K=this,I=K.options,L=I.transport,M=m({},j),H={field:s,dir:"asc"},J,G={type:L.type||"imagebrowser",sort:[M,H]};if(q(L)){L.path=w(K.path,K);G.transport=L}if(q(I.schema)){G.schema=I.schema}else{if(L.type&&q(r.data.schemas[L.type])){J=r.data.schemas[L.type]}}if(K.dataSource&&K._errorHandler){K.dataSource.unbind(l,K._errorHandler)}else{K._errorHandler=w(K._error,K)}K.dataSource=r.data.DataSource.create(G).bind(l,K._errorHandler)},_navigation:function(){var H=this,G=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);H.breadcrumbs=G.find("input:first").kendoBreadcrumbs({value:H.options.path,change:function(){H.path(this.value())}}).data("kendoBreadcrumbs");H.searchBox=G.parent().find("input:last").kendoSearchBox({label:H.options.messages.search,change:function(){H.search(this.value())}}).data("kendoSearchBox")},_error:function(G){var I=this,H;if(!I.trigger(l,G)){H=G.xhr.status;if(G.status=="error"){if(H=="404"){I._showMessage(I.options.messages.directoryNotFound)}else{if(H!="0"){I._showMessage("Error! The requested URL returned "+H+" - "+G.xhr.statusText)}}}else{if(H=="timeout"){I._showMessage("Error! Server timeout.")}}}},_showMessage:function(G,H){return window[H||"alert"](G)},refresh:function(){var G=this;G._navigation();G._toolbar();G._content()},_loadImage:function(J){var L=this,H=a(J),G=L.dataSource.getByUid(H.attr(r.attr("uid"))),K=G.get(s),M=L.options.transport.thumbnailUrl,I=a("<img />",{alt:K}),N="?";I.hide().on("load"+t,function(){a(this).prev().remove().end().addClass("k-image").fadeIn()});H.find(".k-loading").after(I);if(p(M)){M=M(L.path(),encodeURIComponent(K))}else{if(M.indexOf("?")>=0){N="&"}M=M+N+"path="+L.path()+encodeURIComponent(K)}I.attr("src",M);J.loaded=true},_scroll:function(){var G=this;if(G.options.transport&&G.options.transport.thumbnailUrl){clearTimeout(G._timeout);G._timeout=setTimeout(function(){var H=G.list.outerHeight(),J=G.list.scrollTop(),I=J+H;G._tiles.each(function(){var L=u(this),K=L+this.offsetHeight;if((L>=J&&L<I)||(K>=J&&K<I)){G._loadImage(this)}if(L>I){return false}});G._tiles=G._tiles.filter(function(){return !this.loaded})},250)}},_editTmpl:function(){var G='<li class="k-tile k-state-selected" '+r.attr("uid")+'="#=uid#" ';G+=r.attr("type")+'="${'+D+'}">';G+="#if("+D+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";G+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';G+="#}#";G+="#if("+D+' == "d") { #';G+='<input class="k-input" '+r.attr("bind")+'="value:'+s+'"/>';G+="#}#";G+="</li>";return w(r.template(G),{sizeFormatter:A})},_itemTmpl:function(){var H=this,G='<li class="k-tile" '+r.attr("uid")+'="#=uid#" ';G+=r.attr("type")+'="${'+D+'}">';G+="#if("+D+' == "d") { #';G+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';G+="#}else{#";if(H.options.transport&&H.options.transport.thumbnailUrl){G+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{G+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}G+="#}#";G+="<strong>${"+s+"}</strong>";G+="#if("+D+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+z+")}</span> #}#";G+="</li>";return w(r.template(G),{sizeFormatter:A})},path:function(I){var H=this,G=H._path||"";if(I!==E){H._path=I.replace(C,"")+"/";H.dataSource.read({path:H._path});return}if(G){G=G.replace(C,"")}return G==="/"||G===""?"":(G+"/")}});var x=F.extend({init:function(G,H){var I=this;H=H||{};F.fn.init.call(I,G,H);if(v){I.element.attr("placeholder",I.options.label)}I._wrapper();I.element.on("keydown"+y,w(I._keydown,I)).on("change"+y,w(I._updateValue,I));I.wrapper.on(h+y,"a",w(I._click,I));if(!v){I.element.on("focus"+y,w(I._focus,I)).on("blur"+y,w(I._blur,I))}},options:{name:"SearchBox",label:"Search",value:""},events:[g],destroy:function(){var G=this;G.wrapper.add(G.element).add(G.label).off(y);F.fn.destroy.call(G)},_keydown:function(G){if(G.keyCode===13){this._updateValue()}},_click:function(G){G.preventDefault();this._updateValue()},_updateValue:function(){var G=this,H=G.element.val();if(H!==G.value()){G.value(H);G.trigger(g)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!v){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var G=this.element,H=G.parents(".k-search-wrap");G[0].style.width="";G.addClass("k-input");if(!H.length){H=G.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!v){a('<label style="display:block">'+this.options.label+"</label>").insertBefore(G)}a('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(H)}this.wrapper=H;this.label=H.find(">label")},value:function(H){var G=this;if(H!==E){G.options.value=H;G.element.val(H);G._toggleLabel();return}return G.options.value}});var e=F.extend({init:function(G,H){var I=this;H=H||{};F.fn.init.call(I,G,H);I._wrapper();I.wrapper.on("focus"+d,"input",w(I._focus,I)).on("blur"+d,"input",w(I._blur,I)).on("keydown"+d,"input",w(I._keydown,I)).on(h+d,"a.k-i-arrow-n:first",w(I._rootClick,I)).on(h+d,"a:not(.k-i-arrow-n)",w(I._click,I));I.value(I.options.value)},options:{name:"Breadcrumbs",gap:50},events:[g],destroy:function(){var G=this;F.fn.destroy.call(G);G.wrapper.add(G.wrapper.find("input")).add(G.wrapper.find("a")).off(d)},_update:function(G){G=(G||"").charAt(0)==="/"?G:("/"+(G||""));if(G!==this.value()){this.value(G);this.trigger(g)}},_click:function(G){G.preventDefault();this._update(this._path(a(G.target).prevAll("a:not(.k-i-arrow-n)").andSelf()))},_rootClick:function(G){G.preventDefault();this._update("")},_focus:function(){var H=this,G=H.element;H.overlay.hide();H.element.val(H.value());setTimeout(function(){G.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var H=this,G=H.element,I=G.val().replace(/\/{2,}/g,"/");H.overlay.show();G.val("");H._update(I)},_keydown:function(G){var H=this;if(G.keyCode===13){H._blur();setTimeout(function(){H.overlay.find("a:first").focus()})}},_wrapper:function(){var G=this.element,I=G.parents(".k-breadcrumbs"),H;G[0].style.width="";G.addClass("k-input");if(!I.length){I=G.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}H=I.find(".k-breadcrumbs-wrap");if(!H.length){H=a('<div class="k-breadcrumbs-wrap"/>').appendTo(I)}this.wrapper=I;this.overlay=H},refresh:function(){var G="",L=this.value(),K,J,H,I;if(L===E||!L.match(/^\//)){L="/"+(L||"")}K=L.split("/");for(H=0,I=K.length;H<I;H++){J=K[H];if(J){if(!G){G+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}G+='<a class="k-link" href="#">'+K[H]+"</a>";G+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(a(G));this._adjustSectionWidth()},_adjustSectionWidth:function(){var I=this,K=I.wrapper,J=K.width()-I.options.gap,H=I.overlay.find("a"),G;H.each(function(L){G=a(this);if(G.parent().width()>J){if(L==H.length-1){G.width(J)}else{G.prev().andSelf().hide()}}})},value:function(G){if(G!==E){this._value=G.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(G){return"/"+a.map(G,function(H){return a(H).text()}).join("/")}});r.ui.plugin(o);r.ui.plugin(e);r.ui.plugin(x)})(window.kendo.jQuery);kendo_module({id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]}]});(function(a,s){var i=window.kendo,c=i.Class,t=i.ui.Widget,m=i.support.mobileOS,b=i.support.browser,g=a.extend,n=a.proxy,d=i.deepExtend,l=".kendoEditor",j=i.keys;var r=c.extend({init:function(u){this.options=u},getHtml:function(){var u=this.options;return i.template(u.template,{useWithBlock:false})(u)}});var f={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap k-secondary" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool-icon #= data.cssClass #"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #">#= data.title #</a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',separatorTemplate:'<span class="k-separator" />',formatByName:function(w,u){for(var v=0;v<u.length;v++){if(a.inArray(w,u[v].tags)>=0){return u[v]}}},registerTool:function(v,u){var w=u.options;if(w&&w.template){w.template.options.cssClass="k-"+v}if(!u.name){u.options.name=v;u.name=v.toLowerCase()}e.defaultTools[v]=u},registerFormat:function(v,u){e.fn.options.formats[v]=u}};var k={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"};var o=!m||(m.ios&&m.flatVersion>=500)||(!m.ios&&typeof(document.documentElement.contentEditable)!="undefined");var q={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var e=t.extend({init:function(v,w){var x=this,B,u=i.ui.editor,y,z,A=u.Dom.name(v);if(!o){return}t.fn.init.call(x,v,w);x.options=d({},x.options,w);v=x.element;v.closest("form").on("submit"+l,function(){x.update()});z=g({},x.options);z.editor=x;if(A=="textarea"){x._wrapTextarea();y=x.wrapper.find(".k-editor-toolbar");if(v[0].id){y.attr("aria-controls",v[0].id)}}else{x.element.addClass("k-widget k-editor k-editor-inline");z.popup=true;y=a('<ul class="k-editor-toolbar k-secondary" role="toolbar" />').insertBefore(v)}x.toolbar=new u.Toolbar(y[0],z);x.toolbar.bindTo(x);x._initializeContentElement(x);x.keyboard=new u.Keyboard([new u.TypingHandler(x),new u.SystemHandler(x)]);x.clipboard=new u.Clipboard(this);x.undoRedoStack=new u.UndoRedoStack();if(w&&w.value){B=w.value}else{if(x.textarea){B=v.val().replace(/[\r\n\v\f\t ]+/ig," ")}else{B=v[0].innerHTML}}x.value(B);a(document).on("mousedown",n(x._endTyping,x)).on("mouseup",n(x._mouseup,x));i.notify(x)},_endTyping:function(){var v=this.keyboard;try{if(v.isTypingInProgress()){v.endTyping(true);this.saveSelection()}}catch(u){}},_selectionChange:function(){this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_wrapTextarea:function(){var A=this,z=A.element,B=z[0].style.width,x=z[0].style.height,y=f.editorWrapperTemplate,v=a(y).insertBefore(z).width(B).height(x),u=v.find(".k-editable-area");z.attr("autocomplete","off").appendTo(u).addClass("k-content k-raw-content").css("display","none");A.textarea=z;A.wrapper=v},_createContentElement:function(y){var v=this,w,A,u,z=v.textarea,x=i.support.isRtl(z)?"direction:rtl;":"";z.hide();w=a("<iframe />",{src:'javascript:""',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(z)[0];A=w.contentWindow||w;u=A.document||w.contentDocument;a(w).one("load",function(){var B=v.toolbar.items().filter(".k-decorated");B.kendoSelectBox("decorate",u)});u.open();u.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+x+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style><script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+a.map(y,function(B){return"<link rel='stylesheet' href='"+B+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");u.close();return A},_initializeContentElement:function(){var x=this;var v;var u;if(x.textarea){x.window=x._createContentElement(x.options.stylesheets);v=x.document=x.window.contentDocument||x.window.document;x.body=v.body;u=x.window;a(v).on("mouseup"+l,n(x._mouseup,x))}else{x.window=window;v=x.document=document;x.body=x.element[0];u=x.body;var y=x.toolbar.items().filter(".k-decorated");y.kendoSelectBox("decorate",v)}a(u).on("blur"+l,function(){var z=x.textarea?x.textarea.val():x._oldValue;var A=x.options.encoded?x.encodedValue():x.value();x.update();if(A!=z){x.trigger("change")}});try{v.execCommand("enableInlineTableEditing",null,false)}catch(w){}if(i.support.touch){a(v).on("selectionchange"+l,function(){x._selectionChange()})}a(x.body).on("keydown"+l,function(D){var H;if(D.keyCode===j.F10){setTimeout(n(x.toolbar.focus,x.toolbar),100);D.preventDefault();return}else{if(D.keyCode===j.BACKSPACE){H=x.getRange();var z,E=b.msie?"":'<br _moz_dirty="" />',C=i.ui.editor.Dom;H.deleteContents();z=H.commonAncestorContainer;if(C.name(z)==="p"&&z.innerHTML===""){z.innerHTML=E;H.setStart(z,0);H.collapse(true);x.selectRange(H)}}else{if(D.keyCode==j.LEFT||D.keyCode==j.RIGHT){H=x.getRange();var F=D.keyCode==j.LEFT;var A=H[F?"startContainer":"endContainer"];var G=H[F?"startOffset":"endOffset"];var B=F?-1:1;if(F){G-=1}if(G+B>0&&A.nodeType==3&&A.nodeValue[G]=="\ufeff"){H.setStart(A,G+B);H.collapse(true);x.selectRange(H)}}}}var I=x.keyboard.toolFromShortcut(x.toolbar.tools,D);if(I){D.preventDefault();if(!/undo|redo/.test(I)){x.keyboard.endTyping(true)}x.trigger("keydown",D);x.exec(I);return false}x.keyboard.clearTimeout();x.keyboard.keydown(D)}).on("keyup"+l,function(z){var A=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(a.inArray(z.keyCode,A)>-1||(z.keyCode==65&&z.ctrlKey&&!z.altKey&&!z.shiftKey)){x._selectionChange()}x.keyboard.keyup(z)}).on("mousedown"+l,function(z){x._selectionStarted=true;var A=a(z.target);if(!b.gecko&&z.which==2&&A.is("a[href]")){window.open(A.attr("href"),"_new")}}).on("click"+l,function(A){var z=i.ui.editor.Dom,B;if(z.name(A.target)==="img"){B=x.createRange();B.selectNode(A.target);x.selectRange(B)}}).on("cut"+l+" paste"+l,function(z){x.clipboard["on"+z.type](z)}).on("focusin"+l,function(){a(this).addClass("k-state-active");x.toolbar.show()}).on("focusout"+l,function(){setTimeout(function(){var z=i._activeElement();var A=x.body;var B=x.toolbar;if(z!=A&&!a.contains(A,z)&&!B.focused()){a(A).removeClass("k-state-active");B.hide()}},10)})},_mouseup:function(){var u=this;if(u._selectionStarted){setTimeout(function(){u._selectionChange()},1)}},refresh:function(){var u=this;u.textarea.val(u.value());u.wrapper.find("iframe").remove();u._initializeContentElement(u);u.value(u.textarea.val())},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:k,formats:{},encoded:true,stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],q.basic,q.alignment,q.lists,q.indenting,q.links,["insertImage"],q.tables)},destroy:function(){var u=this;t.fn.destroy.call(u);a(u.window).add(u.document).add(u.body).add(u.wrapper).add(u.element.closest("form")).off(l);a(document).off("mousedown",n(u._endTyping,u)).off("mouseup",n(u._mouseup,u));i.destroy(u.wrapper)},state:function(z){var y=e.defaultTools[z];var u=y&&(y.options.finder||y.finder);var w=i.ui.editor.RangeUtils;var v,x;if(u){v=this.getRange();x=w.textNodes(v);if(!x.length&&v.collapsed){x=[v.startContainer]}return u.getFormat?u.getFormat(x):u.isFormatted(x)}return false},value:function(y){var u=this.body,x=i.ui.editor,w=x.Dom,v=x.Serializer.domToXhtml(u);if(y===s){return v}if(y==v){return}var z=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;y=(y||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/ig,function(C){return C.replace(z,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/<p([^>]*)>(\s*)?<\/p>/ig,"<p$1>"+x.emptyElementContent+"</p>");if(b.msie&&b.version<9){y="<br/>"+y;var B="originalsrc",A="originalhref";y=y.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,A+'="$1"');y=y.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,B+'="$1"');u.innerHTML=y;w.remove(u.firstChild);a(u).find("telerik\\:script,script,link,img,a").each(function(){var C=this;if(C[A]){C.setAttribute("href",C[A]);C.removeAttribute(A)}if(C[B]){C.setAttribute("src",C[B]);C.removeAttribute(B)}})}else{u.innerHTML=y;if(b.msie){w.normalize(u);setTimeout(function(){var E=u.getElementsByTagName("ol"),C,D,F;for(C=0;C<E.length;C++){D=E[C];F=D.getAttribute("start");D.setAttribute("start",1);if(F){D.setAttribute("start",F)}else{D.removeAttribute(F)}}},1)}}a("table",this.body).addClass("k-table");this.selectionRestorePoint=null;this.update()},saveSelection:function(w){w=w||this.getRange();var v=w.commonAncestorContainer,u=this.body;if(v==u||a.contains(u,v)){this.selectionRestorePoint=new i.ui.editor.RestorePoint(w)}},_focusBody:function(){var u=this.body;if(i._activeElement()!=u){u.focus()}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(u){u=u||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(u)}else{this._oldValue=u}},encodedValue:function(){return i.ui.editor.Dom.encode(this.value())},createRange:function(u){return i.ui.editor.RangeUtils.createRange(u||this.document)},getSelection:function(){return i.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(u){this._focusBody();var v=this.getSelection();v.removeAllRanges();v.addRange(u);this.saveSelection(u)},getRange:function(){var w=this.getSelection(),v=w.rangeCount>0?w.getRangeAt(0):this.createRange(),u=this.document;if(v.startContainer==u&&v.endContainer==u&&!v.startOffset&&!v.endOffset){v.setStart(this.body,0);v.collapse(true)}return v},selectedHtml:function(){return i.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(u,v){this.clipboard.paste(u,v)},exec:function(w,x){var z=this,y,A,u=null;if(!w){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}w=w.toLowerCase();if(!z.keyboard.isTypingInProgress()){z.restoreSelection()}A=z.toolbar.toolById(w);if(!A){for(var v in e.defaultTools){if(v.toLowerCase()==w){A=e.defaultTools[v];break}}}if(A){y=z.getRange();if(A.command){u=A.command(g({range:y},x))}z.trigger("execute",{name:w,command:u});if(/undo|redo/i.test(w)){z.undoRedoStack[w]()}else{if(u){if(!u.managesUndoRedo){z.undoRedoStack.push(u)}u.editor=z;u.exec();if(u.async){u.change=n(z._selectionChange,z);return}}}z._selectionChange()}}});e.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};i.ui.plugin(e);var p=c.extend({init:function(u){this.options=u},initialize:function(v,u){v.attr({unselectable:"on",title:u.title})},command:function(u){return new this.options.command(u)},update:a.noop});p.exec=function(u,v,w){u.exec(v,{value:w})};var h=p.extend({init:function(u){p.fn.init.call(this,u)},command:function(u){var v=this;return new i.ui.editor.FormatCommand(g(u,{formatter:v.options.formatter}))},update:function(w,v){var u=this.options.finder.isFormatted(v);w.toggleClass("k-state-selected",u);w.attr("aria-pressed",u)}});f.registerTool("separator",new p({template:new r({template:f.separatorTemplate})}));g(i.ui,{editor:{ToolTemplate:r,EditorUtils:f,Tool:p,FormatTool:h,_bomFill:b.msie&&b.version<9?"\ufeff":"",emptyElementContent:!b.msie?'<br _moz_dirty="" />':b.version<9?"\ufeff":""}})})(window.jQuery);(function(a){var r=window.kendo,u=a.map,m=a.extend,e=r.support.browser,y="style",o="float",h="cssFloat",z="styleFloat",f="class",s="k-marker";function t(C){var E={},B,D;for(B=0,D=C.length;B<D;B++){E[C[B]]=true}return E}var j=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),c="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),b=t(c),q="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),p=t(q),n=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var v=function(B){if(B.nodeType==1){B.normalize()}};if(e.msie&&e.version>=8){v=function(C){if(C.nodeType==1&&C.firstChild){var D=C.firstChild,B=D;while(true){B=B.nextSibling;if(!B){break}if(B.nodeType==3&&D.nodeType==3){B.nodeValue=D.nodeValue+B.nodeValue;i.remove(D)}D=B}}}}var A=/^\s+$/,x=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,d=/\ufeff/g,w,g=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),k=/[\u00A0-\u2666<>\&]/g,l={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var i={findNodeIndex:function(C,D){var B=0;while(true){C=C.previousSibling;if(!C){break}if(!(D&&C.nodeType==3)){B++}}return B},isDataNode:function(B){return B&&B.nodeValue!==null&&B.data!==null},isAncestorOf:function(D,C){try{return !i.isDataNode(D)&&(a.contains(D,i.isDataNode(C)?C.parentNode:C)||C.parentNode==D)}catch(B){return false}},isAncestorOrSelf:function(C,B){return i.isAncestorOf(C,B)||C==B},findClosestAncestor:function(C,B){if(i.isAncestorOf(C,B)){while(B&&B.parentNode!=C){B=B.parentNode}}return B},getNodeLength:function(B){return i.isDataNode(B)?B.length:B.childNodes.length},splitDataNode:function(E,F){var D=E.cloneNode(false),B="",C=E;while(C.nextSibling&&C.nextSibling.nodeType==3&&C.nextSibling.nodeValue){B+=C.nextSibling.nodeValue;C=C.nextSibling}E.deleteData(F,E.length);D.deleteData(0,F);D.nodeValue+=B;i.insertAfter(D,E)},attrEquals:function(D,B){for(var C in B){var E=D[C];if(C==o){E=D[a.support.cssFloat?h:z]}if(typeof E=="object"){if(!i.attrEquals(E,B[C])){return false}}else{if(E!=B[C]){return false}}}return true},blockParentOrBody:function(B){return i.parentOfType(B,c)||B.ownerDocument.body},blockParents:function(F){var C=[],D,E;for(D=0,E=F.length;D<E;D++){var B=i.parentOfType(F[D],i.blockElements);if(B&&a.inArray(B,C)<0){C.push(B)}}return C},windowFromDocument:function(B){return B.defaultView||B.parentWindow},normalize:v,blockElements:c,inlineElements:q,empty:j,fillAttrs:n,toHex:function(B){var C=x.exec(B);if(!C){return B}return"#"+u(C.slice(1),function(D){D=parseInt(D,10).toString(16);return D.length>1?D:"0"+D}).join("")},encode:function(B){return B.replace(k,function(C){var D=C.charCodeAt(0);var E=l[D];return E?"&"+E+";":C})},stripBom:function(B){return B.replace(d,"")},name:function(B){return B.nodeName.toLowerCase()},significantChildNodes:function(B){return a.grep(B.childNodes,function(C){return C.nodeType!=3||!i.isWhitespace(C)})},lastTextNode:function(C){var D=null;if(C.nodeType==3){return C}for(var B=C.lastChild;B;B=B.previousSibling){D=i.lastTextNode(B);if(D){return D}}return D},is:function(B,C){return i.name(B)==C},isMarker:function(B){return B.className==s},isWhitespace:function(B){return A.test(B.nodeValue)},isBlock:function(B){return b[i.name(B)]},isEmpty:function(B){return j[i.name(B)]},isInline:function(B){return p[i.name(B)]},scrollContainer:function(B){var D=i.windowFromDocument(B),C=(D.contentWindow||D).document||D.ownerDocument||D;if(r.support.browser.webkit||C.compatMode=="BackCompat"){C=C.body}else{C=C.documentElement}return C},scrollTo:function(E){var B=a(i.isDataNode(E)?E.parentNode:E),H=i.windowFromDocument(E.ownerDocument),G=H.innerHeight,D,C,F=i.scrollContainer(E.ownerDocument);if(i.name(B[0])=="br"){B=B.parent()}D=B.offset().top;C=B[0].offsetHeight;if(C+D>F.scrollTop+G){F.scrollTop=C+D-G}},persistScrollTop:function(B){w=i.scrollContainer(B).scrollTop},restoreScrollTop:function(B){i.scrollContainer(B).scrollTop=w},insertAt:function(C,B,D){C.insertBefore(B,C.childNodes[D]||null)},insertBefore:function(B,C){if(C.parentNode){return C.parentNode.insertBefore(B,C)}else{return C}},insertAfter:function(B,C){return C.parentNode.insertBefore(B,C.nextSibling)},remove:function(B){B.parentNode.removeChild(B)},removeTextSiblings:function(B){var C=B.parentNode;while(B.nextSibling&&B.nextSibling.nodeType==3){C.removeChild(B.nextSibling)}while(B.previousSibling&&B.previousSibling.nodeType==3){C.removeChild(B.previousSibling)}},trim:function(D){for(var B=D.childNodes.length-1;B>=0;B--){var C=D.childNodes[B];if(i.isDataNode(C)){if(!i.stripBom(C.nodeValue).length){i.remove(C)}if(i.isWhitespace(C)){i.insertBefore(C,D)}}else{if(C.className!=s){i.trim(C);if(!C.childNodes.length&&!i.isEmpty(C)){i.remove(C)}}}}return D},closest:function(B,C){while(B&&i.name(B)!=C){B=B.parentNode}return B},sibling:function(C,B){do{C=C[B]}while(C&&C.nodeType!=1);return C},next:function(B){return i.sibling(B,"nextSibling")},prev:function(B){return i.sibling(B,"previousSibling")},parentOfType:function(B,C){do{B=B.parentNode}while(B&&!(i.ofType(B,C)));return B},ofType:function(B,C){return a.inArray(i.name(B),C)>=0},changeTag:function(H,I){var G=i.create(H.ownerDocument,I),C=H.attributes,D,E,F,J,B;for(D=0,E=C.length;D<E;D++){B=C[D];if(B.specified){F=B.nodeName;J=B.nodeValue;if(F==f){G.className=J}else{if(F==y){G.style.cssText=H.style.cssText}else{G.setAttribute(F,J)}}}}while(H.firstChild){G.appendChild(H.firstChild)}i.insertBefore(G,H);i.remove(H);return G},wrap:function(B,C){i.insertBefore(C,B);C.appendChild(B);return C},unwrap:function(B){var C=B.parentNode;while(B.firstChild){C.insertBefore(B.firstChild,B)}C.removeChild(B)},create:function(C,D,B){return i.attr(C.createElement(D),B)},attr:function(D,C){C=m({},C);if(C&&y in C){i.style(D,C.style);delete C.style}for(var B in C){if(C[B]===null){D.removeAttribute(B);delete C[B]}else{if(B=="className"){D[B]=C[B]}}}return m(D,C)},style:function(B,C){a(B).css(C||{})},unstyle:function(C,D){for(var B in D){if(B==o){B=a.support.cssFloat?h:z}C.style[B]=""}if(C.style.cssText===""){C.removeAttribute(y)}},inlineStyle:function(C,D,B){var E=a(i.create(C,D,B)),F;C.body.appendChild(E[0]);F=u(g,function(G){if(e.msie&&G=="line-height"&&E.css(G)=="1px"){return"line-height:1.5"}else{return G+":"+E.css(G)}}).join(";");E.remove();return F},removeClass:function(G,D){var C=" "+G.className+" ",B=D.split(" "),E,F;for(E=0,F=B.length;E<F;E++){C=C.replace(" "+B[E]+" "," ")}C=a.trim(C);if(C.length){G.className=C}else{G.removeAttribute(f)}},commonAncestor:function(){var C=arguments.length,J=[],G=Infinity,I=null,E,B,H,D,F;if(!C){return null}if(C==1){return arguments[0]}for(E=0;E<C;E++){B=[];H=arguments[E];while(H){B.push(H);H=H.parentNode}J.push(B.reverse());G=Math.min(G,B.length)}if(C==1){return J[0][0]}for(E=0;E<G;E++){D=J[0][E];for(F=1;F<C;F++){if(D!=J[F][E]){return I}}I=D}return I},closestSplittableParent:function(B){var C;if(B.length==1){C=i.parentOfType(B[0],["ul","ol"])}else{C=i.commonAncestor.apply(null,B)}if(!C){C=i.parentOfType(B[0],["p","td"])||B[0].ownerDocument.body}if(i.isInline(C)){C=i.blockParentOrBody(C)}return C}};r.ui.editor.Dom=i})(window.kendo.jQuery);(function(a,m){var i=window.kendo;var e=i.ui.editor;var d=e.Dom;var g=a.extend;var h="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var j=/"/g;var b=/<br[^>]*>/i;var f=/<p><\/p>/i;var c=/([\w|\-]+)\s*:\s*([^;]+);?/i;var l=/^sizzle-\d+/i;var k={domToXhtml:function(r){var q=[];var t={"telerik:script":{start:function(v){q.push("<script");n(v);q.push(">")},end:function(){q.push("</script>")}},b:{start:function(){q.push("<strong>")},end:function(){q.push("</strong>")}},i:{start:function(){q.push("<em>")},end:function(){q.push("</em>")}},u:{start:function(){q.push('<span style="text-decoration:underline;">')},end:function(){q.push("</span>")}},iframe:{start:function(v){q.push("<iframe");n(v);q.push(">")},end:function(){q.push("</iframe>")}},font:{start:function(x){q.push('<span style="');var v=x.getAttribute("color");var y=h[x.getAttribute("size")];var w=x.getAttribute("face");if(v){q.push("color:");q.push(d.toHex(v));q.push(";")}if(w){q.push("font-face:");q.push(w);q.push(";")}if(y){q.push("font-size:");q.push(y);q.push(";")}q.push('">')},end:function(){q.push("</span>")}}};function s(w){var B=a.trim;var v=B(w).split(";");var x,y=v.length;var z;var A,C;for(x=0,y=v.length;x<y;x++){if(!v[x].length){continue}z=c.exec(v[x]);if(!z){continue}A=B(z[1].toLowerCase());C=B(z[2]);if(A=="font-size-adjust"||A=="font-stretch"){continue}if(A.indexOf("color")>=0){C=d.toHex(C)}else{if(A.indexOf("font")>=0){C=C.replace(j,"'")}else{if(/\burl\(/g.test(C)){C=C.replace(j,"")}}}q.push(A);q.push(":");q.push(C);q.push(";")}}function n(C){var E=[];var x=C.attributes;var w,z,A;var B,F,D;if(d.is(C,"img")){var G=C.style.width,y=C.style.height,v=a(C);if(G){v.attr("width",parseInt(G,10));d.unstyle(C,{width:m})}if(y){v.attr("height",parseInt(y,10));d.unstyle(C,{height:m})}}for(z=0,A=x.length;z<A;z++){w=x[z];B=w.nodeName;F=w.nodeValue;D=w.specified;if(B=="value"&&"value" in C&&C.value){D=true}else{if(B=="type"&&F=="text"){D=true}else{if(B=="class"&&!F){D=false}else{if(l.test(B)){D=false}else{if(B=="complete"){D=false}else{if(B=="altHtml"){D=false}else{if(B.indexOf("_moz")>=0){D=false}}}}}}}if(D){E.push(w)}}if(!E.length){return}E.sort(function(H,I){return H.nodeName>I.nodeName?1:H.nodeName<I.nodeName?-1:0});for(z=0,A=E.length;z<A;z++){w=E[z];B=w.nodeName;F=w.nodeValue;if(B.toLowerCase()=="contenteditable"&&(d.is(C,"table")||d.is(C,"td"))){continue}if(B=="class"&&F=="k-table"){continue}q.push(" ");q.push(B);q.push('="');if(B=="style"){s(F||C.style.cssText)}else{if(B=="src"||B=="href"){q.push(C.getAttribute(B,2))}else{q.push(d.fillAttrs[B]?B:F)}}q.push('"')}}function p(w,x){for(var v=w.firstChild;v;v=v.nextSibling){o(v,x)}}function u(v){return v.nodeValue.replace(/\ufeff/g,"")}function o(w,A){var x=w.nodeType,B,v,y,C,z;if(x==1){B=d.name(w);if(!B||((w.attributes._moz_dirty||w.attributes._moz_editor_bogus_node)&&d.is(w,"br"))||w.className=="k-marker"){return}if(d.isInline(w)&&w.childNodes.length==1&&w.firstChild.nodeType==3&&!u(w.firstChild)){return}v=t[B];if(v){v.start(w);p(w);v.end(w);return}q.push("<");q.push(B);n(w);if(d.empty[B]){q.push(" />")}else{q.push(">");p(w,A||d.is(w,"pre"));q.push("</");q.push(B);q.push(">")}}else{if(x==3){C=u(w);if(!A&&a.support.leadingWhitespace){y=w.parentNode;z=w.previousSibling;if(!z){z=(d.isInline(y)?y:w).previousSibling}if(!z||z.innerHTML===""||d.isBlock(z)){C=C.replace(/^[\r\n\v\f\t ]+/,"")}C=C.replace(/ +/," ")}q.push(d.encode(C))}else{if(x==4){q.push("<![CDATA[");q.push(w.data);q.push("]]>")}else{if(x==8){if(w.data.indexOf("[CDATA[")<0){q.push("<!--");q.push(w.data);q.push("-->")}else{q.push("<!");q.push(w.data);q.push(">")}}}}}}if(r.childNodes.length==1&&r.firstChild.nodeType==3){return d.encode(u(r.firstChild).replace(/[\r\n\v\f\t ]+/," "))}p(r);q=q.join("");if(q.replace(b,"").replace(f,"")===""){return""}return q}};g(e,{Serializer:k})})(window.kendo.jQuery);(function(a){var p=window.kendo,f=p.Class,j=a.extend,i=p.ui.editor,e=p.support.browser,h=i.Dom,l=h.findNodeIndex,o=h.isDataNode,k=h.findClosestAncestor,n=h.getNodeLength,r=h.normalize;var w={selectionFromWindow:function(B){if(!("getSelection" in B)){return new A(B.document)}return B.getSelection()},selectionFromRange:function(B){var C=u.documentFromRange(B);return w.selectionFromDocument(C)},selectionFromDocument:function(B){return w.selectionFromWindow(h.windowFromDocument(B))}};var z=f.extend({init:function(B){a.extend(this,{ownerDocument:B,startContainer:B,endContainer:B,commonAncestorContainer:B,startOffset:0,endOffset:0,collapsed:true})},setStart:function(B,C){this.startContainer=B;this.startOffset=C;y(this);m(this,true)},setEnd:function(B,C){this.endContainer=B;this.endOffset=C;y(this);m(this,false)},setStartBefore:function(B){this.setStart(B.parentNode,l(B))},setStartAfter:function(B){this.setStart(B.parentNode,l(B)+1)},setEndBefore:function(B){this.setEnd(B.parentNode,l(B))},setEndAfter:function(B){this.setEnd(B.parentNode,l(B)+1)},selectNode:function(B){this.setStartBefore(B);this.setEndAfter(B)},selectNodeContents:function(B){this.setStart(B,0);this.setEnd(B,B[B.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(C){var B=this;if(C){B.setEnd(B.startContainer,B.startOffset)}else{B.setStart(B.endContainer,B.endOffset)}},deleteContents:function(){var D=this,C=D.cloneRange();if(D.startContainer!=D.commonAncestorContainer){D.setStartAfter(k(D.commonAncestorContainer,D.startContainer))}D.collapse(true);(function B(E){while(E.next()){if(E.hasPartialSubtree()){B(E.getSubtreeIterator())}else{E.remove()}}})(new t(C))},cloneContents:function(){var C=u.documentFromRange(this);return(function B(E){var F,D=C.createDocumentFragment();while(F=E.next()){F=F.cloneNode(!E.hasPartialSubtree());if(E.hasPartialSubtree()){F.appendChild(B(E.getSubtreeIterator()))}D.appendChild(F)}return D})(new t(this))},extractContents:function(){var E=this,D=E.cloneRange();if(E.startContainer!=E.commonAncestorContainer){E.setStartAfter(k(E.commonAncestorContainer,E.startContainer))}E.collapse(true);var B=u.documentFromRange(E);return(function C(G){var H,F=B.createDocumentFragment();while(H=G.next()){if(G.hasPartialSubtree()){H=H.cloneNode(false);H.appendChild(C(G.getSubtreeIterator()))}else{G.remove(E.originalRange)}F.appendChild(H)}return F})(new t(D))},insertNode:function(B){var C=this;if(o(C.startContainer)){if(C.startOffset!=C.startContainer.nodeValue.length){h.splitDataNode(C.startContainer,C.startOffset)}h.insertAfter(B,C.startContainer)}else{h.insertAt(C.startContainer,B,C.startOffset)}C.setStart(C.startContainer,C.startOffset)},cloneRange:function(){return a.extend(new z(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var C=this.startContainer.nodeName,B=this.endContainer.nodeName;return[C=="#text"?this.startContainer.nodeValue:C,"(",this.startOffset,") : ",B=="#text"?this.endContainer.nodeValue:B,"(",this.endOffset,")"].join("")}});function g(G,C,I,E){if(G==C){return E-I}var B=C;while(B&&B.parentNode!=G){B=B.parentNode}if(B){return l(B)-I}B=G;while(B&&B.parentNode!=C){B=B.parentNode}if(B){return E-l(B)-1}var F=h.commonAncestor(G,C);var H=G;while(H&&H.parentNode!=F){H=H.parentNode}if(!H){H=F}var D=C;while(D&&D.parentNode!=F){D=D.parentNode}if(!D){D=F}if(H==D){return 0}return l(D)-l(H)}function m(C,D){function B(F){try{return g(F.startContainer,F.endContainer,F.startOffset,F.endOffset)<0}catch(E){return true}}if(B(C)){if(D){C.commonAncestorContainer=C.endContainer=C.startContainer;C.endOffset=C.startOffset}else{C.commonAncestorContainer=C.startContainer=C.endContainer;C.startOffset=C.endOffset}C.collapsed=true}}function y(C){C.collapsed=C.startContainer==C.endContainer&&C.startOffset==C.endOffset;var B=C.startContainer;while(B&&B!=C.endContainer&&!h.isAncestorOf(B,C.endContainer)){B=B.parentNode}C.commonAncestorContainer=B}var t=f.extend({init:function(B){a.extend(this,{range:B,_current:null,_next:null,_end:null});if(B.collapsed){return}var C=B.commonAncestorContainer;this._next=B.startContainer==C&&!o(B.startContainer)?B.startContainer.childNodes[B.startOffset]:k(C,B.startContainer);this._end=B.endContainer==C&&!o(B.endContainer)?B.endContainer.childNodes[B.endOffset]:k(C,B.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var C=this,B=C._current=C._next;C._next=C._current&&C._current.nextSibling!=C._end?C._current.nextSibling:null;if(o(C._current)){if(C.range.endContainer==C._current){B=B.cloneNode(true);B.deleteData(C.range.endOffset,B.length-C.range.endOffset)}if(C.range.startContainer==C._current){B=B.cloneNode(true);B.deleteData(0,C.range.startOffset)}}return B},traverse:function(B){var E=this,C;function D(){E._current=E._next;E._next=E._current&&E._current.nextSibling!=E._end?E._current.nextSibling:null;return E._current}while(C=D()){if(E.hasPartialSubtree()){E.getSubtreeIterator().traverse(B)}else{B(C)}}return C},remove:function(G){var J=this,E=J.range.startContainer==J._current,D=J.range.endContainer==J._current,I,C,B;if(o(J._current)&&(E||D)){I=E?J.range.startOffset:0;C=D?J.range.endOffset:J._current.length;B=C-I;if(G&&(E||D)){if(J._current==G.startContainer&&I<=G.startOffset){G.startOffset-=B}if(J._current==G.endContainer&&C<=G.endOffset){G.endOffset-=B}}J._current.deleteData(I,B)}else{var H=J._current.parentNode;if(G&&(J.range.startContainer==H||J.range.endContainer==H)){var F=l(J._current);if(H==G.startContainer&&F<=G.startOffset){G.startOffset-=1}if(H==G.endContainer&&F<G.endOffset){G.endOffset-=1}}h.remove(J._current)}},hasPartialSubtree:function(){return !o(this._current)&&(h.isAncestorOrSelf(this._current,this.range.startContainer)||h.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var C=this,B=C.range.cloneRange();B.selectNodeContents(C._current);if(h.isAncestorOrSelf(C._current,C.range.startContainer)){B.setStart(C.range.startContainer,C.range.startOffset)}if(h.isAncestorOrSelf(C._current,C.range.endContainer)){B.setEnd(C.range.endContainer,C.range.endOffset)}return new t(B)}});var A=f.extend({init:function(B){this.ownerDocument=B;this.rangeCount=1},addRange:function(B){var C=this.ownerDocument.body.createTextRange();b(C,B,false);b(C,B,true);C.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var L,I=new z(this.ownerDocument),J=this.ownerDocument.selection,D,C;try{L=J.createRange();D=L.item?L.item(0):L.parentElement();if(D.ownerDocument!=this.ownerDocument){return I}}catch(F){return I}if(J.type=="Control"){I.selectNode(L.item(0))}else{C=x(L);c(L,I,C,true);c(L,I,C,false);if(I.startContainer.nodeType==9){I.setStart(I.endContainer,I.startOffset)}if(I.endContainer.nodeType==9){I.setEnd(I.startContainer,I.endOffset)}if(L.compareEndPoints("StartToEnd",L)===0){I.collapse(false)}var K=I.startContainer,E=I.endContainer,B=this.ownerDocument.body;if(!I.collapsed&&I.startOffset===0&&I.endOffset==n(I.endContainer)&&!(K==E&&o(K)&&K.parentNode==B)){var H=false,G=false;while(l(K)===0&&K==K.parentNode.firstChild&&K!=B){K=K.parentNode;H=true}while(l(E)==n(E.parentNode)-1&&E==E.parentNode.lastChild&&E!=B){E=E.parentNode;G=true}if(K==B&&E==B&&H&&G){I.setStart(K,0);I.setEnd(E,n(B))}}}return I}});function x(D){var B=D.duplicate(),C=D.duplicate();B.collapse(true);C.collapse(false);return h.commonAncestor(D.parentElement(),B.parentElement(),C.parentElement())}function b(M,J,K){var D=J[K?"startContainer":"endContainer"],I=J[K?"startOffset":"endOffset"],L=0,H=o(D),B=H?D:D.childNodes[I]||null,C=H?D.parentNode:D,G=J.ownerDocument,E=G.body.createTextRange(),F;if(D.nodeType==3||D.nodeType==4){L=I}if(!C){C=G.body}if(C.nodeName.toLowerCase()=="img"){E.moveToElementText(C);E.collapse(false);M.setEndPoint(K?"StartToStart":"EndToStart",E)}else{F=C.insertBefore(h.create(G,"a"),B);E.moveToElementText(F);h.remove(F);E[K?"moveStart":"moveEnd"]("character",L);E.collapse(false);M.setEndPoint(K?"StartToStart":"EndToStart",E)}}function c(O,K,C,M){var F=h.create(K.ownerDocument,"a"),E=O.duplicate(),D=M?"StartToStart":"StartToEnd",L,I,N,J,H,B,G;F.innerHTML="\ufeff";E.collapse(M);I=E.parentElement();if(!h.isAncestorOrSelf(C,I)){I=C}do{I.insertBefore(F,F.previousSibling);E.moveToElementText(F)}while((L=E.compareEndPoints(D,O))>0&&F.previousSibling);N=F.nextSibling;if(L==-1&&o(N)){E.setEndPoint(M?"EndToStart":"EndToEnd",O);h.remove(F);B=[N,E.text.length]}else{J=!M&&F.previousSibling;H=M&&F.nextSibling;if(o(H)){B=[H,0]}else{if(o(J)){B=[J,J.length]}else{G=l(F);if(I.nextSibling&&G==I.childNodes.length-1){B=[I.nextSibling,0]}else{B=[I,G]}}}h.remove(F)}K[M?"setStart":"setEnd"].apply(K,B)}var s=f.extend({init:function(B){this.enumerate=function(){var C=[];function D(E){if(h.is(E,"img")||(E.nodeType==3&&(!h.isWhitespace(E)||E.nodeValue=="\ufeff"))){C.push(E)}else{E=E.firstChild;while(E){D(E);E=E.nextSibling}}}new t(B).traverse(D);return C}}});var v=f.extend({init:function(B){var C=this;C.range=B;C.rootNode=u.documentFromRange(B);C.body=C.getEditable(B);if(h.name(C.body)!="body"){C.rootNode=C.body}C.html=C.body.innerHTML;C.startContainer=C.nodeToPath(B.startContainer);C.endContainer=C.nodeToPath(B.endContainer);C.startOffset=C.offset(B.startContainer,B.startOffset);C.endOffset=C.offset(B.endContainer,B.endOffset)},index:function(C){var E=0,B=C.nodeType;while(C=C.previousSibling){var D=C.nodeType;if(D!=3||B!=D){E++}B=D}return E},getEditable:function(B){var C=B.commonAncestorContainer;while(C&&(C.nodeType==3||C.attributes&&!C.attributes.contentEditable)){C=C.parentNode}return C},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(B,C){if(B.nodeType==3){while((B=B.previousSibling)&&B.nodeType==3){C+=B.nodeValue.length}}return C},nodeToPath:function(B){var C=[];while(B!=this.rootNode){C.push(this.index(B));B=B.parentNode}return C},toRangePoint:function(G,H,F,B){var D=this.rootNode,C=F.length,E=B;while(C--){D=D.childNodes[F[C]]}while(D.nodeType==3&&D.nodeValue.length<E){E-=D.nodeValue.length;D=D.nextSibling}G[H?"setStart":"setEnd"](D,E)},toRange:function(){var C=this,B=C.range.cloneRange();C.toRangePoint(B,true,C.startContainer,C.startOffset);C.toRangePoint(B,false,C.endContainer,C.endOffset);return B}});var q=f.extend({init:function(){this.caret=null},addCaret:function(B){var C=this;C.caret=h.create(u.documentFromRange(B),"span",{className:"k-marker"});B.insertNode(C.caret);B.selectNode(C.caret);return C.caret},removeCaret:function(F){var I=this,E=I.caret.previousSibling,G=0;if(E){G=o(E)?E.nodeValue.length:l(E)}var B=I.caret.parentNode;var C=E?l(E):0;h.remove(I.caret);r(B);var D=B.childNodes[C];if(o(D)){F.setStart(D,G)}else{if(D){var H=h.lastTextNode(D);if(H){F.setStart(H,H.nodeValue.length)}else{F[E?"setStartAfter":"setStartBefore"](D)}}else{if(!e.msie&&!B.innerHTML){B.innerHTML='<br _moz_dirty="" />'}F.selectNodeContents(B)}}F.collapse(true)},add:function(F,E){var H=this;var C=F.collapsed&&!u.isExpandable(F);var D=u.documentFromRange(F);if(E&&F.collapsed){H.addCaret(F);F=u.expand(F)}var G=F.cloneRange();G.collapse(false);H.end=h.create(D,"span",{className:"k-marker"});G.insertNode(H.end);G=F.cloneRange();G.collapse(true);H.start=H.end.cloneNode(true);G.insertNode(H.start);H._removeDeadMarkers(H.start,H.end);if(C){var B=D.createTextNode("\ufeff");h.insertAfter(B.cloneNode(),H.start);h.insertBefore(B,H.end)}F.setStartBefore(H.start);F.setEndAfter(H.end);r(F.commonAncestorContainer);return F},_removeDeadMarkers:function(C,B){if(C.previousSibling&&C.previousSibling.nodeValue=="\ufeff"){h.remove(C.previousSibling)}if(B.nextSibling&&B.nextSibling.nodeValue=="\ufeff"){h.remove(B.nextSibling)}},remove:function(I){var R=this,M=R.start,D=R.end,L,K,J;r(I.commonAncestorContainer);while(!M.nextSibling&&M.parentNode){M=M.parentNode}while(!D.previousSibling&&D.parentNode){D=D.parentNode}L=(M.previousSibling&&M.previousSibling.nodeType==3)&&(M.nextSibling&&M.nextSibling.nodeType==3);K=(D.previousSibling&&D.previousSibling.nodeType==3)&&(D.nextSibling&&D.nextSibling.nodeType==3);J=L&&K;M=M.nextSibling;D=D.previousSibling;var B=false;var C=false;if(M==R.end){C=!!R.start.previousSibling;M=D=R.start.previousSibling||R.end.nextSibling;B=true}h.remove(R.start);h.remove(R.end);if(!M||!D){I.selectNodeContents(I.commonAncestorContainer);I.collapse(true);return}var O=B?o(M)?M.nodeValue.length:M.childNodes.length:0;var F=o(D)?D.nodeValue.length:D.childNodes.length;if(M.nodeType==3){while(M.previousSibling&&M.previousSibling.nodeType==3){M=M.previousSibling;O+=M.nodeValue.length}}if(D.nodeType==3){while(D.previousSibling&&D.previousSibling.nodeType==3){D=D.previousSibling;F+=D.nodeValue.length}}var N=l(M),P=M.parentNode;var E=l(D),G=D.parentNode;for(var Q=M;Q.previousSibling;Q=Q.previousSibling){if(Q.nodeType==3&&Q.previousSibling.nodeType==3){N--}}for(var H=D;H.previousSibling;H=H.previousSibling){if(H.nodeType==3&&H.previousSibling.nodeType==3){E--}}r(P);if(M.nodeType==3){M=P.childNodes[N]}r(G);if(D.nodeType==3){D=G.childNodes[E]}if(B){if(M.nodeType==3){I.setStart(M,O)}else{I[C?"setStartAfter":"setStartBefore"](M)}I.collapse(true)}else{if(M.nodeType==3){I.setStart(M,O)}else{I.setStartBefore(M)}if(D.nodeType==3){I.setEnd(D,F)}else{I.setEndAfter(D)}}if(R.caret){R.removeCaret(I)}}});var d=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var u={nodes:function(C){var B=u.textNodes(C);if(!B.length){C.selectNodeContents(C.commonAncestorContainer);B=u.textNodes(C);if(!B.length){B=h.significantChildNodes(C.commonAncestorContainer)}}return B},textNodes:function(B){return new s(B).enumerate()},documentFromRange:function(B){var C=B.startContainer;return C.nodeType==9?C:C.ownerDocument},createRange:function(B){if(e.msie&&e.version<9){return new z(B)}return B.createRange()},selectRange:function(C){var B=u.image(C);if(B){C.setStartAfter(B);C.setEndAfter(B)}var D=w.selectionFromRange(C);D.removeAllRanges();D.addRange(C)},stringify:function(B){return p.format("{0}:{1} - {2}:{3}",h.name(B.startContainer),B.startOffset,h.name(B.endContainer),B.endOffset)},split:function(D,B,E){function C(H){var G=D.cloneRange();G.collapse(H);G[H?"setStartBefore":"setEndAfter"](B);var F=G.extractContents();if(E){F=h.trim(F)}h[H?"insertBefore":"insertAfter"](F,B)}C(true);C(false)},getMarkers:function(C){var B=[];new t(C).traverse(function(D){if(D.className=="k-marker"){B.push(D)}});return B},image:function(C){var B=[];new t(C).traverse(function(D){if(h.is(D,"img")){B.push(D)}});if(B.length==1){return B[0]}},expand:function(F){var G=F.cloneRange();var H=G.startContainer.childNodes[G.startOffset===0?0:G.startOffset-1];var D=G.endContainer.childNodes[G.endOffset];if(!o(H)||!o(D)){return G}var C=H.nodeValue;var B=D.nodeValue;if(!C||!B){return G}var I=C.split("").reverse().join("").search(d);var E=B.search(d);if(!I||!E){return G}E=E==-1?B.length:E;I=I==-1?0:C.length-I;G.setStart(H,I);G.setEnd(D,E);return G},isExpandable:function(F){var E=F.startContainer;var G=u.documentFromRange(F);if(E==G||E==G.body){return false}var H=F.cloneRange();var J=E.nodeValue;if(!J){return false}var C=J.substring(0,H.startOffset);var B=J.substring(H.startOffset);var I=0,D=0;if(C){I=C.split("").reverse().join("").search(d)}if(B){D=B.search(d)}return I&&D}};j(i,{SelectionUtils:w,W3CRange:z,RangeIterator:t,W3CSelection:A,RangeEnumerator:s,RestorePoint:v,Marker:q,RangeUtils:u})})(window.kendo.jQuery);(function(a){var m=window.kendo,b=m.Class,g=m.ui.editor,h=g.EditorUtils,q=h.registerTool,f=g.Dom,t=g.Tool,u=g.ToolTemplate,r=g.RestorePoint,o=g.Marker,i=a.extend;var e=b.extend({init:function(y){this.options=y;this.restorePoint=new r(y.range);this.marker=new o();this.formatter=y.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(y){return this.marker.add(this.getRange(),y)},releaseRange:function(y){this.marker.remove(y);this.editor.selectRange(y)},undo:function(){var y=this.restorePoint;y.restoreHtml();this.editor.selectRange(y.toRange())},redo:function(){this.exec()},createDialog:function(y,A){var z=this.editor;return a(y).appendTo(document.body).kendoWindow(i({},z.options.dialogOptions,A)).closest(".k-window").toggleClass("k-rtl",m.support.isRtl(z.wrapper)).end()},exec:function(){var y=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(y);this.releaseRange(y)}});var j=b.extend({init:function(z,y){this.body=z.body;this.startRestorePoint=z;this.endRestorePoint=y},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});var k=e.extend({init:function(y){e.fn.init.call(this,y);this.managesUndoRedo=true},exec:function(){var y=this.editor;var B=this.options;var C=B.range;var D=new r(C);var A=B.html||B.value||"";y.selectRange(C);y.clipboard.paste(A,B);var z=new j(D,new r(y.getRange()));z.editor=y;y.undoRedoStack.push(z);y.focus()}});var l=t.extend({initialize:function(C,A){var z=A.editor,B=this.options,y=B.items?B.items:z.options.insertHtml;new g.SelectBox(C,{dataSource:y,dataTextField:"text",dataValueField:"value",change:function(){t.exec(z,"insertHtml",this.value())},title:z.options.messages.insertHtml,highlightFirst:false})},command:function(y){return new k(y)},update:function(z){var y=z.data("kendoSelectBox")||z.find("select").data("kendoSelectBox");y.close();y.value(y.options.title)}});var w=b.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(y){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(y)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var v=b.extend({init:function(y){this.editor=y},keydown:function(y){var E=this,z=E.editor,C=z.keyboard,B=C.isTypingKey(y),A=i(a.Event(),y);E.editor.trigger("keydown",A);if(A.isDefaultPrevented()){y.preventDefault()}if(!A.isDefaultPrevented()&&B&&!C.isTypingInProgress()){var D=z.getRange();E.startRestorePoint=new r(D);C.startTyping(function(){z.selectionRestorePoint=E.endRestorePoint=new r(z.getRange());var F=new j(E.startRestorePoint,E.endRestorePoint);F.editor=z;z.undoRedoStack.push(F)});return true}return false},keyup:function(y){var z=this.editor.keyboard;this.editor.trigger("keyup",y);if(z.isTypingInProgress()){z.endTyping();return true}return false}});var s=b.extend({init:function(y){this.editor=y;this.systemCommandIsInProgress=false},createUndoCommand:function(){var z=this;z.endRestorePoint=new r(z.editor.getRange());var y=new j(z.startRestorePoint,z.endRestorePoint);y.editor=z.editor;z.editor.undoRedoStack.push(y);z.startRestorePoint=z.endRestorePoint},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(y){var B=this,z=B.editor,A=z.keyboard;if(A.isModifierKey(y)){if(A.isTypingInProgress()){A.endTyping(true)}B.startRestorePoint=new r(z.getRange());return true}if(A.isSystem(y)){B.systemCommandIsInProgress=true;if(B.changed()){B.systemCommandIsInProgress=false;B.createUndoCommand()}return true}return false},keyup:function(y){var z=this;if(z.systemCommandIsInProgress&&z.changed()){z.systemCommandIsInProgress=false;z.createUndoCommand(y);return true}return false}});var n=b.extend({init:function(y){this.handlers=y;this.typingInProgress=false},isCharacter:function(y){return(y>=48&&y<=90)||(y>=96&&y<=111)||(y>=186&&y<=192)||(y>=219&&y<=222)},toolFromShortcut:function(C,y){var z=String.fromCharCode(y.keyCode),A,B;for(A in C){B=a.extend({ctrl:false,alt:false,shift:false},C[A].options);if((B.key==z||B.key==y.keyCode)&&B.ctrl==y.ctrlKey&&B.alt==y.altKey&&B.shift==y.shiftKey){return A}}},isTypingKey:function(y){var z=y.keyCode;return(this.isCharacter(z)&&!y.ctrlKey&&!y.altKey)||z==32||z==13||z==8||(z==46&&!y.shiftKey&&!y.ctrlKey&&!y.altKey)},isModifierKey:function(y){var z=y.keyCode;return(z==17&&!y.shiftKey&&!y.altKey)||(z==16&&!y.ctrlKey&&!y.altKey)||(z==18&&!y.ctrlKey&&!y.shiftKey)},isSystem:function(y){return y.keyCode==46&&y.ctrlKey&&!y.altKey&&!y.shiftKey},startTyping:function(y){this.onEndTyping=y;this.typingInProgress=true},stopTyping:function(){this.typingInProgress=false;if(this.onEndTyping){this.onEndTyping()}},endTyping:function(y){var z=this;z.clearTimeout();if(y){z.stopTyping()}else{z.timeout=window.setTimeout(a.proxy(z.stopTyping,z),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(y,B){var A,z=this.handlers;for(A=0;A<z.length;A++){if(z[A][B](y)){break}}},keydown:function(y){this.notify(y,"keydown")},keyup:function(y){this.notify(y,"keyup")}});var d=b.extend({init:function(y){this.editor=y;this.cleaners=[new p(),new x()]},htmlToFragment:function(C){var A=this.editor,z=A.document,y=f.create(z,"div"),B=z.createDocumentFragment();y.innerHTML=C;while(y.firstChild){B.appendChild(y.firstChild)}return B},isBlock:function(y){return(/<(div|p|ul|ol|table|h[1-6])/i).test(y)},_contentModification:function(z,y){var A=this.editor;var B=A.getRange();var C=new r(B);f.persistScrollTop(A.document);z.call(this,A,B);setTimeout(function(){y.call(this,A,B);var D=new r(A.getRange());var E=new j(C,D);E.editor=A;A.undoRedoStack.push(E);A._selectionChange()})},oncut:function(){this._contentModification(a.noop,a.noop)},onpaste:function(A){this._contentModification(function z(D,F){var B=f.create(D.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});D.body.appendChild(B);if(D.body.createTextRange){A.preventDefault();var E=D.createRange();E.selectNodeContents(B);D.selectRange(E);var G=D.body.createTextRange();G.moveToElementText(B);a(D.body).unbind("paste");G.execCommand("Paste");a(D.body).bind("paste",a.proxy(this.onpaste,this))}else{var C=D.createRange();C.selectNodeContents(B);D.selectRange(C)}F.deleteContents()},function y(D,F){var E="",B={html:""},C;D.selectRange(F);C=a(D.body).children(".k-paste-container");C.each(function(){var G=this.lastChild;if(G&&f.is(G,"br")){f.remove(G)}E+=this.innerHTML});C.remove();E=E.replace(/\ufeff/g,"");B.html=E;D.trigger("paste",B);D.clipboard.paste(B.html,{clean:true})})},splittableParent:function(y,A){var B,z;if(y){return f.parentOfType(A,["p","ul","ol"])||A.parentNode}B=A.parentNode;z=A.ownerDocument.body;if(f.isInline(B)){while(B.parentNode!=z&&!f.isBlock(B.parentNode)){B=B.parentNode}}return B},paste:function(D,H){var A=this.editor,E,F;H=i({clean:false,split:true},H);for(E=0,F=this.cleaners.length;E<F;E++){if(this.cleaners[E].applicable(D)){D=this.cleaners[E].clean(D)}}if(H.clean){D=D.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");D=D.replace(/<(a|span)[^>]*><\/\1>/ig,"")}D=D.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var y=this.isBlock(D);A.focus();var J=A.getRange();J.deleteContents();if(J.startContainer==A.document){J.selectNodeContents(A.body)}var G=new o();var z=G.addCaret(J);var I=this.splittableParent(y,z);var L=false;var K=I!=A.body&&!f.is(I,"td");if(H.split&&K&&(y||f.isInline(I))){J.selectNode(z);g.RangeUtils.split(J,I,true);L=true}var B=this.htmlToFragment(D);if(B.firstChild&&B.firstChild.className==="k-paste-container"){var C=[];for(E=0,F=B.childNodes.length;E<F;E++){C.push(B.childNodes[E].innerHTML)}B=this.htmlToFragment(C.join("<br />"))}a(B.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");J.insertNode(B);I=this.splittableParent(y,z);if(L){while(z.parentNode!=I){f.unwrap(z.parentNode)}f.unwrap(z.parentNode)}f.normalize(J.commonAncestorContainer);z.style.display="inline";f.restoreScrollTop(A.document);f.scrollTo(z);G.removeCaret(J);A.selectRange(J)}});var c=b.extend({clean:function(y){var C=this,B=C.replacements,z,A;for(z=0,A=B.length;z<A;z+=2){y=y.replace(B[z],B[z+1])}return y}});var p=c.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/style=(["|'])\s*\1/g,""]},applicable:function(y){return(/class="?Mso|style="[^"]*mso-/i).test(y)},stripEmptyAnchors:function(y){return y.replace(/<a([^>]*)>\s*<\/a>/ig,function(z,A){if(!A||A.indexOf("href")<0){return""}return z})},listType:function(y){var z;if(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(y)){z=true}y=y.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if((!z&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(y))||(z&&/^.\u00a0+/.test(y))){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(y)){return"ol"}},lists:function(J){var y=a(f.blockElements.join(","),J),C=-1,D,E={ul:{},ol:{}},F=J,A,I,K,H,G,B,z;for(A=0;A<y.length;A++){I=y[A];K=this.listType(I.innerHTML);if(!K||f.name(I)!="p"){if(!I.innerHTML){f.remove(I)}else{E={ul:{},ol:{}};F=J;C=-1}continue}H=parseFloat(I.style.marginLeft||0);G=E[K][H];if(H>C||!G){G=f.create(document,K);if(F==J){f.insertBefore(G,I)}else{F.appendChild(G)}E[K][H]=G}if(D!=K){for(B in E){for(z in E[B]){if(a.contains(G,E[B][z])){delete E[B][z]}}}}f.remove(I.firstChild);F=f.create(document,"li",{innerHTML:I.innerHTML});G.appendChild(F);f.remove(I);C=H;D=K}},removeAttributes:function(z){var y=z.attributes,A=y.length;while(A--){z.removeAttributeNode(y[A])}},createColGroup:function(A){var y=A.cells,z;if(y.length<2){return}z=a(a.map(y,function(B){var C=B.width;if(C&&parseInt(C,10)!==0){return m.format('<col style="width:{0}px;"/>',C)}return"<col />"}).join(""));if(!z.is("colgroup")){z=a("<colgroup/>").append(z)}z.prependTo(a(A).closest("table"))},convertHeaders:function(B){var z=B.cells,y=a.map(z,function(C){var D=a(C).children("p").children("strong")[0];if(D&&f.name(D)=="strong"){return D}});if(y.length==z.length){for(var A=0;A<y.length;A++){f.unwrap(y[A])}a(B).closest("table").find("colgroup").after("<thead><tr>"+a.map(z,function(C){return"<th>"+a(C).html()+"</th>"}).join("")+"</tr></thead>").end().end().remove()}},removeParagraphs:function(z){var A,B,C,y,D;for(A=0;A<z.length;A++){this.removeAttributes(z[A]);y=a(z[A]);D=y.children("p");for(B=0,C=D.length;B<C;B++){if(B<C-1){f.insertAfter(f.create(document,"br"),D[B])}f.unwrap(D[B])}}},removeDefaultColors:function(z){for(var y=0;y<z.length;y++){if(/^\s*color:\s*[^;]*;?$/i.test(z[y].style.cssText)){f.unwrap(z[y])}}},tables:function(A){var B=a(A).find("table"),C=this,y,z;for(z=0;z<B.length;z++){y=B[z].rows[0];C.createColGroup(y);C.convertHeaders(y);C.removeAttributes(B[z]);C.removeParagraphs(B.eq(z).find("td,th"));C.removeDefaultColors(B.eq(z).find("span"))}},clean:function(y){var A=this,z;y=c.fn.clean.call(A,y);y=A.stripEmptyAnchors(y);z=f.create(document,"div",{innerHTML:y}),A.lists(z);A.tables(z);y=z.innerHTML.replace(/\s+class="?[^"\s>]*"?/ig,"");return y}});var x=c.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(y){return(/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i).test(y)}});i(g,{Command:e,GenericCommand:j,InsertHtmlCommand:k,InsertHtmlTool:l,UndoRedoStack:w,TypingHandler:v,SystemHandler:s,Keyboard:n,Clipboard:d,Cleaner:c,MSWordFormatCleaner:p,WebkitFormatCleaner:x});q("insertHtml",new l({template:new u({template:h.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})(window.kendo.jQuery);(function(a){var q=window.kendo,b=q.Class,f=q.ui.editor,j=q.ui.Editor.fn.options.formats,g=f.EditorUtils,v=f.Tool,w=f.ToolTemplate,k=f.FormatTool,e=f.Dom,s=f.RangeUtils,h=a.extend,u=f.EditorUtils.registerTool,t=f.EditorUtils.registerFormat,r="k-marker";var n=b.extend({init:function(x){this.format=x},numberOfSiblings:function(B){var C=0,x=0,y=0,A=B.parentNode,z;for(z=A.firstChild;z;z=z.nextSibling){if(z!=B){if(z.className==r){y++}else{if(z.nodeType==3){C++}else{x++}}}}if(y>1&&A.firstChild.className==r&&A.lastChild.className==r){return 0}else{return x+C}},findSuitable:function(y,x){if(!x&&this.numberOfSiblings(y)>0){return null}return e.parentOfType(y,this.format[0].tags)},findFormat:function(D){var z=this.format,x=e.attrEquals,A,B,C,E,y;for(A=0,B=z.length;A<B;A++){C=D;E=z[A].tags;y=z[A].attr;if(C&&e.ofType(C,E)&&x(C,y)){return C}while(C){C=e.parentOfType(C,E);if(C&&x(C,y)){return C}}}return null},isFormatted:function(z){var x,y;for(x=0,y=z.length;x<y;x++){if(this.findFormat(z[x])){return true}}return false}});var o=b.extend({init:function(x,z){var y=this;y.finder=new n(x);y.attributes=h({},x[0].attr,z);y.tag=x[0].tags[0]},wrap:function(x){return e.wrap(x,e.create(x.ownerDocument,this.tag,this.attributes))},activate:function(y,x){var z=this;if(z.finder.isFormatted(x)){z.split(y);z.remove(x)}else{z.apply(x)}},toggle:function(y){var x=s.textNodes(y);if(x.length>0){this.activate(y,x)}},apply:function(C){var D=this,y=[],z,A,B,x;for(z=0,A=C.length;z<A;z++){B=C[z];x=D.finder.findSuitable(B);if(x){e.attr(x,D.attributes)}else{x=D.wrap(B)}y.push(x)}D.consolidate(y)},remove:function(A){var B=this,y,z,x;for(y=0,z=A.length;y<z;y++){x=B.finder.findFormat(A[y]);if(x){if(B.attributes&&B.attributes.style){e.unstyle(x,B.attributes.style);if(!x.style.cssText&&!x.attributes["class"]){e.unwrap(x)}}else{e.unwrap(x)}}}},split:function(B){var A=s.textNodes(B),z=A.length,y,x;if(z>0){for(y=0;y<z;y++){x=this.finder.findFormat(A[y]);if(x){s.split(B,x,true)}}}},consolidate:function(z){var y,x;while(z.length>1){y=z.pop();x=z[z.length-1];if(y.previousSibling&&y.previousSibling.className==r){x.appendChild(y.previousSibling)}if(y.tagName==x.tagName&&y.previousSibling==x&&y.style.cssText==x.style.cssText){while(y.firstChild){x.appendChild(y.firstChild)}e.remove(y)}}}});var l=n.extend({init:function(x,y){var z=this;z.format=x;z.greedyProperty=y;n.fn.init.call(z,x)},getInlineCssValue:function(G){var y=G.attributes,K=a.trim,C,D,x,F,z,A,H,B,E,J,I,L;if(!y){return}for(C=0,D=y.length;C<D;C++){x=y[C];F=x.nodeName;z=x.nodeValue;if(x.specified&&F=="style"){A=K(z||G.style.cssText).split(";");for(B=0,E=A.length;B<E;B++){H=A[B];if(H.length){J=H.split(":");I=K(J[0].toLowerCase());L=K(J[1]);if(I!=this.greedyProperty){continue}return I.indexOf("color")>=0?e.toHex(L):L}}}}},getFormatInner:function(A){var x=a(e.isDataNode(A)?A.parentNode:A),B=x.parentsUntil("[contentEditable]").addBack(),y,z,C;for(y=0,z=B.length;y<z;y++){C=this.greedyProperty=="className"?B[y].className:this.getInlineCssValue(B[y]);if(C){return C}}return"inherit"},getFormat:function(z){var A=this.getFormatInner(z[0]),x,y;for(x=1,y=z.length;x<y;x++){if(A!=this.getFormatInner(z[x])){return""}}return A},isFormatted:function(x){return this.getFormat(x)!==""}});var m=o.extend({init:function(x,A,y){var z=this;o.fn.init.call(z,x,A);z.greedyProperty=y;z.values=A;z.finder=new l(x,y)},activate:function(B,A){var C=this,y,z=C.greedyProperty,x="apply";C.split(B);if(z){y=z.replace(/-([a-z])/,function(D,E){return E.toUpperCase()});if(C.values.style[y]=="inherit"){x="remove"}}C[x](A)}});var p=k.extend({init:function(x){k.fn.init.call(this,h(x,{finder:new n(x.format),formatter:function(){return new o(x.format)}}))}});var d=v.extend({update:function(z,y){var x=z.data(this.type);x.close();x.value(this.finder.getFormat(y))}});var i=d.extend({init:function(x){var y=this;v.fn.init.call(y,x);y.type=(q.support.browser.msie||q.support.touch)?"kendoDropDownList":"kendoComboBox";y.format=[{tags:["span"]}];y.finder=new l(y.format,x.cssAttr)},command:function(x){var z=this.options,y=this.format,A={};return new f.FormatCommand(h(x,{formatter:function(){A[z.domAttr]=x.value;return new m(y,{style:A},z.cssAttr)}}))},initialize:function(D,A){var z=A.editor,B=this.options,C=B.name,x,y=[];if(B.defaultValue){y=[{text:z.options.messages[B.defaultValue[0].text],value:B.defaultValue[0].value}]}x=y.concat(B.items?B.items:z.options[C]);D[this.type]({dataTextField:"text",dataValueField:"value",dataSource:x,change:function(){v.exec(z,C,this.value())},highlightFirst:false});D.closest(".k-widget").removeClass("k-"+C).find("*").addBack().attr("unselectable","on");D.data(this.type).value("inherit")}});var c=v.extend({init:function(x){v.fn.init.call(this,x);this.format=[{tags:["span"]}];this.finder=new l(this.format,x.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(x){var z=this.options,y=this.format,A={};return new f.FormatCommand(h(x,{formatter:function(){A[z.domAttr]=x.value;return new m(y,{style:A},z.cssAttr)}}))},initialize:function(C,y){var x=y.editor,B=this.name,z=h({},c.fn.options,this.options),A=z.palette;C=this._widget=new q.ui.ColorPicker(C,{value:a.isArray(A)?A[0]:"#000",toolIcon:"k-"+z.name,palette:A,change:function(){var D=C.value();if(D){v.exec(x,B,D)}x.focus()},activate:function(D){D.preventDefault();C.trigger("change")}});C.wrapper.attr({title:y.title,unselectable:"on"}).find("*").attr("unselectable","on")}});h(f,{InlineFormatFinder:n,InlineFormatter:o,DelayedExecutionTool:d,GreedyInlineFormatFinder:l,GreedyInlineFormatter:m,InlineFormatTool:p,FontTool:i,ColorTool:c});t("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);u("bold",new p({key:"B",ctrl:true,format:j.bold,template:new w({template:g.buttonTemplate,title:"Bold"})}));t("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);u("italic",new p({key:"I",ctrl:true,format:j.italic,template:new w({template:g.buttonTemplate,title:"Italic"})}));t("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);u("underline",new p({key:"U",ctrl:true,format:j.underline,template:new w({template:g.buttonTemplate,title:"Underline"})}));t("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);u("strikethrough",new p({format:j.strikethrough,template:new w({template:g.buttonTemplate,title:"Strikethrough"})}));t("superscript",[{tags:["sup"]}]);u("superscript",new p({format:j.superscript,template:new w({template:g.buttonTemplate,title:"Superscript"})}));t("subscript",[{tags:["sub"]}]);u("subscript",new p({format:j.subscript,template:new w({template:g.buttonTemplate,title:"Subscript"})}));u("foreColor",new c({cssAttr:"color",domAttr:"color",name:"foreColor",template:new w({template:g.colorPickerTemplate,title:"Color"})}));u("backColor",new c({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new w({template:g.colorPickerTemplate,title:"Background Color"})}));u("fontName",new i({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new w({template:g.comboBoxTemplate,title:"Font Name"})}));u("fontSize",new i({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new w({template:g.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(a){var o=window.kendo,e=o.Class,j=a.extend,h=o.ui.editor,l=o.ui.Editor.fn.options.formats,g=h.Dom,f=h.Command,s=h.ToolTemplate,m=h.FormatTool,i=h.EditorUtils,r=i.registerTool,q=i.registerFormat,p=h.RangeUtils;var b=e.extend({init:function(t){this.format=t},contains:function(x,u){var v,w,t;for(v=0,w=u.length;v<w;v++){t=u[v];if(!t||!g.isAncestorOrSelf(x,t)){return false}}return true},findSuitable:function(x){var u=this.format,y=[],v,w,t;for(v=0,w=x.length;v<w;v++){t=g.ofType(x[v],u[0].tags)?x[v]:g.parentOfType(x[v],u[0].tags);if(!t){return[]}if(a.inArray(t,y)<0){y.push(t)}}for(v=0,w=y.length;v<w;v++){if(this.contains(y[v],y)){return[y[v]]}}return y},findFormat:function(y){var u=this.format,v,w,x,z,t;for(v=0,w=u.length;v<w;v++){x=y;z=u[v].tags;t=u[v].attr;while(x){if(g.ofType(x,z)&&g.attrEquals(x,t)){return x}x=x.parentNode}}return null},getFormat:function(w){var y=this,t=function(z){return y.findFormat(g.isDataNode(z)?z.parentNode:z)},x=t(w[0]),u,v;if(!x){return""}for(u=1,v=w.length;u<v;u++){if(x!=t(w[u])){return""}}return x.nodeName.toLowerCase()},isFormatted:function(v){for(var t=0,u=v.length;t<u;t++){if(!this.findFormat(v[t])){return false}}return true}});var c=e.extend({init:function(t,u){this.format=t;this.values=u;this.finder=new b(t)},wrap:function(A,v,y){var w=y.length==1?g.blockParentOrBody(y[0]):g.commonAncestor.apply(null,y);if(g.isInline(w)){w=g.blockParentOrBody(w)}var u=g.significantChildNodes(w),z=g.findNodeIndex(u[0]),B=g.create(w.ownerDocument,A,v),x,t;for(x=0;x<u.length;x++){t=u[x];if(g.isBlock(t)){g.attr(t,v);if(B.childNodes.length){g.insertBefore(B,t);B=B.cloneNode(false)}z=g.findNodeIndex(t)+1;continue}B.appendChild(t)}if(B.firstChild){g.insertAt(w,B,z)}},apply:function(y){var A=this,u=g.is(y[0],"img")?[y[0]]:A.finder.findSuitable(y),v=u.length?i.formatByName(g.name(u[0]),A.format):A.format[0],z,t,w,x;if(!v){return}z=v.tags[0];t=j({},v.attr,A.values);if(u.length){for(w=0,x=u.length;w<x;w++){g.attr(u[w],t)}}else{A.wrap(z,t,y)}},remove:function(y){var u,v,t,x,w;for(u=0,v=y.length;u<v;u++){t=this.finder.findFormat(y[u]);if(t){w=g.name(t);if(w=="div"&&!t.getAttribute("class")){g.unwrap(t)}else{x=i.formatByName(w,this.format);if(x.attr.style){g.unstyle(t,x.attr.style)}if(x.attr.className){g.removeClass(t,x.attr.className)}}}}},toggle:function(u){var v=this,t=p.nodes(u);if(v.finder.isFormatted(t)){v.remove(t)}else{v.apply(t)}}});var n=e.extend({init:function(t,v){var u=this;u.format=t;u.values=v;u.finder=new b(t)},apply:function(B){var v=this.format,t=g.blockParents(B),w=v[0].tags[0],y,z,A,x,C,u;if(t.length&&t[0].attributes.contentEditable){t=[]}if(t.length){for(y=0,z=t.length;y<z;y++){if(g.is(t[y],"li")){A=t[y].parentNode;x=new h.ListFormatter(A.nodeName.toLowerCase(),w);C=this.editor.createRange();C.selectNode(t[y]);x.toggle(C)}else{u=g.changeTag(t[y],w);g.attr(u,v[0].attr)}}}else{new c(v,this.values).apply(B)}},toggle:function(u){var t=p.textNodes(u);if(!t.length){u.selectNodeContents(u.commonAncestorContainer);t=p.textNodes(u);if(!t.length){t=g.significantChildNodes(u.commonAncestorContainer)}}this.apply(t)}});var k=f.extend({init:function(t){t.formatter=t.formatter();f.fn.init.call(this,t)}});var d=m.extend({init:function(t){m.fn.init.call(this,j(t,{finder:new b(t.format),formatter:function(){return new c(t.format)}}))}});j(h,{BlockFormatFinder:b,BlockFormatter:c,GreedyBlockFormatter:n,FormatCommand:k,BlockFormatTool:d});q("justifyLeft",[{tags:g.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]);r("justifyLeft",new d({format:l.justifyLeft,template:new s({template:i.buttonTemplate,title:"Justify Left"})}));q("justifyCenter",[{tags:g.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]);r("justifyCenter",new d({format:l.justifyCenter,template:new s({template:i.buttonTemplate,title:"Justify Center"})}));q("justifyRight",[{tags:g.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]);r("justifyRight",new d({format:l.justifyRight,template:new s({template:i.buttonTemplate,title:"Justify Right"})}));q("justifyFull",[{tags:g.blockElements,attr:{style:{textAlign:"justify"}}}]);r("justifyFull",new d({format:l.justifyFull,template:new s({template:i.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(a){var g=window.kendo,f=a.extend,e=g.ui.editor,d=e.Dom,c=e.Command,m=e.Tool,b=e.BlockFormatter,i=d.normalize,k=e.RangeUtils,l=e.EditorUtils.registerTool;var j=c.extend({init:function(n){this.options=n;c.fn.init.call(this,n)},_insertMarker:function(o,q){var p=d.create(o,"a"),n;q.insertNode(p);if(!p.parentNode){n=q.commonAncestorContainer;n.innerHTML="";n.appendChild(p)}i(p.parentNode);return p},_moveFocus:function(o,n){if(d.is(n,"img")){o.setStartBefore(n)}else{o.selectNodeContents(n);var p=k.textNodes(o)[0];if(p){o.selectNodeContents(p)}else{while(n.childNodes.length&&!d.is(n.firstChild,"br")){n=n.firstChild}o.selectNodeContents(n)}}},shouldTrim:function(p){var n="p,h1,h2,h3,h4,h5,h6".split(","),q=d.parentOfType(p.startContainer,n),o=d.parentOfType(p.endContainer,n);return(q&&!o)||(!q&&o)},exec:function(){var w=this.getRange(),n=k.documentFromRange(w),u,v,s,o=e.emptyElementContent,t,r,q,p,x,y=this.shouldTrim(w);w.deleteContents();r=this._insertMarker(n,w);q=d.parentOfType(r,["li"]);p=d.parentOfType(r,"h1,h2,h3,h4,h5,h6".split(","));if(q){x=w.cloneRange();x.selectNode(q);if(!k.textNodes(x).length){t=d.create(n,"p");if(q.nextSibling){k.split(x,q.parentNode)}d.insertAfter(t,q.parentNode);d.remove(q.parentNode.childNodes.length==1?q.parentNode:q);t.innerHTML=o;s=t}}else{if(p&&!r.nextSibling){t=d.create(n,"p");d.insertAfter(t,p);t.innerHTML=o;d.remove(r);s=t}}if(!s){if(!(q||p)){new b([{tags:["p"]}]).apply([r])}w.selectNode(r);u=d.parentOfType(r,[q?"li":p?d.name(p):"p"]);k.split(w,u,y);v=u.previousSibling;if(d.is(v,"li")&&v.firstChild&&!d.is(v.firstChild,"br")){v=v.firstChild}s=u.nextSibling;if(d.is(s,"li")&&s.firstChild&&!d.is(s.firstChild,"br")){s=s.firstChild}d.remove(u);this.clean(v);this.clean(s);i(v)}i(s);this._moveFocus(w,s);w.collapse(true);d.scrollTo(s);k.selectRange(w)},clean:function(n){if(n.firstChild&&d.is(n.firstChild,"br")){d.remove(n.firstChild)}if(d.isDataNode(n)&&!n.nodeValue){n=n.parentNode}if(n){while(n.firstChild&&n.firstChild.nodeType==1){n=n.firstChild}if(!d.isEmpty(n)&&/^\s*$/.test(n.innerHTML)){n.innerHTML=e.emptyElementContent}}}});var h=c.extend({init:function(n){this.options=n;c.fn.init.call(this,n)},exec:function(){var p=this.getRange(),n=d.create(k.documentFromRange(p),"br"),o;p.deleteContents();p.insertNode(n);i(n.parentNode);if(!g.support.browser.msie&&(!n.nextSibling||d.isWhitespace(n.nextSibling))){o=n.cloneNode(true);o.setAttribute("_moz_dirty","");d.insertAfter(o,n)}p.setStartAfter(n);p.collapse(true);d.scrollTo(n.nextSibling||n);k.selectRange(p)}});f(e,{ParagraphCommand:j,NewLineCommand:h});l("insertLineBreak",new m({key:13,shift:true,command:h}));l("insertParagraph",new m({key:13,command:j}))})(window.kendo.jQuery);(function(a){var j=window.kendo,c=j.Class,h=a.extend,f=j.ui.editor,e=f.Dom,o=f.RangeUtils,g=f.EditorUtils,d=f.Command,r=f.ToolTemplate,i=f.FormatTool,b=f.BlockFormatFinder,q=o.textNodes,p=f.EditorUtils.registerTool;var l=b.extend({init:function(s){this.tag=s;var t=this.tags=[s=="ul"?"ol":"ul",s];b.fn.init.call(this,[{tags:t}])},isFormatted:function(v){var t=[],s;for(var u=0;u<v.length;u++){if((s=this.findFormat(v[u]))&&e.name(s)==this.tag){t.push(s)}}if(t.length<1){return false}if(t.length!=v.length){return false}for(u=0;u<t.length;u++){if(t[u].parentNode!=s.parentNode){break}if(t[u]!=s){return false}}return true},findSuitable:function(t){var s=e.parentOfType(t[0],this.tags);if(s&&e.name(s)==this.tag){return s}return null}});var m=c.extend({init:function(s,u){var t=this;t.finder=new l(s);t.tag=s;t.unwrapTag=u},isList:function(t){var s=e.name(t);return s=="ul"||s=="ol"||s=="dl"},wrap:function(u,w){var t=e.create(u.ownerDocument,"li"),s,v;for(s=0;s<w.length;s++){v=w[s];if(e.is(v,"li")){u.appendChild(v);continue}if(this.isList(v)){while(v.firstChild){u.appendChild(v.firstChild)}continue}if(e.is(v,"td")){while(v.firstChild){t.appendChild(v.firstChild)}u.appendChild(t);v.appendChild(u);u=u.cloneNode(false);t=t.cloneNode(false);continue}t.appendChild(v);if(e.isBlock(v)){u.appendChild(t);e.unwrap(v);t=t.cloneNode(false)}}if(t.firstChild){u.appendChild(t)}},containsAny:function(u,t){for(var s=0;s<t.length;s++){if(e.isAncestorOrSelf(u,t[s])){return true}}return false},suitable:function(s,t){if(s.className=="k-marker"){var u=s.nextSibling;if(u&&e.isBlock(u)){return false}u=s.previousSibling;if(u&&e.isBlock(u)){return false}}return this.containsAny(s,t)||e.isInline(s)||s.nodeType==3},split:function(y){var w=q(y),z,s;if(w.length){z=e.parentOfType(w[0],["li"]);s=e.parentOfType(w[w.length-1],["li"]);y.setStartBefore(z);y.setEndAfter(s);for(var u=0,v=w.length;u<v;u++){var t=this.finder.findFormat(w[u]);if(t){var x=a(t).parents("ul,ol");if(x[0]){o.split(y,x.last()[0],true)}else{o.split(y,t,true)}}}}},merge:function(v,s){var u=s.previousSibling,t;while(u&&(u.className=="k-marker"||(u.nodeType==3&&e.isWhitespace(u)))){u=u.previousSibling}if(u&&e.name(u)==v){while(s.firstChild){u.appendChild(s.firstChild)}e.remove(s);s=u}t=s.nextSibling;while(t&&(t.className=="k-marker"||(t.nodeType==3&&e.isWhitespace(t)))){t=t.nextSibling}if(t&&e.name(t)==v){while(s.lastChild){t.insertBefore(s.lastChild,t.firstChild)}e.remove(s)}},breakable:function(s){return(s!=s.ownerDocument.body&&!/table|tbody|tr|td/.test(e.name(s))&&!s.attributes.contentEditable)},applyOnSection:function(A,y){var C=this.tag,v=e.closestSplittableParent(y);var s=[];var w=this.finder.findSuitable(y);if(!w){w=new l(C=="ul"?"ol":"ul").findSuitable(y)}var u;if(/table|tbody/.test(e.name(v))){u=a.map(y,function(D){return e.parentOfType(D,["td"])})}else{u=e.significantChildNodes(v);if(a.grep(u,e.isBlock).length){u=a.grep(u,a.proxy(function(D){return this.containsAny(D,y)},this))}if(!u.length){u=y}}function z(){s.push(this)}for(var x=0;x<u.length;x++){var t=u[x];var B=(!w||!e.isAncestorOrSelf(w,t))&&this.suitable(t,y);if(!B){continue}if(w&&this.isList(t)){a.each(t.childNodes,z);e.remove(t)}else{s.push(t)}}if(s.length==u.length&&this.breakable(v)){s=[v]}if(!w){w=e.create(v.ownerDocument,C);e.insertBefore(w,s[0])}this.wrap(w,s);if(!e.is(w,C)){e.changeTag(w,C)}this.merge(C,w)},apply:function(v){var s=0,x=[],u,t,w;do{w=e.parentOfType(v[s],["td","body"]);if(!u||w!=u){if(u){x.push({section:u,nodes:t})}t=[v[s]];u=w}else{t.push(v[s])}s++}while(s<v.length);x.push({section:u,nodes:t});for(s=0;s<x.length;s++){this.applyOnSection(x[s].section,x[s].nodes)}},unwrap:function(x){var t=x.ownerDocument.createDocumentFragment(),y=this.unwrapTag,w,u,v,s;for(u=x.firstChild;u;u=u.nextSibling){v=e.create(x.ownerDocument,y||"p");while(u.firstChild){s=u.firstChild;if(e.isBlock(s)){if(v.firstChild){t.appendChild(v);v=e.create(x.ownerDocument,y||"p")}t.appendChild(s)}else{v.appendChild(s)}}if(v.firstChild){t.appendChild(v)}}w=a(x).parents("ul,ol");if(w[0]){e.insertAfter(t,w.last()[0]);w.last().remove()}else{e.insertAfter(t,x)}e.remove(x)},remove:function(v){var s;for(var t=0,u=v.length;t<u;t++){s=this.finder.findFormat(v[t]);if(s){this.unwrap(s)}}},toggle:function(u){var w=this,t=q(u),s=u.commonAncestorContainer;if(!t.length){u.selectNodeContents(s);t=q(u);if(!t.length){var v=s.ownerDocument.createTextNode("");u.startContainer.appendChild(v);t=[v];u.selectNode(v.parentNode)}}if(w.finder.isFormatted(t)){w.split(u);w.remove(t)}else{w.apply(t)}}});var k=d.extend({init:function(s){s.formatter=new m(s.tag);d.fn.init.call(this,s)}});var n=i.extend({init:function(s){this.options=s;i.fn.init.call(this,h(s,{finder:new l(s.tag)}))},command:function(s){return new k(h(s,{tag:this.options.tag}))}});h(f,{ListFormatFinder:l,ListFormatter:m,ListCommand:k,ListTool:n});p("insertUnorderedList",new n({tag:"ul",template:new r({template:g.buttonTemplate,title:"Remove Link"})}));p("insertOrderedList",new n({tag:"ol",template:new r({template:g.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(a,s){var j=window.kendo,b=j.Class,g=a.extend,e=j.ui.editor,d=e.Dom,n=e.RangeUtils,f=e.EditorUtils,c=e.Command,q=e.Tool,r=e.ToolTemplate,i=e.InlineFormatter,h=e.InlineFormatFinder,p=n.textNodes,o=e.EditorUtils.registerTool;var l=b.extend({findSuitable:function(v){return d.parentOfType(v,["a"])}});var m=b.extend({init:function(){this.finder=new l()},apply:function(B,w){var A=p(B),z,x,y,v;if(w.innerHTML){z=n.getMarkers(B);x=n.documentFromRange(B);B.deleteContents();v=d.create(x,"a",w);B.insertNode(v);if(d.name(v.parentNode)=="a"){d.insertAfter(v,v.parentNode)}if(z.length>1){d.insertAfter(z[z.length-1],v);d.insertAfter(z[1],v);d[A.length>0?"insertBefore":"insertAfter"](z[0],v)}}else{y=new i([{tags:["a"]}],w);y.finder=this.finder;y.apply(A)}}});var t=c.extend({init:function(v){v.formatter={toggle:function(w){new i([{tags:["a"]}]).remove(p(w))}};this.options=v;c.fn.init.call(this,v)}});var k=c.extend({init:function(w){var v=this;v.options=w;c.fn.init.call(v,w);v.formatter=new m();if(!w.url){v.attributes=null;v.async=true}else{this.exec=function(){this.formatter.apply(w.range,{href:w.url,innerHTML:w.text||w.url,target:w.target})}}},_dialogTemplate:function(){return j.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button k-secondary\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var E=this,D=E.getRange(),y=D.collapsed,C,A=null,B=E.editor.options.messages;D=E.lockRange(true);C=p(D);function w(F){var G=z.element,H=a("#k-editor-link-url",G).val(),K,J,I;if(H&&H!="http://"){if(H.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(H)){H="mailto:"+H}E.attributes={href:H};K=a("#k-editor-link-title",G).val();if(K){E.attributes.title=K}J=a("#k-editor-link-text",G).val();if(J!==A&&(J||C.length===0)){E.attributes.innerHTML=d.stripBom(J)||H}I=a("#k-editor-link-target",G).is(":checked");E.attributes.target=I?"_blank":null;E.formatter.apply(D,E.attributes)}x(F);if(E.change){E.change()}}function x(F){F.preventDefault();z.destroy();d.windowFromDocument(n.documentFromRange(D)).focus();E.releaseRange(D)}var v=C.length?E.formatter.finder.findSuitable(C[0]):null;var z=this.createDialog(E._dialogTemplate(),{title:B.createLink,close:x,visible:false}).find(".k-dialog-insert").click(w).end().find(".k-dialog-close").click(x).end().find(".k-edit-field input").keydown(function(F){var G=j.keys;if(F.keyCode==G.ENTER){w(F)}else{if(F.keyCode==G.ESC){x(F)}}}).end().find("#k-editor-link-url").val(v?v.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(C.length>0?(C.length==1?C[0].nodeValue:C[0].nodeValue+C[1].nodeValue):"").end().find("#k-editor-link-title").val(v?v.title:"").end().find("#k-editor-link-target").attr("checked",v?v.target=="_blank":false).end().data("kendoWindow").center().open();if(C.length>0&&!y){A=a("#k-editor-link-text",z.element).val()}a("#k-editor-link-url",z.element).focus().select()},redo:function(){var w=this,v=w.lockRange(true);w.formatter.apply(v,w.attributes);w.releaseRange(v)}});var u=q.extend({init:function(v){this.options=v;this.finder=new h([{tags:["a"]}]);q.fn.init.call(this,a.extend(v,{command:t}))},initialize:function(w,v){q.fn.initialize.call(this,w,v);w.addClass("k-state-disabled")},update:function(w,v){w.toggleClass("k-state-disabled",!this.finder.isFormatted(v)).removeClass("k-state-hover")}});g(j.ui.editor,{LinkFormatFinder:l,LinkFormatter:m,UnlinkCommand:t,LinkCommand:k,UnlinkTool:u});o("createLink",new q({key:"K",ctrl:true,command:k,template:new r({template:f.buttonTemplate,title:"Create Link"})}));o("unlink",new u({key:"K",ctrl:true,shift:true,template:new r({template:f.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(a,o){var j=window.kendo,f=a.extend,d=j.ui.editor,e=d.EditorUtils,c=d.Dom,m=e.registerTool,n=d.ToolTemplate,l=d.RangeUtils,b=d.Command,k=j.keys,i="#k-editor-image-url",h="#k-editor-image-title";var g=b.extend({init:function(p){var q=this;b.fn.init.call(q,p);q.async=true;q.attributes={}},insertImage:function(r,s){var p=this.attributes;var q=l.documentFromRange(s);if(p.src&&p.src!="http://"){if(!r){r=c.create(q,"img",p);r.onload=r.onerror=function(){r.removeAttribute("complete");r.removeAttribute("width");r.removeAttribute("height")};s.deleteContents();s.insertNode(r);if(!r.nextSibling){c.insertAfter(q.createTextNode("\ufeff"),r)}s.setStartAfter(r);s.setEndAfter(r);l.selectRange(s);return true}else{c.attr(r,p)}}return false},_dialogTemplate:function(p){return j.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button k-secondary">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:p})},redo:function(){var q=this,p=q.lockRange();if(!q.insertImage(l.image(p),p)){q.releaseRange(p)}},exec:function(){var A=this,y=A.lockRange(),p=false,u=l.image(y),s,x=A.editor.options,w=x.messages,t=x.imageBrowser,z=!!(j.ui.ImageBrowser&&t&&t.transport&&t.transport.read!==o);function q(B){var C=s.element;A.attributes={src:C.find(i).val().replace(/ /g,"%20"),alt:C.find(h).val()};p=A.insertImage(u,y);r(B);if(A.change){A.change()}}function r(B){B.preventDefault();s.destroy();c.windowFromDocument(l.documentFromRange(y)).focus();if(!p){A.releaseRange(y)}}function v(B){if(B.keyCode==k.ENTER){q(B)}else{if(B.keyCode==k.ESC){r(B)}}}s=this.createDialog(A._dialogTemplate(z),{title:w.insertImage,close:r,visible:false,resizable:z}).toggleClass("k-imagebrowser-dialog",z).find(".k-dialog-insert").click(q).end().find(".k-dialog-close").click(r).end().find(".k-edit-field input").keydown(v).end().find(i).val(u?u.getAttribute("src",2):"http://").end().find(h).val(u?u.alt:"").end().data("kendoWindow");if(z){new j.ui.ImageBrowser(s.element.find(".k-imagebrowser"),f({},t,{change:function(){s.element.find(i).val(this.value())},apply:q}))}s.center().open();s.element.find(i).focus().select()}});j.ui.editor.ImageCommand=g;m("insertImage",new d.Tool({command:g,template:new n({template:e.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);(function(a,f){var d=window.kendo,c=d.ui.DropDownList,b=d.ui.editor.Dom;var e=c.extend({init:function(g,h){var i=this;c.fn.init.call(i,g,h);i.value(i.options.title);if(d.support.mobileOS.ios){i._initSelectOverlay(g)}i.bind("open",function(){if(i.options.autoSize){var j=i.list,k;j.css({whiteSpace:"nowrap",width:"auto"});k=j.width();if(k){k+=20}else{k=i._listWidth}j.css("width",k+d.support.scrollbar());i._listWidth=k}})},options:{name:"SelectBox"},_initSelectOverlay:function(g){g=a(g);var h=a("<select class='k-select-overlay' />");var j=g.closest(".k-widget");var i=g.data(this.type).kendoSelectBox;h.on("change",function(){i.value(this.value);i.trigger("change")});this.bind("dataBound",function(){var n=i.value();var o=this.dataSource.view();var m;var k="";for(var l=0;l<o.length;l++){m=o[l];k+="<option value='"+m.value+"'";if(m.value==n){k+=" selected"}k+=">"+m.text+"</option>"}h.html(k)});h.insertAfter(j)},value:function(i){var h=this,g=c.fn.value.call(h,i);if(i===f){return g}if(i!==c.fn.value.call(h)){h.text(h.options.title);if(h._current){h._current.removeClass("k-state-selected")}h.current(null);h._oldIndex=h.selectedIndex=-1}},decorate:function(h){var k=this.dataSource.data(),j,l,g;for(j=0;j<k.length;j++){l=k[j].tag||"span";g=k[j].className;k[j].style=b.inlineStyle(h,l,{className:g})+";display:inline-block"}this.dataSource.trigger("change")}});d.ui.plugin(e);d.ui.editor.SelectBox=e})(window.kendo.jQuery);(function(a,u){var n=window.kendo,e=n.Class,j=a.extend,h=n.ui.editor,g=h.Dom,i=h.EditorUtils,r=i.registerTool,f=h.Command,s=h.Tool,t=h.ToolTemplate,q=h.RangeUtils,b=g.blockElements,c=h.BlockFormatFinder,d=h.BlockFormatter;function k(x,z){var w=a(x).css("direction")=="rtl",v=w?"Right":"Left",y=g.name(x)!="td"?"margin"+v:"padding"+v;if(z===u){return x.style[y]||0}else{if(z>0){x.style[y]=z+"px"}else{x.style[y]="";if(!x.style.cssText){x.removeAttribute("style")}}}}var m=e.extend({init:function(){this.finder=new c([{tags:g.blockElements}])},apply:function(C){var w=this.finder.findSuitable(C),H=[],y,z,v,D,E;if(w.length){for(y=0,z=w.length;y<z;y++){if(g.is(w[y],"li")){if(!a(w[y]).index()){H.push(w[y].parentNode)}else{if(a.inArray(w[y].parentNode,H)<0){H.push(w[y])}}}else{H.push(w[y])}}while(H.length){v=H.shift();if(g.is(v,"li")){D=v.parentNode;E=a(v).prev("li");var F=E.find("ul,ol").last();var B=a(v).children("ul,ol")[0];if(B&&E[0]){if(F[0]){F.append(v);F.append(a(B).children());g.remove(B)}else{E.append(B);B.insertBefore(v,B.firstChild)}}else{B=E.children("ul,ol")[0];if(!B){B=g.create(v.ownerDocument,g.name(D));E.append(B)}while(v&&v.parentNode==D){B.appendChild(v);v=H.shift()}}}else{var A=parseInt(k(v),10)+30;k(v,A);for(var G=0;G<H.length;G++){if(a.contains(v,H[G])){H.splice(G,1)}}}}}else{var x=new d([{tags:["p"]}],{style:{marginLeft:30}});x.apply(C)}},remove:function(C){var w=this.finder.findSuitable(C),E,x,y,z,A,D,v,B;for(x=0,y=w.length;x<y;x++){v=a(w[x]);if(v.is("li")){z=v.parent();A=z.parent();if(A.is("li,ul,ol")&&!k(z[0])){if(E&&a.contains(E,A[0])){continue}D=v.nextAll("li");if(D.length){a(z[0].cloneNode(false)).appendTo(v).append(D)}if(A.is("li")){v.insertAfter(A)}else{v.appendTo(A)}if(!z.children("li").length){z.remove()}continue}else{if(E==z[0]){continue}E=z[0]}}else{E=w[x]}B=parseInt(k(E),10)-30;k(E,B)}}});var l=f.extend({init:function(v){v.formatter={toggle:function(w){new m().apply(q.nodes(w))}};f.fn.init.call(this,v)}});var o=f.extend({init:function(v){v.formatter={toggle:function(w){new m().remove(q.nodes(w))}};f.fn.init.call(this,v)}});var p=s.extend({init:function(v){s.fn.init.call(this,v);this.finder=new c([{tags:b}])},initialize:function(w,v){s.fn.initialize.call(this,w,v);w.addClass("k-state-disabled")},update:function(B,z){var A=this.finder.findSuitable(z),w,y,v,x;for(v=0,x=A.length;v<x;v++){w=k(A[v]);if(!w){y=a(A[v]).parents("ul,ol").length;w=(g.is(A[v],"li")&&(y>1||k(A[v].parentNode)))||(g.ofType(A[v],["ul","ol"])&&y>0)}if(w){B.removeClass("k-state-disabled");return}}B.addClass("k-state-disabled").removeClass("k-state-hover")}});j(h,{IndentFormatter:m,IndentCommand:l,OutdentCommand:o,OutdentTool:p});r("indent",new s({command:l,template:new t({template:i.buttonTemplate,title:"Indent"})}));r("outdent",new p({command:o,template:new t({template:i.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(a,k){var g=window.kendo,f=a.extend,d=g.ui.editor,c=d.Dom,h=d.RangeUtils,e=d.EditorUtils,b=d.Command,i=d.Tool,j=d.ToolTemplate;var l=b.extend({init:function(n){var m=this;m.options=n;b.fn.init.call(m,n);m.attributes=null;m.async=true},exec:function(){var u=this,q=u.editor,s=q.getRange(),r=q.options.messages,p=a(g.template(l.template)(r)).appendTo(document.body),o=l.indent(q.value()),t=".k-editor-textarea";function m(v){q.value(p.find(t).val());n(v);if(u.change){u.change()}q.trigger("change")}function n(v){v.preventDefault();p.data("kendoWindow").destroy();try{c.windowFromDocument(h.documentFromRange(s)).focus()}catch(w){}}this.createDialog(p,{title:r.viewHtml,close:n,visible:false}).find(t).val(o).end().find(".k-dialog-update").click(m).end().find(".k-dialog-close").click(n).end().data("kendoWindow").center().open();p.find(t).focus()}});f(l,{template:"<div class='k-editor-dialog k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>#: dialogUpdate #</button>&nbsp;#: dialogButtonSeparator #&nbsp;<a href='\\#' class='k-dialog-close k-link'>#: dialogCancel #</a></div></div>",indent:function(m){return m.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});g.ui.editor.ViewHtmlCommand=l;d.EditorUtils.registerTool("viewHtml",new i({command:l,template:new j({template:e.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(a){var i=window.kendo,f=i.ui.editor,l=f.Tool,m=f.ToolTemplate,b=f.DelayedExecutionTool,d=f.Dom,e=f.EditorUtils.dropDownListTemplate,j=f.EditorUtils.registerTool;var h=b.extend({init:function(n){var o=this;l.fn.init.call(o,i.deepExtend({},o.options,n));o.type="kendoSelectBox";o.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(o){var p=o.value;if(!p){return o}if(o.tag||o.className){return o}var n=p.indexOf(".");if(n===0){o.className=p.substring(1)}else{if(n==-1){o.tag=p}else{o.tag=p.substring(0,n);o.className=p.substring(n+1)}}return o},command:function(n){var o=n.value;o=this.toFormattingItem(o);return new f.FormatCommand({range:n.range,formatter:function(){var q,r=(o.tag||o.context||"span").split(","),p=[{tags:r,attr:{className:o.className||""}}];if(a.inArray(r[0],d.inlineElements)>=0){q=new f.GreedyInlineFormatter(p)}else{q=new f.GreedyBlockFormatter(p)}return q}})},initialize:function(s,o){var n=o.editor;var p=this.options;var r=p.name;var q=this;s.width(p.width);s.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:p.items||n.options[r],title:n.options.messages[r],autoSize:true,change:function(){l.exec(n,r,this.dataItem().toJSON())},dataBound:function(){var t,u=this.dataSource.data();for(t=0;t<u.length;t++){u[t]=q.toFormattingItem(u[t])}},highlightFirst:false,template:i.template('<span unselectable="on" style="display:block;#=data.style#">#:data.text#</span>')});s.addClass("k-decorated").closest(".k-widget").removeClass("k-"+r).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(s,u){for(var q=0;q<s.length;q++){var r=s[q];var w=r.tag||r.context||"";var o=r.className?"."+r.className:"";var v=w+o;var p=a(u[0]).closest(v)[0];if(!p){continue}if(u.length==1){return r.value}for(var t=1;t<u.length;t++){if(a(u[t]).closest(v)[0]!=p){break}else{if(t==u.length-1){return r.value}}}}return""},update:function(u,s){var t=a(u).data(this.type);if(!t){return}var p=t.dataSource,r=p.data(),q,o,n=d.commonAncestor.apply(null,s);for(q=0;q<r.length;q++){o=r[q].context;r[q].visible=!o||!!a(n).closest(o).length}p.filter([{field:"visible",operator:"eq",value:true}]);b.fn.update.call(this,u,s);t.value(this.getFormattingValue(p.view(),s));t.wrapper.toggleClass("k-state-disabled",!p.view().length)}});function c(o,p,n){return h.extend({init:function(q){h.fn.init.call(this,q);this.finder=n},command:function(q){var r=q.value;if(a.isPlainObject(r)){r[p]=r.value}else{q.value={};q.value[p]=r}return h.fn.command.call(this,q)},initialize:function(u,s){var q=window.console,r,t=this.options.items;for(r=0;r<t.length;r++){t[r][p]=t[r].value}if(q){q.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.kendoui.com/getting-started/changes-and-backward-compatibility for more information")}h.fn.initialize.call(this,u,s)}})}var k=c("style","className",new f.GreedyInlineFormatFinder([{tags:["span"]}],"className"));var g=c("formatBlock","tag",new f.BlockFormatFinder([{tags:d.blockElements}]));a.extend(f,{FormattingTool:h,StyleTool:k,FormatBlockTool:g});j("formatting",new h({template:new m({template:e,title:"Format"})}));j("style",new k({template:new m({template:e,title:"Styles"})}));j("formatBlock",new g({template:new m({template:e})}))})(window.kendo.jQuery);(function(a,k){var e=window.kendo;var j=e.ui;var b=j.editor;var l=j.Widget;var c=a.extend;var h=a.proxy;var f=e.keys;var g=".kendoEditor";var d=".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input";var i=l.extend({init:function(m,n){var o=this;n=c({},n,{name:"EditorToolbar"});l.fn.init.call(o,m,n);if(n.popup){o._initPopup()}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=a(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(m){if(!a(m.target).is(".k-icon")){m.preventDefault()}}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(n){var m,o=this.tools;for(m in o){if(m.toLowerCase()==n){return o[m]}}},toolGroupFor:function(o){var n,m=this.groups;if(this.isCustomTool(o)){return"custom"}for(n in m){if(a.inArray(o,m[n])>=0){return n}}},bindTo:function(m){var o=this,p=o.window;if(o._editor){o._editor.unbind("select",h(o._update,o))}o._editor=m;o.tools=o.expandTools(m.options.tools);o.render();o.element.find(".k-combobox .k-input").keydown(function(r){var q=a(this).closest(".k-combobox").data("kendoComboBox"),s=r.keyCode;if(s==f.RIGHT||s==f.LEFT){q.close()}else{if(s==f.DOWN){if(!q.dropDown.isOpened()){r.stopImmediatePropagation();q.open()}}}});o._attachEvents();o.items().each(function n(){var u=o._toolFromClassName(this),t=o.tools[u],s=m.options.messages,q=s[u],v=a(this);if(!t||!t.initialize){return}if(u=="fontSize"||u=="fontName"){var r=s[u+"Inherit"];v.find("input").val(r).end().find("span.k-input").text(r).end()}t.initialize(v,{title:o._appendShortcutSequence(q,t),editor:o._editor});v.closest(".k-widget",o.element).addClass("k-editor-widget");v.closest(".k-colorpicker",o.element).next(".k-colorpicker").addClass("k-editor-widget")});m.bind("select",h(o._update,o));o._updateContext();if(p){p.wrapper.css({top:"",left:"",width:""})}},show:function(){var o=this,p=o.window,n=o.options.editor,q,m;if(p){q=p.wrapper;m=n.element;if(!q.is(":visible")||!o.window.options.visible){if(!q[0].style.width){q.width(m.outerWidth()-parseInt(q.css("border-left-width"),10)-parseInt(q.css("border-right-width"),10))}if(!p._moved){q.css("top",parseInt(m.offset().top,10)-q.outerHeight()-parseInt(o.window.element.css("padding-bottom"),10));q.css("left",parseInt(m.offset().left,10))}p.open()}}},hide:function(){if(this.window){this.window.close()}},focus:function(){var o="tabIndex";var m=this._editor.element;var n=m.attr(o);m.attr(o,n||0).focus().find("li:has("+d+")").first().focus();if(!n&&n!==0){m.removeAttr(o)}},_appendShortcutSequence:function(m,o){if(!o.key){return m}var n=m+" (";if(o.ctrl){n+="Ctrl + "}if(o.shift){n+="Shift + "}if(o.alt){n+="Alt + "}n+=o.key+")";return n},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(m){return !(m in e.ui.Editor.defaultTools)},expandTools:function(t){var m,o,q=this._nativeTools,r,n=e.deepExtend({},e.ui.Editor.defaultTools),s={},p;for(o=0;o<t.length;o++){m=t[o];p=m.name;if(a.isPlainObject(m)){if(p&&n[p]){s[p]=c({},n[p]);c(s[p].options,m)}else{r=c({cssClass:"k-i-custom",type:"button",title:""},m);if(!r.name){r.name="custom"}r.cssClass="k-"+(r.name=="custom"?"i-custom":r.name);if(!r.template&&r.type=="button"){r.template=b.EditorUtils.buttonTemplate;r.title=r.title||r.tooltip}s[p]={options:r}}}else{if(n[m]){s[m]=n[m]}}}for(o=0;o<q.length;o++){if(!s[q[o]]){s[q[o]]=n[q[o]]}}return s},render:function(){var y=this,C=y.tools,u,x,A,B,n=y._editor.element,o=y.element.empty(),r,t,z=y._editor.options.tools,m=e.support.browser,q,s;function w(E){var D;if(E.getHtml){D=E.getHtml()}else{if(!a.isFunction(E)){E=e.template(E)}D=E(u)}return a.trim(D)}function p(){if(q.children().length){q.appendTo(o)}}function v(){q=a("<li class='k-tool-group' role='presentation' />")}o.empty();v();for(s=0;s<z.length;s++){B=z[s].name||z[s];u=C[B]&&C[B].options;if(!u&&a.isPlainObject(B)){u=B}x=u&&u.template;if(B=="break"){p();a("<li class='k-row-break' />").appendTo(y.element);v()}if(!x){continue}t=y.toolGroupFor(B);if(r!=t){p();v();r=t}x=w(x);A=a(x).appendTo(q);if(t=="custom"){p();v()}if(u.exec&&A.hasClass("k-tool-icon")){A.click(h(u.exec,n[0]))}}p();a(y.element).children(":has(> .k-tool-icon)").addClass("k-button-group");if(y.options.popup&&m.msie&&m.version<9){y.window.wrapper.find("*").attr("unselectable","on")}this.updateGroups()},updateGroups:function(){a(this.element).children().each(function(){a(this).children().filter(function(){return this.style.display!=="none"}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},_attachEvents:function(){var p=this,m="[role=button].k-tool-icon",o=m+":not(.k-state-disabled)",n=m+".k-state-disabled";p.element.off(g).on("mouseenter"+g,o,function(){a(this).addClass("k-state-hover")}).on("mouseleave"+g,o,function(){a(this).removeClass("k-state-hover")}).on("mousedown"+g,m,false).on("keydown"+g,d,function(r){var q=a(this).closest("li"),s="li:has("+d+")",t,u=r.keyCode;if(u==f.RIGHT){t=q.nextAll(s).first().find(d)}else{if(u==f.LEFT){t=q.prevAll(s).first().find(d)}else{if(u==f.ESC){t=p}else{if(u==f.TAB&&!(r.ctrlKey||r.altKey)){if(r.shiftKey){t=q.prevAll(s).first().find(d);if(t.length){r.preventDefault()}else{return}}else{r.preventDefault();t=q.nextAll(s).first().find(d);if(!t.length){t=p}}}}}}if(t){t.focus()}}).on("click"+g,o,function(r){var q=a(this);r.preventDefault();r.stopPropagation();q.removeClass("k-state-hover");if(!q.is("[data-popup]")){p._editor.exec(p._toolFromClassName(this))}}).on("click"+g,n,function(q){q.preventDefault()})},_toolFromClassName:function(m){if(!m){return}var n=a.grep(m.className.split(" "),function(o){return !/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(o)});return n[0]?n[0].substring(n[0].lastIndexOf("-")+1):"custom"},_update:function(){var p=this,m=p._editor,o=m.getRange(),n=e.ui.editor.RangeUtils.textNodes(o);if(!n.length){n=[o.startContainer]}p.items().each(function(){var q=p.tools[p._toolFromClassName(this)];if(q&&q.update){q.update(a(this),n)}});this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var m=a(this);m.css("display",m.hasClass("k-state-disabled")?"none":"")});this.updateGroups()}});a.extend(b,{Toolbar:i})})(window.jQuery);(function(a,z){var o=window.kendo,k=a.extend,r=a.proxy,i=o.ui.editor,g=i.Dom,j=i.EditorUtils,d=i.Command,p=".kendoEditor",b="k-state-active",t="k-state-selected",x=i.Tool,y=i.ToolTemplate,c=i.BlockFormatFinder,s=i.EditorUtils.registerTool;var h="<td contentEditable='true'>"+i.emptyElementContent+"</td>";var v=new c([{tags:["table"]}]);var u=d.extend({_tableHtml:function(B,A){B=B||1;A=A||1;return"<table class='k-table' contentEditable='false' data-last>"+new Array(B+1).join("<tr>"+new Array(A+1).join(h)+"</tr>")+"</table>"},exec:function(){var C=this.options,A=this.editor,D,E=this._tableHtml(C.rows,C.columns),B;A.selectRange(C.range);A.clipboard.paste(E);D=A.getRange();B=a("table[data-last]",A.document).removeAttr("data-last");D.selectNodeContents(B.find("td")[0]);A.selectRange(D)}});var q=x.extend({initialize:function(C,A){x.fn.initialize.call(this,C,A);var B=a(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:C,copyAnchorStyles:false,open:r(this._open,this),activate:r(this._activate,this),close:r(this._close,this)}).data("kendoPopup");C.click(r(this._toggle,this));this._editor=A.editor;this._popup=B},popup:function(){return this._popup},_activate:a.noop,_open:function(){this._popup.options.anchor.addClass(b)},_close:function(){this._popup.options.anchor.removeClass(b)},_toggle:function(B){var A=a(B.target).closest(".k-tool-icon");if(!A.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(A){this.popup().close();A.removeClass("k-state-hover")}});var n=q.extend({init:function(A){this.cols=8;this.rows=6;q.fn.init.call(this,a.extend(A,{command:u,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<div class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div></div>"}))},_activate:function(){var M=this,E=M._popup.element,K=E.find(".k-status"),B=E.find(".k-ct-cell"),G=B.eq(0),H=B.eq(B.length-1),J=o.getOffset(G),F=o.getOffset(H),D=M.cols,I=M.rows,C,A;F.left+=H[0].offsetWidth;F.top+=H[0].offsetHeight;C=(F.left-J.left)/D;A=(F.top-J.top)/I;function L(O){var P=a(window);return{row:Math.floor((O.clientY+P.scrollTop()-J.top)/A)+1,col:Math.floor((O.clientX+P.scrollLeft()-J.left)/C)+1}}function N(O){return O.row>0&&O.col>0&&O.row<=I&&O.col<=D}E.on("mousemove"+p,function(O){var P=L(O);if(N(P)){K.text(o.format("Create a {0} x {1} table",P.row,P.col));B.each(function(Q){a(this).toggleClass(t,Q%D<P.col&&Q/D<P.row)})}else{K.text("Cancel");B.removeClass(t)}}).on("mouseleave"+p,function(){B.removeClass(t);K.text("Cancel")}).on("mousedown"+p,false).on("mouseup"+p,function(O){var P=L(O);if(N(P)){M._editor.exec("createTable",{rows:P.row,columns:P.col});M._popup.close()}})},_open:function(){q.fn._open.call(this);this.popup().element.find(".k-ct-cell").removeClass(t)},_close:function(){q.fn._close.call(this);this.popup().element.off(p)},update:function(C,B){var A;q.fn.update.call(this,C);A=v.isFormatted(B);C.toggleClass("k-state-disabled",A)}});var m=d.extend({exec:function(){var D=this.lockRange(true),F=D.endContainer,A,E,C;while(g.name(F)!="td"){F=F.parentNode}E=F.parentNode;A=E.children.length;C=E.cloneNode(true);for(var B=0;B<E.cells.length;B++){C.cells[B].innerHTML=i.emptyElementContent}if(this.options.position=="before"){g.insertBefore(C,E)}else{g.insertAfter(C,E)}this.releaseRange(D)}});var l=d.extend({exec:function(){var F=this.lockRange(true),I=g.closest(F.endContainer,"td"),H=g.closest(I,"table"),B,C,G=H.rows,A,D,E=this.options.position;B=g.findNodeIndex(I);for(C=0;C<G.length;C++){A=G[C].cells[B];D=A.cloneNode();D.innerHTML=i.emptyElementContent;if(E=="before"){g.insertBefore(D,A)}else{g.insertAfter(D,A)}}this.releaseRange(F)}});var f=d.extend({exec:function(){var B=this.lockRange(),C=g.closest(B.endContainer,"tr"),E=g.closest(C,"table"),D=E.rows.length,A;if(D==1){A=g.next(E)||g.prev(E);g.remove(E)}else{g.removeTextSiblings(C);A=g.next(C)||g.prev(C);A=A.cells[0];g.remove(C)}if(A){B.setStart(A,0);B.collapse(true);this.editor.selectRange(B)}}});var e=d.extend({exec:function(){var E=this.lockRange(),H=g.closest(E.endContainer,"td"),G=g.closest(H,"table"),F=G.rows,B=g.findNodeIndex(H,true),A=F[0].cells.length,C,D;if(A==1){C=g.next(G)||g.prev(G);g.remove(G)}else{g.removeTextSiblings(H);C=g.next(H)||g.prev(H);for(D=0;D<F.length;D++){g.remove(F[D].cells[B])}}if(C){E.setStart(C,0);E.collapse(true);this.editor.selectRange(E)}}});var w=x.extend({command:function(A){A=k(A,this.options);if(A.action=="delete"){if(A.type=="row"){return new f(A)}else{return new e(A)}}else{if(A.type=="row"){return new m(A)}else{return new l(A)}}},initialize:function(B,A){x.fn.initialize.call(this,B,A);B.addClass("k-state-disabled")},update:function(C,B){var A=!v.isFormatted(B);C.toggleClass("k-state-disabled",A)}});k(o.ui.editor,{PopupTool:q,TableCommand:u,InsertTableTool:n,TableModificationTool:w,InsertRowCommand:m,InsertColumnCommand:l,DeleteRowCommand:f,DeleteColumnCommand:e});s("createTable",new n({template:new y({template:j.buttonTemplate,popup:true,title:"Create table"})}));s("addColumnLeft",new w({type:"column",position:"before",template:new y({template:j.buttonTemplate,title:"Add column on the left"})}));s("addColumnRight",new w({type:"column",template:new y({template:j.buttonTemplate,title:"Add column on the right"})}));s("addRowAbove",new w({type:"row",position:"before",template:new y({template:j.buttonTemplate,title:"Add row above"})}));s("addRowBelow",new w({type:"row",template:new y({template:j.buttonTemplate,title:"Add row below"})}));s("deleteRow",new w({type:"row",action:"delete",template:new y({template:j.buttonTemplate,title:"Delete row"})}));s("deleteColumn",new w({type:"column",action:"delete",template:new y({template:j.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery);kendo_module({id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents"]});(function(a,I){var r=window.kendo,s=r.keys,H=r.ui,J=H.Widget,b=r._activeElement,j=r._extractFormat,x=r.parseFloat,y=r.support.placeholder,m=r.getCulture,C=r._round,g="change",i="disabled",B="readonly",p="k-input",E="spin",u=".kendoNumericTextBox",G="touchend",t="mouseleave"+u,o="mouseenter"+u+" "+t,h="k-state-default",l="k-state-focused",n="k-state-hover",k="focus",z=".",D="k-state-selected",F="k-state-disabled",c="aria-disabled",d="aria-readonly",q=/^(-)?(\d*)$/,v=null,A=a.proxy;var w=J.extend({init:function(L,P){var R=this,M=P&&P.step!==I,O,N,Q,S,K;J.fn.init.call(R,L,P);P=R.options;L=R.element.on("blur"+u,A(R._focusout,R)).attr("role","spinbutton");P.placeholder=P.placeholder||L.attr("placeholder");R._reset();R._wrapper();R._arrows();R._input();if(!r.support.mobileOS){R._text.on(k+u,A(R._click,R))}else{R._text.on(G+u+" "+k+u,function(T){R._toggleText(false);if(T.type===k){L.focus()}})}O=R.min(L.attr("min"));N=R.max(L.attr("max"));Q=R._parse(L.attr("step"));if(P.min===v&&O!==v){P.min=O}if(P.max===v&&N!==v){P.max=N}if(!M&&Q!==v){P.step=Q}L.attr("aria-valuemin",P.min).attr("aria-valuemax",P.max);P.format=j(P.format);S=P.value;R.value(S!==v?S:L.val());K=L.is("[disabled]");if(K){R.enable(false)}else{R.readonly(L.is("[readonly]"))}r.notify(R)},options:{name:"NumericTextBox",decimals:v,min:v,max:v,value:v,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[g,E],_editable:function(M){var P=this,L=P.element,K=M.disable,N=M.readonly,O=P._text.add(L),Q=P._inputWrapper.off(o);P._toggleText(true);P._upArrowEventHandler.unbind("press");P._downArrowEventHandler.unbind("press");L.off("keydown"+u).off("keypress"+u).off("paste"+u);if(!N&&!K){Q.addClass(h).removeClass(F).on(o,P._toggleHover);O.removeAttr(i).removeAttr(B).attr(c,false).attr(d,false);P._upArrowEventHandler.bind("press",function(R){R.preventDefault();P._spin(1);P._upArrow.addClass(D)});P._downArrowEventHandler.bind("press",function(R){R.preventDefault();P._spin(-1);P._downArrow.addClass(D)});P.element.on("keydown"+u,A(P._keydown,P)).on("keypress"+u,A(P._keypress,P)).on("paste"+u,A(P._paste,P))}else{Q.addClass(K?F:h).removeClass(K?h:F);O.attr(i,K).attr(B,N).attr(c,K).attr(d,N)}},readonly:function(K){this._editable({readonly:K===I?true:K,disable:false})},enable:function(K){this._editable({readonly:false,disable:!(K=K===I?true:K)})},destroy:function(){var K=this;K.element.add(K._text).add(K._upArrow).add(K._downArrow).add(K._inputWrapper).off(u);K._upArrowEventHandler.destroy();K._downArrowEventHandler.destroy();if(K._form){K._form.off("reset",K._resetHandler)}J.fn.destroy.call(K)},min:function(K){return this._option("min",K)},max:function(K){return this._option("max",K)},step:function(K){return this._option("step",K)},value:function(M){var L=this,K;if(M===I){return L._value}M=L._parse(M);K=L._adjust(M);if(M!==K){return}L._update(M);L._old=L._value},focus:function(){this._focusin()},_adjust:function(O){var N=this,M=N.options,L=M.min,K=M.max;if(O===v){return O}if(L!==v&&O<L){O=L}else{if(K!==v&&O>K){O=K}}return O},_arrows:function(){var P=this,L,K=function(){clearTimeout(P._spinning);L.removeClass(D)},N=P.options,O=N.spinners,M=P.element;L=M.siblings(".k-icon");if(!L[0]){L=a(e("n",N.upArrowText)+e("s",N.downArrowText)).insertAfter(M);L.wrapAll('<span class="k-select"/>')}if(!O){L.parent().toggle(O);P._inputWrapper.addClass("k-expand-padding")}P._upArrow=L.eq(0);P._upArrowEventHandler=new r.UserEvents(P._upArrow,{release:K});P._downArrow=L.eq(1);P._downArrowEventHandler=new r.UserEvents(P._downArrow,{release:K})},_blur:function(){var K=this;K._toggleText(true);K._change(K.element.val())},_click:function(K){var L=this;clearTimeout(L._focusing);L._focusing=setTimeout(function(){var S=K.target,R=f(S)[0],U=S.value.substring(0,R),O=L._format(L.options.format),P=O[","],T,Q,N,M=0;if(P){Q=new RegExp("\\"+P,"g");N=new RegExp("([\\d\\"+P+"]+)(\\"+O[z]+")?(\\d+)?")}if(N){T=N.exec(U)}if(T){M=T[0].replace(Q,"").length;if(U.indexOf("(")!=-1&&L._value<0){M++}}L._focusin();f(L.element[0],M)})},_change:function(L){var K=this;K._update(L);L=K._value;if(K._old!=L){K._old=L;K.trigger(g);K.element.trigger(g)}},_culture:function(K){return K||m(this.options.culture)},_focusin:function(){var K=this;K._inputWrapper.addClass(l);K._toggleText(false);K.element[0].focus()},_focusout:function(){var K=this;clearTimeout(K._focusing);K._inputWrapper.removeClass(l).removeClass(n);K._blur()},_format:function(L,K){var M=this._culture(K).numberFormat;L=L.toLowerCase();if(L.indexOf("c")>-1){M=M.currency}else{if(L.indexOf("p")>-1){M=M.percent}}return M},_input:function(){var O=this,L="k-formatted-value",M=O.element.addClass(p).show()[0],K=M.accessKey,P=O.wrapper,N;N=P.find(z+L);if(!N[0]){N=a('<input type="text"/>').insertBefore(M).addClass(L)}M.setAttribute("type","text");N[0].tabIndex=M.tabIndex;N[0].style.cssText=M.style.cssText;N.prop("placeholder",O.options.placeholder);if(K){N.attr("accesskey",K);M.accessKey=""}O._text=N.addClass(M.className)},_keydown:function(K){var M=this,L=K.keyCode;if(L==s.DOWN){M._step(-1)}else{if(L==s.UP){M._step(1)}else{if(L==s.ENTER){M._change(M.element.val())}}}},_keypress:function(L){if(L.which===0||L.keyCode===s.BACKSPACE){return}var M=this.element;var K=String.fromCharCode(L.which);var O=f(M[0]);var Q=O[0];var P=O[1];var N=this.options.min;var R=M.val();R=R.substring(0,Q)+K+R.substring(P);if((N!==null&&N>=0&&R.charAt(0)==="-")||!this._numericRegex().test(R)){L.preventDefault()}},_numericRegex:function(){var O=this;var L=O.options;var K=O._format(L.format);var N=K[z];var M=L.decimals;if(N===z){N="\\"+N}if(M===v){M=K.decimals}if(M===0){return q}if(O._separator!==N){O._separator=N;O._floatRegExp=new RegExp("^(-)?(((\\d+("+N+"\\d*)?)|("+N+"\\d*)))?$")}return O._floatRegExp},_paste:function(K){var M=this,L=K.target,N=L.value;setTimeout(function(){if(M._parse(L.value)===v){M._update(N)}})},_option:function(K,N){var M=this,L=M.options;if(N===I){return L[K]}N=M._parse(N);if(!N&&K==="step"){return}L[K]=N;M.element.attr("aria-value"+K,N).attr(K,N)},_spin:function(K,M){var L=this;M=M||500;clearTimeout(L._spinning);L._spinning=setTimeout(function(){L._spin(K,50)},M);L._step(K)},_step:function(L){var M=this,K=M.element,N=M._parse(K.val())||0;if(b()!=K[0]){M._focusin()}N+=M.options.step*L;M._update(M._adjust(N));M.trigger(E)},_toggleHover:function(K){a(K.currentTarget).toggleClass(n,K.type==="mouseenter")},_toggleText:function(L){var K=this;K._text.toggle(L);K.element.toggle(!L)},_parse:function(L,K){return x(L,this._culture(K),this.options.format)},_update:function(R){var Q=this,P=Q.options,M=P.format,L=P.decimals,K=Q._culture(),O=Q._format(M,K),N;if(L===v){L=O.decimals}R=Q._parse(R,K);N=R!==v;if(N){R=parseFloat(C(R,L))}Q._value=R=Q._adjust(R);Q._placeholder(r.toString(R,M,K));if(N){R=R.toString();if(R.indexOf("e")!==-1){R=C(+R,L)}R=R.replace(z,O[z])}else{R=""}Q.element.val(R).attr("aria-valuenow",R)},_placeholder:function(K){this._text.val(K);if(!y&&!K){this._text.val(this.options.placeholder)}},_wrapper:function(){var M=this,L=M.element,K=L[0],N;N=L.parents(".k-numerictextbox");if(!N.is("span.k-numerictextbox")){N=L.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();N=N.wrap("<span/>").parent()}N[0].style.cssText=K.style.cssText;K.style.width="";M.wrapper=N.addClass("k-widget k-numerictextbox").addClass(K.className).css("display","");M._inputWrapper=a(N[0].firstChild)},_reset:function(){var N=this,K=N.element,M=K.attr("form"),L=M?a("#"+M):K.closest("form");if(L[0]){N._resetHandler=function(){setTimeout(function(){N.value(K[0].value)})};N._form=L.on("reset",N._resetHandler)}}});function e(K,L){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+K+'" title="'+L+'">'+L+"</span></span>"}function f(K,M){var N,L=M!==I;if(K.selectionStart!==I){if(L){K.focus();K.setSelectionRange(M,M)}else{M=[K.selectionStart,K.selectionEnd]}}else{if(document.selection){if(a(K).is(":visible")){K.focus()}N=document.selection.createRange();if(L){N.move("character",M);N.select()}else{var P=K.createTextRange(),O=P.duplicate(),R,Q;P.moveToBookmark(N.getBookmark());O.setEndPoint("EndToStart",P);R=O.text.length;Q=R+P.text.length;M=[R,Q]}}}return M}H.plugin(w)})(window.kendo.jQuery);kendo_module({id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup"]});(function(a,aa){var x=window.kendo,Z=x.ui,c=x._activeElement,Y=(x.support.touch&&x.support.mobileOS),H="mousedown",e="click",o=a.extend,R=a.proxy,l=a.each,U=x.template,z=x.keys,ae=Z.Widget,m=/^(ul|a|div)$/i,M=".kendoMenu",v="img",N="open",F="k-menu",C="k-link",A="k-last",f="close",X="timer",p="k-first",u="k-image",T="select",af="zIndex",b="activate",h="deactivate",P="touchstart"+M+" MSPointerDown"+M+" pointerdown"+M,Q=x.support.pointers,K=x.support.msPointers,I=Q?"pointerover":(K?"MSPointerOver":"mouseenter"),J=Q?"pointerout":(K?"MSPointerOut":"mouseleave"),G=Y||K||Q,y="kendoPopup",i="k-state-default",t="k-state-hover",q="k-state-focused",k="k-state-disabled",s=".k-group",d=":not(.k-list) > .k-item",j=".k-item.k-state-disabled",w=".k-item:not(.k-state-disabled)",D=".k-item:not(.k-state-disabled) > .k-link",n=":not(.k-item.k-separator)",L=n+":eq(0)",B=n+":last",W="div:not(.k-animation-container,.k-list-container)",V={content:U("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:U("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:U("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:U("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:U("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:U("<span class='#= arrowClass(item, group) #'></span>"),sprite:U("<span class='k-sprite #= spriteCssClass #'></span>"),empty:U("")},S={wrapperCssClass:function(ag,ai){var aj="k-item",ah=ai.index;if(ai.enabled===false){aj+=" k-state-disabled"}else{aj+=" k-state-default"}if(ag.firstLevel&&ah===0){aj+=" k-first"}if(ah==ag.length-1){aj+=" k-last"}if(ai.cssClass){aj+=" "+ai.cssClass}return aj},textClass:function(){return C},textAttributes:function(ag){return ag.url?" href='"+ag.url+"'":""},arrowClass:function(ah,ag){var ai="k-icon";if(ag.horizontal){ai+=" k-i-arrow-s"}else{ai+=" k-i-arrow-e"}return ai},text:function(ag){return ag.encoded===false?ag.text:x.htmlEncode(ag.text)},tag:function(ag){return ag.url?"a":"span"},groupAttributes:function(ag){return ag.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(ag){return ag.content?ag.content:"&nbsp;"}};function r(ag,ah){ag=ag.split(" ")[!ah+0]||ag;return ag.replace("top","up").replace("bottom","down")}function O(ag,ak,ai){ag=ag.split(" ")[!ak+0]||ag;var aj={origin:["bottom",(ai?"right":"left")],position:["top",(ai?"right":"left")]},ah=/left|right/.test(ag);if(ah){aj.origin=["top",ag];aj.position[1]=x.directions[ag].reverse}else{aj.origin[0]=ag;aj.position[0]=x.directions[ag].reverse}aj.origin=aj.origin.join(" ");aj.position=aj.position.join(" ");return aj}function g(ai,ag){try{return a.contains(ai,ag)}catch(ah){return false}}function ad(ag){ag=a(ag);ag.addClass("k-item").children(v).addClass(u);ag.children("a").addClass(C).children(v).addClass(u);ag.filter(":not([disabled])").addClass(i);ag.filter(".k-separator:empty").append("&nbsp;");ag.filter("li[disabled]").addClass(k).removeAttr("disabled").attr("aria-disabled",true);if(!ag.filter("[role]").length){ag.attr("role","menuitem")}if(!ag.children("."+C).length){ag.contents().filter(function(){return(!this.nodeName.match(m)&&!(this.nodeType==3&&!a.trim(this.nodeValue)))}).wrapAll("<span class='"+C+"'/>")}ab(ag);ac(ag)}function ab(ag){ag=a(ag);ag.find("> .k-link > [class*=k-i-arrow]").remove();ag.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var ah=a(this),ai=ah.parent().parent();ah.append("<span class='k-icon "+(ai.hasClass(F+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function ac(ag){ag=a(ag);ag.filter(".k-first:not(:first-child)").removeClass(p);ag.filter(".k-last:not(:last-child)").removeClass(A);ag.filter(":first-child").addClass(p);ag.filter(":last-child").addClass(A)}var E=ae.extend({init:function(ag,ah){var ai=this;ae.fn.init.call(ai,ag,ah);ag=ai.wrapper=ai.element;ah=ai.options;ai._initData(ah);ai._updateClasses();ai._animations(ah);ai.nextItemZIndex=100;ai._tabindex();ai._focusProxy=R(ai._focusHandler,ai);ag.on(P,ai._focusProxy).on(e+M,j,false).on(e+M,w,R(ai._click,ai)).on("keydown"+M,R(ai._keydown,ai)).on("focus"+M,R(ai._focus,ai)).on("focus"+M,".k-content",R(ai._focus,ai)).on(P+" "+H+M,".k-content",R(ai._preventClose,ai)).on("blur"+M,R(ai._removeHoverItem,ai)).on("blur"+M,"[tabindex]",R(ai._checkActiveElement,ai)).on(I+M,w,R(ai._mouseenter,ai)).on(J+M,w,R(ai._mouseleave,ai)).on(I+M+" "+J+M+" "+H+M+" "+e+M,D,R(ai._toggleHover,ai));if(ah.openOnClick){ai.clicked=false;ai._documentClickHandler=R(ai._documentClick,ai);a(document).click(ai._documentClickHandler)}ag.attr("role","menubar");if(ag[0].id){ai._ariaId=x.format("{0}_mn_active",ag[0].id)}x.notify(ai)},events:[N,f,b,h,T],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100},_initData:function(ag){var ah=this;if(ag.dataSource){ah.element.empty();ah.append(ag.dataSource,ah.element)}},setOptions:function(ah){var ag=this.options.animation;this._animations(ah);ah.animation=o(true,ag,ah.animation);if("dataSource" in ah){this._initData(ah)}ae.fn.setOptions.call(this,ah)},destroy:function(){var ag=this;ae.fn.destroy.call(ag);ag.element.off(M);if(ag._documentClickHandler){a(document).unbind("click",ag._documentClickHandler)}},enable:function(ag,ah){this._toggleDisabled(ag,ah!==false);return this},disable:function(ag){this._toggleDisabled(ag,false);return this},append:function(ah,ai){ai=this.element.find(ai);var ag=this._insert(ah,ai,ai.length?ai.find("> .k-group, > .k-animation-container > .k-group"):null);l(ag.items,function(){ag.group.append(this);ab(this)});ab(ai);ac(ag.group.find(".k-first, .k-last").add(ag.items));return this},insertBefore:function(ah,ai){ai=this.element.find(ai);var ag=this._insert(ah,ai,ai.parent());l(ag.items,function(){ai.before(this);ab(this);ac(this)});ac(ai);return this},insertAfter:function(ah,ai){ai=this.element.find(ai);var ag=this._insert(ah,ai,ai.parent());l(ag.items,function(){ai.after(this);ab(this);ac(this)});ac(ai);return this},_insert:function(ai,am,ak){var an=this,aj,ah;if(!am||!am.length){ak=an.element}var al=a.isPlainObject(ai),ag={firstLevel:ak.hasClass(F),horizontal:ak.hasClass(F+"-horizontal"),expanded:true,length:ak.children().length};if(am&&!ak.length){ak=a(E.renderGroup({group:ag})).appendTo(am)}if(al||a.isArray(ai)){aj=a.map(al?[ai]:ai,function(ap,ao){if(typeof ap==="string"){return a(ap)}else{return a(E.renderItem({group:ag,item:o(ap,{index:ao})}))}})}else{aj=a(ai);ah=aj.find("> ul").addClass("k-group").attr("role","menu");aj=aj.filter("li");aj.add(ah.find("> li")).each(function(){ad(this)})}return{items:aj,group:ak}},remove:function(ah){ah=this.element.find(ah);var ak=this,aj=ah.parentsUntil(ak.element,d),ai=ah.parent("ul");ah.remove();if(ai&&!ai.children(d).length){var ag=ai.parent(".k-animation-container");if(ag.length){ag.remove()}else{ai.remove()}}if(aj.length){aj=aj.eq(0);ab(aj);ac(aj)}return ak},open:function(ah){var al=this,ak=al.options,ai=ak.orientation=="horizontal",ag=ak.direction,aj=x.support.isRtl(al.wrapper);ah=al.element.find(ah);if(/^(top|bottom|default)$/.test(ag)){if(aj){ag=ai?(ag+" left").replace("default","bottom"):"left"}else{ag=ai?(ag+" right").replace("default","bottom"):"right"}}ah.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var am=a(this).data("kendoPopup");if(am){am.close()}});ah.each(function(){var am=a(this);clearTimeout(am.data(X));am.data(X,setTimeout(function(){var au=am.find(".k-group:first:hidden"),ar;if(au[0]&&al.trigger(N,{item:am[0]})===false){if(!au.find(".k-group")[0]&&au.children(".k-item").length>1){au.css({maxHeight:a(window).height(),overflow:"auto"})}else{au.css({maxHeight:"",overflow:""})}am.data(af,am.css(af));am.css(af,al.nextItemZIndex++);ar=au.data(y);var at=am.parent().hasClass(F),aq=at&&ai,an=O(ag,at,aj),ao=ak.animation.open.effects,ap=ao!==aa?ao:"slideIn:"+r(ag,at);if(!ar){ar=au.kendoPopup({activate:function(){al.trigger(b,{item:this.wrapper.parent()})},deactivate:function(){al.trigger(h,{item:this.wrapper.parent()})},origin:an.origin,position:an.position,collision:ak.popupCollision!==aa?ak.popupCollision:(aq?"fit":"fit flip"),anchor:am,appendTo:am,animation:{open:o(true,{effects:ap},ak.animation.open),close:ak.animation.close},close:function(av){var aw=av.sender.wrapper.parent();if(!al.trigger(f,{item:aw[0]})){aw.css(af,aw.data(af));aw.removeData(af);if(G){aw.removeClass(t);al._removeHoverItem()}}else{av.preventDefault()}}}).data(y)}else{ar=au.data(y);ar.options.origin=an.origin;ar.options.position=an.position;ar.options.animation.open.effects=ap}au.removeAttr("aria-hidden");ar.open()}},al.options.hoverDelay))});return al},close:function(ah){var ai=this,ag=ai.element;ah=ag.find(ah);if(!ah.length){ah=ag.find(">.k-item")}ah.each(function(){var aj=a(this);clearTimeout(aj.data(X));aj.data(X,setTimeout(function(){var ak=aj.find(".k-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(y);if(ak){ak.close();ak.element.attr("aria-hidden",true)}},ai.options.hoverDelay))});return ai},_toggleDisabled:function(ah,ag){this.element.find(ah).each(function(){a(this).toggleClass(i,ag).toggleClass(k,!ag).attr("aria-disabled",!ag)})},_toggleHover:function(ag){var ai=a(x.eventTarget(ag)||ag.target).closest(d),ah=ag.type==I||H.indexOf(ag.type)!==-1;if(!ai.parents("li."+k).length){ai.toggleClass(t,ah||ag.type=="mousedown"||ag.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(ag){var aj=this,ah=a(this._hoverItem()[0]||(ag?ag.currentTarget:{})),ai=aj._findRootParent(ah)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||(!g(ai,x._activeElement())&&ag&&!g(ai,ag.currentTarget))){aj.close(ai)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var ag=this._hoverItem();if(ag&&ag.hasClass(q)){ag.removeClass(q);this._oldHoverItem=null}},_updateClasses:function(){var ag=this.element,ah;ag.addClass("k-widget k-reset k-header "+F).addClass(F+"-"+this.options.orientation);ag.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",ag.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");ah=ag.find("> li,.k-group > li");ah.each(function(){ad(this)})},_mouseenter:function(ag){var aj=this,ah=a(ag.currentTarget),ai=(ah.children(".k-animation-container").length||ah.children(s).length);if(ag.delegateTarget!=ah.parents(".k-menu")[0]){return}if(!aj.options.openOnClick||aj.clicked){if(!g(ag.currentTarget,ag.relatedTarget)&&ai){aj.open(ah)}}if(aj.options.openOnClick&&aj.clicked||G){ah.siblings().each(R(function(ak,al){aj.close(al)},aj))}},_mouseleave:function(ag){var aj=this,ah=a(ag.currentTarget),ai=(ah.children(".k-animation-container").length||ah.children(s).length);if(ah.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){ag.stopImmediatePropagation();return}if(!aj.options.openOnClick&&!Y&&!((Q||K)&&ag.originalEvent.pointerType==ag.originalEvent.MSPOINTER_TYPE_TOUCH)&&!g(ag.currentTarget,ag.relatedTarget||ag.target)&&ai){aj.close(ah)}},_click:function(ai){var at=this,ap,aq=at.options,ar=a(x.eventTarget(ai)),ao=ar[0]?ar[0].nodeName.toUpperCase():"",ak=(ao=="INPUT"||ao=="SELECT"||ao=="BUTTON"||ao=="LABEL"),an=ar.closest("."+C),aj=ar.closest(d),al=an.attr("href"),ag,ah,am=(!!al&&al!==a("<a href='#' />").attr("href"));if(aj.children(W)[0]){return}if(aj.hasClass(k)){ai.preventDefault();return}if(!ai.handled&&at.trigger(T,{item:aj[0]})&&!ak){ai.preventDefault()}ai.handled=true;ag=aj.children(s+",.k-animation-container");ah=ag.is(":visible");if(aq.closeOnClick&&!am&&(!ag.length||(aq.openOnClick&&ah))){aj.removeClass(t).css("height");at._oldHoverItem=at._findRootParent(aj);at.close(an.parentsUntil(at.element,d));at.clicked=false;if("MSPointerUp".indexOf(ai.type)!=-1){ai.preventDefault()}return}if(am&&ai.enterKey){an[0].click()}if((!aj.parent().hasClass(F)||!aq.openOnClick)&&!x.support.touch){return}if(!am&&!ak){ai.preventDefault()}at.clicked=true;ap=ag.is(":visible")?f:N;if(!aq.closeOnClick&&ap==f){return}at[ap](aj)},_documentClick:function(ag){if(g(this.element[0],ag.target)){return}this.clicked=false},_focus:function(ah){var ak=this,aj=ah.target,ai=ak._hoverItem(),ag=c();if(aj!=ak.wrapper[0]&&!a(aj).is(":kendoFocusable")){ah.stopPropagation();a(aj).closest(".k-content").closest(".k-group").closest(".k-item").addClass(q);ak.wrapper.focus();return}if(ag===ah.currentTarget){if(ai.length){ak._moveHover([],ai)}else{if(!ak._oldHoverItem){ak._moveHover([],ak.wrapper.children().first())}}}},_keydown:function(ah){var an=this,al=ah.keyCode,aj=an._oldHoverItem,am,ag,ai,ak=x.support.isRtl(an.wrapper);if(ah.target!=ah.currentTarget&&al!=z.ESC){return}if(!aj){aj=an._oldHoverItem=an._hoverItem()}ag=an._itemBelongsToVertival(aj);ai=an._itemHasChildren(aj);if(al==z.RIGHT){am=an[ak?"_itemLeft":"_itemRight"](aj,ag,ai)}else{if(al==z.LEFT){am=an[ak?"_itemRight":"_itemLeft"](aj,ag,ai)}else{if(al==z.DOWN){am=an._itemDown(aj,ag,ai)}else{if(al==z.UP){am=an._itemUp(aj,ag,ai)}else{if(al==z.ESC){am=an._itemEsc(aj,ag)}else{if(al==z.ENTER||al==z.SPACEBAR){am=aj.children(".k-link");if(am.length>0){an._click({target:am[0],preventDefault:function(){},enterKey:true});an._moveHover(aj,an._findRootParent(aj))}}else{if(al==z.TAB){am=an._findRootParent(aj);an._moveHover(aj,am);an._checkActiveElement();return}}}}}}}if(am&&am[0]){ah.preventDefault();ah.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(ag){var ah=this.wrapper.hasClass("k-menu-vertical");if(!ag.length){return ah}return ag.parent().hasClass("k-group")||ah},_itemHasChildren:function(ag){if(!ag.length){return false}return ag.children("ul.k-group, div.k-animation-container").length>0},_moveHover:function(ah,ai){var aj=this,ag=aj._ariaId;if(ah.length&&ai.length){ah.removeClass(q);if(ah[0].id===ag){ah.removeAttr("id")}}if(ai.length){if(ai[0].id){ag=ai[0].id}ai.addClass(q);aj._oldHoverItem=ai;if(ag){aj.element.removeAttr("aria-activedescendant");ai.attr("id",ag);aj.element.attr("aria-activedescendant",ag)}}},_findRootParent:function(ag){if(ag.parent().hasClass("k-menu")){return ag}else{return ag.parentsUntil(".k-menu","li.k-item").last()}},_isRootItem:function(ag){return ag.parent().hasClass("k-menu")},_itemRight:function(ai,ag,ah){var al=this,aj,ak;if(ai.hasClass(k)){return}if(!ag){aj=ai.nextAll(L);if(!aj.length){aj=ai.prevAll(B)}}else{if(ah){al.open(ai);aj=ai.find(".k-group").children().first()}else{if(al.options.orientation=="horizontal"){ak=al._findRootParent(ai);al.close(ak);aj=ak.nextAll(L)}}}if(aj&&!aj.length){aj=al.wrapper.children(".k-item").first()}else{if(!aj){aj=[]}}al._moveHover(ai,aj);return aj},_itemLeft:function(ah,ag){var aj=this,ai;if(!ag){ai=ah.prevAll(L);if(!ai.length){ai=ah.nextAll(B)}}else{ai=ah.parent().closest(".k-item");aj.close(ai);if(aj._isRootItem(ai)&&aj.options.orientation=="horizontal"){ai=ai.prevAll(L)}}if(!ai.length){ai=aj.wrapper.children(".k-item").last()}aj._moveHover(ah,ai);return ai},_itemDown:function(ai,ag,ah){var ak=this,aj;if(!ag){if(!ah||ai.hasClass(k)){return}else{ak.open(ai);aj=ai.find(".k-group").children().first()}}else{aj=ai.nextAll(L)}if(!aj.length&&ai.length){aj=ai.parent().children().first()}else{if(!ai.length){aj=ak.wrapper.children(".k-item").first()}}ak._moveHover(ai,aj);return aj},_itemUp:function(ah,ag){var aj=this,ai;if(!ag){return}else{ai=ah.prevAll(L)}if(!ai.length&&ah.length){ai=ah.parent().children().last()}else{if(!ah.length){ai=aj.wrapper.children(".k-item").last()}}aj._moveHover(ah,ai);return ai},_itemEsc:function(ah,ag){var aj=this,ai;if(!ag){return ah}else{ai=ah.parent().closest(".k-item");aj.close(ai);aj._moveHover(ah,ai)}return ai},_focusHandler:function(ag){var ai=this,ah=a(x.eventTarget(ag)).closest(d);setTimeout(function(){ai._moveHover([],ah);if(ah.children(".k-content")[0]){ah.parent().closest(".k-item").removeClass(q)}},200)},_animations:function(ag){if(ag&&("animation" in ag)&&!ag.animation){ag.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});o(E,{renderItem:function(ai){ai=o({menu:{},group:{}},ai);var ag=V.empty,ah=ai.item;return V.item(o(ai,{image:ah.imageUrl?V.image:ag,sprite:ah.spriteCssClass?V.sprite:ag,itemWrapper:V.itemWrapper,renderContent:E.renderContent,arrow:ah.items||ah.content?V.arrow:ag,subGroup:E.renderGroup},S))},renderGroup:function(ag){return V.group(o({renderItems:function(am){var ai="",aj=0,ak=am.items,al=ak?ak.length:0,ah=o({length:al},am.group);for(;aj<al;aj++){ai+=E.renderItem(o(am,{group:ah,item:o({index:aj},ak[aj])}))}return ai}},ag,S))},renderContent:function(ag){return V.content(o(ag,S))}});x.ui.plugin(E)})(window.kendo.jQuery);kendo_module({id:"editable",name:"Editable",category:"framework",depends:["datepicker","numerictextbox","validator","binder"],hidden:true});(function(a,t){var o=window.kendo,s=o.ui,u=s.Widget,j=a.extend,q=o.support.browser.msie&&o.support.browser.version<9,m=a.isFunction,n=a.isPlainObject,l=a.inArray,p=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,i='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',c="change";var r=["url","email","number","date","boolean"];function k(v){v=v!=null?v:"";return v.type||a.type(v)||"string"}function e(v){v.find(":input:not(:button, ["+o.attr("role")+"=upload], ["+o.attr("skip")+"], [type=file]), select").each(function(){var w=o.attr("bind"),x=this.getAttribute(w)||"",y=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",z=this.name;if(x.indexOf(y)===-1&&z){x+=(x.length?",":"")+y+z;a(this).attr(w,x)}})}function f(z){var y=(z.model.fields||z.model)[z.field],C=k(y),D=y?y.validation:{},B,x=o.attr("type"),w=o.attr("bind"),A,v={name:z.field};for(B in D){A=D[B];if(l(B,r)>=0){v[x]=B}else{if(!m(A)){v[B]=n(A)?A.value||B:A}}v[o.attr(B+"-msg")]=A.message}if(l(C,r)>=0){v[x]=C}v[w]=(C==="boolean"?"checked:":"value:")+z.field;return v}function d(x){var v,y,w,B,A,z;if(x&&x.length){z=[];for(v=0,y=x.length;v<y;v++){w=x[v];A=w.text||w.value||w;B=w.value==null?(w.text||w):w.value;z[v]={text:A,value:B}}}return z}var h={number:function(w,x){var v=f(x);a('<input type="text"/>').attr(v).appendTo(w).kendoNumericTextBox({format:x.format});a("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)},date:function(w,y){var v=f(y),x=y.format;if(x){x=o._extractFormat(x)}v[o.attr("format")]=x;a('<input type="text"/>').attr(v).appendTo(w).kendoDatePicker({format:y.format});a("<span "+o.attr("for")+'="'+y.field+'" class="k-invalid-msg"/>').hide().appendTo(w)},string:function(w,x){var v=f(x);a('<input type="text" class="k-input k-textbox"/>').attr(v).appendTo(w)},"boolean":function(w,x){var v=f(x);a('<input type="checkbox" />').attr(v).appendTo(w)},values:function(w,x){var v=f(x);a("<select "+o.attr("text-field")+'="text"'+o.attr("value-field")+'="value"'+o.attr("source")+"='"+o.stringify(d(x.values)).replace(/\'/g,"&apos;")+"'"+o.attr("role")+'="dropdownlist"/>').attr(v).appendTo(w);a("<span "+o.attr("for")+'="'+x.field+'" class="k-invalid-msg"/>').hide().appendTo(w)}};function b(w,y){var z=w?(w.validation||{}):{},x,v;for(x in z){v=z[x];if(n(v)&&v.value){v=v.value}if(m(v)){y[x]=v}}}var g=u.extend({init:function(v,w){var x=this;u.fn.init.call(x,v,w);x._validateProxy=a.proxy(x._validate,x);x.refresh()},events:[c],options:{name:"Editable",editors:h,clearContainer:true,errorTemplate:i},editor:function(y,E){var F=this,x=F.options.editors,B=n(y),z=B?y.field:y,D=F.options.model||{},C=B&&y.values,G=C?"values":k(E),A=B&&y.editor,w=A?y.editor:x[G],v=F.element.find("["+o.attr("container-for")+"="+z.replace(p,"\\$1")+"]");w=w?w:x.string;if(A&&typeof y.editor==="string"){w=function(H){H.append(y.editor)}}v=v.length?v:F.element;w(v,j(true,{},B?y:{field:z},{model:D}))},_validate:function(v){var z=this,x=typeof v.value==="boolean",w,y=z._validationEventInProgress,A={};A[v.field]=v.value;w=a(":input["+o.attr("bind")+'="'+(x?"checked:":"value:")+v.field.replace(p,"\\$1")+'"]',z.element);try{z._validationEventInProgress=true;if(!z.validatable.validateInput(w)||(!y&&z.trigger(c,{values:A}))){v.preventDefault()}}finally{z._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var v=this;u.fn.destroy.call(v);v.options.model.unbind("set",v._validateProxy);o.unbind(v.element);o.destroy(v.element);v.element.removeData("kendoValidator")},refresh:function(){var H=this,A,C,y=H.options.fields||[],v=H.options.clearContainer?H.element.empty():H.element,D=H.options.model||{},G={},w,B,x,E,F;if(!a.isArray(y)){y=[y]}for(A=0,C=y.length;A<C;A++){w=y[A];B=n(w);x=B?w.field:w;E=(D.fields||D)[x];b(E,G);H.editor(w,E)}if(!C){F=D.fields||D;for(x in F){b(F[x],G)}}e(v);o.bind(v,H.options.model);H.options.model.bind("set",H._validateProxy);H.validatable=v.kendoValidator({validateOnBlur:false,errorTemplate:H.options.errorTemplate||t,rules:G}).data("kendoValidator");var z=v.find(":kendoFocusable:first").focus();if(q){z.focus()}}});s.plugin(g)})(window.kendo.jQuery);kendo_module({id:"filtermenu",name:"Filtering Menu",category:"framework",depends:["datepicker","numerictextbox","dropdownlist"],advanced:true});(function(a,r){var j=window.kendo,q=j.ui,n=a.proxy,m="kendoPopup",h="init",l=".kendoFilterMenu",f="Is equal to",k="Is not equal to",p={number:"numerictextbox",date:"datepicker"},i=a.isFunction,s=q.Widget;var b='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var e='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';function o(t,u){if(t.filters){t.filters=a.grep(t.filters,function(v){o(v,u);if(v.filters){return v.filters.length}else{return v.field!=u}})}}function d(v){var t,w,u,z,y,x;if(v&&v.length){x=[];for(t=0,w=v.length;t<w;t++){u=v[t];y=u.text||u.value||u;z=u.value==null?(u.text||u):u.value;x[t]={text:y,value:z}}}return x}function c(u,t){return a.grep(u,function(v){if(v.filters){v.filters=a.grep(v.filters,function(w){return w.field!=t});return v.filters.length}return v.field!=t})}var g=s.extend({init:function(t,y){var z=this,A="string",x,v,w,u;s.fn.init.call(z,t,y);x=z.operators=y.operators||{};t=z.element;y=z.options;if(!y.appendToElement){w=t.addClass("k-filterable").find(".k-grid-filter");if(!w[0]){w=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}w.attr("tabindex",-1).on("click"+l,n(z._click,z))}z.link=w||a();z.dataSource=y.dataSource;z.field=y.field||t.attr(j.attr("field"));z.model=z.dataSource.reader.model;z._parse=function(B){return B+""};if(z.model&&z.model.fields){u=z.model.fields[z.field];if(u){A=u.type||"string";if(u.parse){z._parse=n(u.parse,u)}}}if(y.values){A="enums"}z.type=A;x=x[A]||y.operators[A];for(v in x){break}z._defaultFilter=function(){return{field:z.field,operator:v||"eq",value:""}};z._refreshHandler=n(z.refresh,z);z.dataSource.bind("change",z._refreshHandler);if(y.appendToElement){z._init()}else{z.refresh()}},_init:function(){var x=this,u=x.options,t=x.operators||{},z=u.ui,w=i(z),v,y=x.type;t=t[y]||u.operators[y];if(!w){v=z||p[y]}x.form=a('<form class="k-filter-menu k-secondary"/>').html(j.template(y==="boolean"?b:e)({field:x.field,format:u.format,ns:j.ns,messages:u.messages,extra:u.extra,operators:t,type:y,role:v,values:d(u.values)})).on("keydown"+l,n(x._keydown,x)).on("submit"+l,n(x._submit,x)).on("reset"+l,n(x._reset,x));if(!u.appendToElement){x.popup=x.form[m]({anchor:x.link,open:n(x._open,x),activate:n(x._activate,x),close:x.options.closeCallback}).data(m)}else{x.element.append(x.form);x.popup=x.element.closest(".k-popup").data(m)}if(w){x.form.find(".k-textbox").removeClass("k-textbox").each(function(){z(a(this))})}x.form.find("["+j.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+j.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+j.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+j.attr("role")+"=datepicker]").removeClass("k-textbox");x.refresh();x.trigger(h,{field:x.field,container:x.form})},refresh:function(){var u=this,t=u.dataSource.filter()||{filters:[],logic:"and"};u.filterModel=j.observable({logic:"and",filters:[u._defaultFilter(),u._defaultFilter()]});if(u.form){j.bind(u.form.children().first(),u.filterModel)}if(u._bind(t)){u.link.addClass("k-state-active")}else{u.link.removeClass("k-state-active")}},destroy:function(){var t=this;s.fn.destroy.call(t);if(t.form){j.unbind(t.form);j.destroy(t.form);t.form.unbind(l);t.popup.destroy()}t.link.unbind(l);if(t._refreshHandler){t.dataSource.unbind("change",t._refreshHandler)}},_bind:function(v){var C=this,y=v.filters,A,B,z=false,t=0,x=C.filterModel,u,w;for(A=0,B=y.length;A<B;A++){w=y[A];if(w.field==C.field){x.set("logic",v.logic);u=x.filters[t];if(!u){x.filters.push({field:C.field});u=x.filters[t]}u.set("value",C._parse(w.value));u.set("operator",w.operator);t++;z=true}else{if(w.filters){z=z||C._bind(w)}}}return z},_merge:function(t){var A=this,y=t.logic||"and",v=t.filters,u,z=A.dataSource.filter()||{filters:[],logic:"and"},w,x;o(z,A.field);v=a.grep(v,function(B){return B.value!==""&&B.value!=null});for(w=0,x=v.length;w<x;w++){u=v[w];u.value=A._parse(u.value)}if(v.length){if(z.filters.length){t.filters=v;if(z.logic!=="and"){z.filters=[{logic:z.logic,filters:z.filters}];z.logic="and"}if(v.length>1){z.filters.push(t)}else{z.filters.push(v[0])}}else{z.filters=v;z.logic=y}}return z},filter:function(t){t=this._merge(t);if(t.filters.length){this.dataSource.filter(t)}},clear:function(){var u=this,t=u.dataSource.filter()||{filters:[]};t.filters=a.grep(t.filters,function(v){if(v.filters){v.filters=c(v.filters,u.field);return v.filters.length}return v.field!=u.field});if(!t.filters.length){t=null}u.dataSource.filter(t)},_submit:function(t){var u=this;t.preventDefault();u.filter(u.filterModel.toJSON());u.popup.close()},_reset:function(){this.clear();this.popup.close()},_click:function(t){t.preventDefault();t.stopPropagation();if(!this.popup){this._init()}this.popup.toggle()},_open:function(){var t;a(".k-filter-menu").not(this.form).each(function(){t=a(this).data(m);if(t){t.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(t){if(t.keyCode==j.keys.ESC){this.popup.close()}},events:[h],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:f,neq:k,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:f,neq:k,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:f,neq:k,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:f,neq:k}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});q.plugin(g)})(window.kendo.jQuery);kendo_module({id:"panelbar",name:"PanelBar",category:"web",description:"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",depends:["core"]});(function(a,X){var F=window.kendo,W=F.ui,G=F.keys,v=a.extend,q=a.each,U=F.template,ac=W.Widget,t=/^(ul|a|div)$/i,M=".kendoPanelBar",D="img",B="href",H="k-last",I="k-link",J="."+I,s="error",E=".k-item",y=".k-group",ab=y+":visible",C="k-image",w="k-first",u="expand",P="select",k="k-content",b="activate",j="collapse",K="mouseenter",L="mouseleave",l="contentLoad",c="k-state-active",z="> .k-panel",m="> .k-content",x="k-state-focused",o="k-state-disabled",R="k-state-selected",S="."+R,A="k-state-highlight",d=E+":not(.k-state-disabled)",i=d+" > .k-link",p=E+".k-state-disabled > .k-link",Q="> li > "+S+", .k-panel > li > "+S,n="k-state-default",e="aria-disabled",f="aria-expanded",g="aria-hidden",h="aria-selected",aa=":visible",r=":empty",T="single",V={content:U("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:U("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:U("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:U("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:U("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:U("<span class='#= arrowClass(item) #'></span>"),sprite:U("<span class='k-sprite #= spriteCssClass #'></span>"),empty:U("")},O={aria:function(ae){var ad="";if(ae.items||ae.content||ae.contentUrl){ad+=f+"='"+(ae.expanded?"true":"false")+"' "}if(ae.enabled===false){ad+=e+"='true'"}return ad},wrapperCssClass:function(ad,af){var ag="k-item",ae=af.index;if(af.enabled===false){ag+=" "+o}else{if(af.expanded===true){ag+=" "+c}else{ag+=" k-state-default"}}if(ae===0){ag+=" k-first"}if(ae==ad.length-1){ag+=" k-last"}if(af.cssClass){ag+=" "+af.cssClass}return ag},textClass:function(ae,ad){var af=I;if(ad.firstLevel){af+=" k-header"}return af},textAttributes:function(ad){return ad.url?" href='"+ad.url+"'":""},arrowClass:function(ad){var ae="k-icon";ae+=ad.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return ae},text:function(ad){return ad.encoded===false?ad.text:F.htmlEncode(ad.text)},tag:function(ad){return ad.url||ad.contentUrl?"a":"span"},groupAttributes:function(ad){return ad.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(ad){return ad.item.expanded!==true?" style='display:none'":""},content:function(ad){return ad.content?ad.content:ad.contentUrl?"":"&nbsp;"},contentUrl:function(ad){return ad.contentUrl?'href="'+ad.contentUrl+'"':""}};function Y(ad){ad=a(ad);ad.children(J).children(".k-icon").remove();ad.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var ae=a(this),af=ae.parent();ae.append("<span class='k-icon "+(af.hasClass(c)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function Z(ad){ad=a(ad);ad.filter(".k-first:not(:first-child)").removeClass(w);ad.filter(".k-last:not(:last-child)").removeClass(H);ad.filter(":first-child").addClass(w);ad.filter(":last-child").addClass(H)}var N=ac.extend({init:function(ae,af){var ag=this,ad;ac.fn.init.call(ag,ae,af);ae=ag.wrapper=ag.element.addClass("k-widget k-reset k-header k-panelbar");af=ag.options;if(ae[0].id){ag._itemId=ae[0].id+"_pb_active"}ag._tabindex();ag._initData(af);ag._updateClasses();ag._animations(af);ae.on("click"+M,i,function(ah){if(ag._click(a(ah.currentTarget))){ah.preventDefault()}}).on(K+M+" "+L+M,i,ag._toggleHover).on("click"+M,p,false).on("keydown"+M,a.proxy(ag._keydown,ag)).on("focus"+M,function(){var ah=ag.select();ag._current(ah[0]?ah:ag._first())}).on("blur"+M,function(){ag._current(null)}).attr("role","menu");ad=ae.find("li."+c+" > ."+k);if(ad[0]){ag.expand(ad.parent(),false)}F.notify(ag)},events:[u,j,P,b,s,l],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){ac.fn.destroy.call(this);this.element.off(M);F.destroy(this.element)},_initData:function(ad){var ae=this;if(ad.dataSource){ae.element.empty();ae.append(ad.dataSource,ae.element)}},setOptions:function(ae){var ad=this.options.animation;this._animations(ae);ae.animation=v(true,ad,ae.animation);if("dataSource" in ae){this._initData(ae)}ac.fn.setOptions.call(this,ae)},expand:function(ae,ag){var af=this,ad={};ag=ag!==false;ae=this.element.find(ae);ae.each(function(ai,aj){aj=a(aj);var ah=aj.find(z).add(aj.find(m));if(!aj.hasClass(o)&&ah.length>0){if(af.options.expandMode==T&&af._collapseAllExpanded(aj)){return af}ae.find("."+A).removeClass(A);aj.addClass(A);if(!ag){ad=af.options.animation;af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!af._triggerEvent(u,aj)){af._toggleItem(aj,false)}if(!ag){af.options.animation=ad}}});return af},collapse:function(ae,ag){var af=this,ad={};ag=ag!==false;ae=af.element.find(ae);ae.each(function(ai,aj){aj=a(aj);var ah=aj.find(z).add(aj.find(m));if(!aj.hasClass(o)&&ah.is(aa)){aj.removeClass(A);if(!ag){ad=af.options.animation;af.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!af._triggerEvent(j,aj)){af._toggleItem(aj,true)}if(!ag){af.options.animation=ad}}});return af},_toggleDisabled:function(ad,ae){ad=this.element.find(ad);ad.toggleClass(n,ae).toggleClass(o,!ae).attr(e,!ae)},select:function(ad){var ae=this;if(ad===X){return ae.element.find(Q).parent()}ae.element.find(ad).each(function(){var af=a(this),ag=af.children(J);if(af.hasClass(o)){return ae}ae._updateSelected(ag)});return ae},enable:function(ad,ae){this._toggleDisabled(ad,ae!==false);return this},disable:function(ad){this._toggleDisabled(ad,false);return this},append:function(ae,af){af=this.element.find(af);var ad=this._insert(ae,af,af.length?af.find(z):null);q(ad.items,function(){ad.group.append(this);Z(this)});Y(af);Z(ad.group.find(".k-first, .k-last"));ad.group.height("auto");return this},insertBefore:function(ae,af){af=this.element.find(af);var ad=this._insert(ae,af,af.parent());q(ad.items,function(){af.before(this);Z(this)});Z(af);ad.group.height("auto");return this},insertAfter:function(ae,af){af=this.element.find(af);var ad=this._insert(ae,af,af.parent());q(ad.items,function(){af.after(this);Z(this)});Z(af);ad.group.height("auto");return this},remove:function(ad){ad=this.element.find(ad);var ag=this,af=ad.parentsUntil(ag.element,E),ae=ad.parent("ul");ad.remove();if(ae&&!ae.hasClass("k-panelbar")&&!ae.children(E).length){ae.remove()}if(af.length){af=af.eq(0);Y(af);Z(af)}return ag},reload:function(ad){var ae=this;ad=ae.element.find(ad);ad.each(function(){var af=a(this);ae._ajaxRequest(af,af.children("."+k),!af.is(aa))})},_first:function(){return this.element.children(d).first()},_last:function(){var ae=this.element.children(d).last(),ad=ae.children(ab);if(ad[0]){return ad.children(d).last()}return ae},_current:function(ad){var ag=this,ae=ag._focused,af=ag._itemId;if(ad===X){return ae}ag.element.removeAttr("aria-activedescendant");if(ae){if(ae[0].id===af){ae.removeAttr("id")}ae.children(J).removeClass(x)}if(ad){af=ad[0].id||af;ad.attr("id",af).children(J).addClass(x);ag.element.attr("aria-activedescendant",af)}ag._focused=ad},_keydown:function(ae){var ag=this,af=ae.keyCode,ad=ag._current();if(ae.target!=ae.currentTarget){return}if(af==G.DOWN||af==G.RIGHT){ag._current(ag._nextItem(ad));ae.preventDefault()}else{if(af==G.UP||af==G.LEFT){ag._current(ag._prevItem(ad));ae.preventDefault()}else{if(af==G.ENTER||af==G.SPACEBAR){ag._click(ad.children(J));ae.preventDefault()}else{if(af==G.HOME){ag._current(ag._first());ae.preventDefault()}else{if(af==G.END){ag._current(ag._last());ae.preventDefault()}}}}}},_nextItem:function(ae){if(!ae){return this._first()}var ad=ae.children(ab),af=ae.next();if(ad[0]){af=ad.children("."+w)}if(!af[0]){af=ae.parent(ab).parent(E).next()}if(!af[0]||!af.is(":visible")){af=this._first()}if(af.hasClass(o)){af=this._nextItem(af)}return af},_prevItem:function(ad){if(!ad){return this._last()}var ae=ad.prev(),af;if(!ae[0]){ae=ad.parent(ab).parent(E);if(!ae[0]){ae=this._last()}}else{af=ae;while(af[0]){af=af.children(ab).children("."+H);if(af[0]){ae=af}}}if(ae.hasClass(o)){ae=this._prevItem(ae)}return ae},_insert:function(af,aj,ah){var ak=this,ag,ai=a.isPlainObject(af),ae=aj&&aj[0],ad;if(!ae){ah=ak.element}ad={firstLevel:ah.hasClass("k-panelbar"),expanded:ah.parent().hasClass(c),length:ah.children().length};if(ae&&!ah.length){ah=a(N.renderGroup({group:ad})).appendTo(aj)}if(ai||a.isArray(af)){ag=a.map(ai?[af]:af,function(am,al){if(typeof am==="string"){return a(am)}else{return a(N.renderItem({group:ad,item:v(am,{index:al})}))}});if(ae){aj.attr(f,false)}}else{ag=a(af);ak._updateItemsClasses(ag)}return{items:ag,group:ah}},_toggleHover:function(ad){var ae=a(ad.currentTarget);if(!ae.parents("li."+o).length){ae.toggleClass("k-state-hover",ad.type==K)}},_updateClasses:function(){var af=this,ae,ad;ae=af.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");ae.parent().attr(f,false).not("."+c).children("ul").attr(g,true).hide();ad=af.element.add(ae).children();af._updateItemsClasses(ad);Y(ad);Z(ad)},_updateItemsClasses:function(ae){var af=ae.length,ad=0;for(;ad<af;ad++){this._updateItemClasses(ae[ad],ad)}},_updateItemClasses:function(af,ae){var ai=this._selected,ad=this.options.contentUrls,aj=ad&&ad[ae],ah=this.element[0],ak,ag;af=a(af).addClass("k-item").attr("role","menuitem");if(F.support.browser.msie){af.css("list-style-position","inside").css("list-style-position","")}af.children(D).addClass(C);ag=af.children("a").addClass(I);if(ag[0]){ag.attr("href",aj);ag.children(D).addClass(C)}af.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");af.filter("li[disabled]").addClass("k-state-disabled").attr(e,true).removeAttr("disabled");af.children("div").addClass(k).attr("role","region").attr(g,true).hide().parent().attr(f,false);ag=af.children(S);if(ag[0]){if(ai){ai.removeAttr(h).children(S).removeClass(R)}ag.addClass(R);this._selected=af.attr(h,true)}if(!af.children(J)[0]){ak="<span class='"+I+"'/>";if(ad&&ad[ae]&&af[0].parentNode==ah){ak='<a class="k-link k-header" href="'+ad[ae]+'"/>'}af.contents().filter(function(){return(!this.nodeName.match(t)&&!(this.nodeType==3&&!a.trim(this.nodeValue)))}).wrapAll(ak)}if(af.parent(".k-panelbar")[0]){af.children(J).addClass("k-header")}},_click:function(ak){var al=this,ae=al.element,aj,ad,af,ag;if(ak.parents("li."+o).length){return}if(ak.closest(".k-widget")[0]!=ae[0]){return}var ai=ak.closest(J),ah=ai.closest(E);al._updateSelected(ai);ad=ah.find(z).add(ah.find(m));af=ai.attr(B);ag=af&&(af.charAt(af.length-1)=="#"||af.indexOf("#"+al.element[0].id+"-")!=-1);aj=!!(ag||ad.length);if(ad.data("animating")){return aj}if(al._triggerEvent(P,ah)){aj=true}if(aj===false){return}if(al.options.expandMode==T){if(al._collapseAllExpanded(ah)){return aj}}if(ad.length){var am=ad.is(aa);if(!al._triggerEvent(!am?u:j,ah)){aj=al._toggleItem(ah,am)}}return aj},_toggleItem:function(af,ag){var ai=this,ad=af.find(z),ah,ae;if(ad.length){this._toggleGroup(ad,ag);ah=true}else{ae=af.children("."+k);if(ae.length){ah=true;if(!ae.is(r)){ai._toggleGroup(ae,ag)}else{ai._ajaxRequest(af,ae,ag)}}}return ah},_toggleGroup:function(ag,aj){var ai=this,ae=ai.options.animation,ad=ae.expand,af=v({},ae.collapse),ah=af&&"effects" in af;if(ag.is(aa)!=aj){return}ag.parent().attr(f,!aj).attr(g,aj).toggleClass(n,aj).toggleClass(c,!aj).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!aj).toggleClass("k-panelbar-collapse",!aj).toggleClass("k-i-arrow-s",aj).toggleClass("k-panelbar-expand",aj);if(aj){ad=v(ah?af:v({reverse:true},ad),{hide:true})}else{ad=v({complete:function(ak){ai._triggerEvent(b,ak.closest(E))}},ad)}ag.kendoStop(true,true).kendoAnimate(ad)},_collapseAllExpanded:function(af){var ah=this,ad,ag=false;if(af.children(J).hasClass("k-header")){var ae=af.find(z).add(af.find(m));if(ae.is(aa)){ag=true}if(!(ae.is(aa)||ae.length===0)){ad=a(ah.element).children();ad.find(z).add(ad.find(m)).filter(function(){return a(this).is(aa)}).each(function(aj,ai){ai=a(ai);ag=ah._triggerEvent(j,ai.closest(E));if(!ag){ah._toggleGroup(ai,true)}})}return ag}},_ajaxRequest:function(af,ad,ag){var ak=this,aj=af.find(".k-panelbar-collapse, .k-panelbar-expand"),ah=af.find(J),ai=setTimeout(function(){aj.addClass("k-loading")},100),ae={},al=ah.attr(B);a.ajax({type:"GET",cache:false,url:al,dataType:"html",data:ae,error:function(an,am){aj.removeClass("k-loading");if(ak.trigger(s,{xhr:an,status:am})){this.complete()}},complete:function(){clearTimeout(ai);aj.removeClass("k-loading")},success:function(an){try{ad.html(an)}catch(ao){var am=window.console;if(am&&am.error){am.error(ao.name+": "+ao.message+" in "+al)}this.error(this.xhr,"error")}ak._toggleGroup(ad,ag);ak.trigger(l,{item:af[0],contentElement:ad[0]})}})},_triggerEvent:function(ae,ad){var af=this;return af.trigger(ae,{item:ad[0]})},_updateSelected:function(af){var ah=this,ad=ah.element,ae=af.parent(E),ag=ah._selected;if(ag){ag.removeAttr(h)}ah._selected=ae.attr(h,true);ad.find(Q).removeClass(R);ad.find("> ."+A+", .k-panel > ."+A).removeClass(A);af.addClass(R);af.parentsUntil(ad,E).filter(":has(.k-header)").addClass(A);ah._current(ae)},_animations:function(ad){if(ad&&("animation" in ad)&&!ad.animation){ad.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}}});v(N,{renderItem:function(af){af=v({panelBar:{},group:{}},af);var ad=V.empty,ae=af.item;return V.item(v(af,{image:ae.imageUrl?V.image:ad,sprite:ae.spriteCssClass?V.sprite:ad,itemWrapper:V.itemWrapper,renderContent:N.renderContent,arrow:ae.items||ae.content||ae.contentUrl?V.arrow:ad,subGroup:N.renderGroup},O))},renderGroup:function(ad){return V.group(v({renderItems:function(aj){var af="",ag=0,ah=aj.items,ai=ah?ah.length:0,ae=v({length:ai},aj.group);for(;ag<ai;ag++){af+=N.renderItem(v(aj,{group:ae,item:v({index:ag},ah[ag])}))}return af}},ad,O))},renderContent:function(ad){return V.content(v(ad,O))}});F.ui.plugin(N)})(window.kendo.jQuery);kendo_module({id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"]});(function(a,N){var v=window.kendo,M=v.ui,w=v.keys,z=a.map,j=a.each,L=a.trim,n=a.extend,J=v.template,Q=M.Widget,m=/^(a|div)$/i,D=".kendoTabStrip",u="img",s="href",E="prev",y="k-link",x="k-last",d="click",l="error",k=":empty",t="k-image",o="k-first",G="select",b="activate",e="k-content",g="contentUrl",A="mouseenter",B="mouseleave",f="contentLoad",i="k-state-disabled",h="k-state-default",c="k-state-active",p="k-state-focused",r="k-state-hover",H="k-tab-on-top",C=".k-item:not(."+i+")",q=".k-tabstrip-items > "+C+":not(."+c+")",K={content:J("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:J("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:J("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:J("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:J("<span class='k-sprite #= spriteCssClass #'></span>"),empty:J("")},F={wrapperCssClass:function(R,T){var U="k-item",S=T.index;if(T.enabled===false){U+=" k-state-disabled"}else{U+=" k-state-default"}if(S===0){U+=" k-first"}if(S==R.length-1){U+=" k-last"}return U},textAttributes:function(R){return R.url?" href='"+R.url+"'":""},text:function(R){return R.encoded===false?R.text:v.htmlEncode(R.text)},tag:function(R){return R.url?"a":"span"},contentAttributes:function(R){return R.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(R){return R.content?R.content:R.contentUrl?"":"&nbsp;"},contentUrl:function(R){return R.contentUrl?v.attr("content-url")+'="'+R.contentUrl+'"':""}};function P(R){R.children(u).addClass(t);R.children("a").addClass(y).children(u).addClass(t);R.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(h);R.filter("li[disabled]").addClass(i).removeAttr("disabled");R.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(c+" "+H);R.attr("role","tab");R.filter("."+c).attr("aria-selected",true);R.each(function(){var S=a(this);if(!S.children("."+y).length){S.contents().filter(function(){return(!this.nodeName.match(m)&&!(this.nodeType==3&&!L(this.nodeValue)))}).wrapAll("<a class='"+y+"'/>")}})}function O(R){var S=R.children(".k-item");S.filter(".k-first:not(:first-child)").removeClass(o);S.filter(".k-last:not(:last-child)").removeClass(x);S.filter(":first-child").addClass(o);S.filter(":last-child").addClass(x)}var I=Q.extend({init:function(S,T){var V=this;Q.fn.init.call(V,S,T);V._animations(V.options);if(V.element.is("ul")){V.wrapper=V.element.wrapAll("<div />").parent()}else{V.wrapper=V.element}T=V.options;V._isRtl=v.support.isRtl(V.wrapper);V._tabindex();V._updateClasses();V._dataSource();if(T.dataSource){V.dataSource.fetch()}if(V.options.contentUrls){V.wrapper.find(".k-tabstrip-items > .k-item").each(function(W,X){a(X).find(">."+y).data(g,V.options.contentUrls[W])})}V.wrapper.on(A+D+" "+B+D,q,V._toggleHover).on("click"+D,C,function(){if(V.wrapper[0]!==document.activeElement){V.wrapper.focus()}}).on("keydown"+D,a.proxy(V._keydown,V)).on("focus"+D,a.proxy(V._active,V)).on("blur"+D,function(){V._current(null)});V.wrapper.children(".k-tabstrip-items").on(d+D,".k-state-disabled .k-link",false).on(d+D," > "+C,function(W){if(V._click(a(W.currentTarget))){W.preventDefault()}});var U=V.tabGroup.children("li."+c),R=V.contentHolder(U.index());if(R.length>0&&R[0].childNodes.length===0){V.activateTab(U.eq(0))}V.element.attr("role","tablist");if(V.element[0].id){V._ariaId=V.element[0].id+"_ts_active"}v.notify(V)},_active:function(){var R=this.tabGroup.children().filter("."+c);R=R[0]?R:this._endItem("first");if(R[0]){this._current(R)}},_endItem:function(R){return this.tabGroup.children(C)[R]()},_item:function(T,R){var S;if(R===E){S="last"}else{S="first"}if(!T){return this._endItem(S)}T=T[R]();if(!T[0]){T=this._endItem(S)}if(T.hasClass(i)){T=this._item(T,R)}return T},_current:function(R){var U=this,S=U._focused,T=U._ariaId;if(R===N){return S}if(S){if(S[0].id===T){S.removeAttr("id")}S.removeClass(p)}if(R){if(!R.hasClass(c)){R.addClass(p)}U.element.removeAttr("aria-activedescendant");T=R[0].id||T;if(T){R.attr("id",T);U.element.attr("aria-activedescendant",T)}}U._focused=R},_keydown:function(T){var W=this,U=T.keyCode,S=W._current(),V=W._isRtl,R;if(T.target!=T.currentTarget){return}if(U==w.DOWN||U==w.RIGHT){R=V?E:"next"}else{if(U==w.UP||U==w.LEFT){R=V?"next":E}else{if(U==w.ENTER||U==w.SPACEBAR){W._click(S);T.preventDefault()}else{if(U==w.HOME){W._click(W._endItem("first"));T.preventDefault();return}else{if(U==w.END){W._click(W._endItem("last"));T.preventDefault();return}}}}}if(R){W._click(W._item(S,R));T.preventDefault()}},_dataSource:function(){var R=this;if(R.dataSource&&R._refreshHandler){R.dataSource.unbind("change",R._refreshHandler)}else{R._refreshHandler=a.proxy(R.refresh,R)}R.dataSource=v.data.DataSource.create(R.options.dataSource).bind("change",R._refreshHandler)},setDataSource:function(R){this.options.dataSource=R;this._dataSource();R.fetch()},_animations:function(R){if(R&&("animation" in R)&&!R.animation){R.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(U){var ad=this,Y=ad.options,ac=v.getter(Y.dataTextField),S=v.getter(Y.dataContentField),T=v.getter(Y.dataContentUrlField),W=v.getter(Y.dataImageUrlField),ae=v.getter(Y.dataUrlField),Z=v.getter(Y.dataSpriteCssClass),V,ab=[],aa,R,af=ad.dataSource.view(),X;U=U||{};R=U.action;if(R){af=U.items}for(V=0,X=af.length;V<X;V++){aa={text:ac(af[V])};if(Y.dataContentField){aa.content=S(af[V])}if(Y.dataContentUrlField){aa.contentUrl=T(af[V])}if(Y.dataUrlField){aa.url=ae(af[V])}if(Y.dataImageUrlField){aa.imageUrl=W(af[V])}if(Y.dataSpriteCssClass){aa.spriteCssClass=Z(af[V])}ab[V]=aa}if(U.action=="add"){if(U.index<ad.tabGroup.children().length){ad.insertBefore(ab,ad.tabGroup.children().eq(U.index))}else{ad.append(ab)}}else{if(U.action=="remove"){for(V=0;V<af.length;V++){ad.remove(U.index)}}else{if(U.action=="itemchange"){V=ad.dataSource.view().indexOf(af[0]);if(U.field===Y.dataTextField){ad.tabGroup.children().eq(V).find(".k-link").text(af[0].get(U.field))}}else{ad.trigger("dataBinding");ad.remove("li");ad.append(ab);ad.trigger("dataBound")}}}},value:function(S){var R=this;if(S!==N){if(S!=R.value()){R.tabGroup.children().each(function(){if(a.trim(a(this).text())==S){R.select(this)}})}}else{return R.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(S){var R=this.options.animation;this._animations(S);S.animation=n(true,R,S.animation);Q.fn.setOptions.call(this,S)},events:[G,b,l,f,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false},destroy:function(){var R=this;Q.fn.destroy.call(R);if(R._refreshHandler){R.dataSource.unbind("change",R._refreshHandler)}R.wrapper.off(D);v.destroy(R.wrapper)},select:function(R){var S=this;if(arguments.length===0){return S.tabGroup.children("li."+c)}if(!isNaN(R)){R=S.tabGroup.children().get(R)}R=S.tabGroup.find(R);a(R).each(function(T,U){U=a(U);if(!U.hasClass(c)&&!S.trigger(G,{item:U[0],contentElement:S.contentHolder(U.index())[0]})){S.activateTab(U)}});return S},enable:function(R,S){this._toggleDisabled(R,S!==false);return this},disable:function(R){this._toggleDisabled(R,false);return this},reload:function(R){R=this.tabGroup.find(R);var S=this;R.each(function(){var V=a(this),U=V.find("."+y).data(g),T=S.contentHolder(V.index());if(U){S.ajaxRequest(V,T,null,U)}});return S},append:function(S){var T=this,R=T._create(S);j(R.tabs,function(U){T.tabGroup.append(this);T.wrapper.append(R.contents[U])});O(T.tabGroup);T._updateContentElements();return T},insertBefore:function(U,T){var V=this,R=V._create(U),S=a(V.contentElement(T.index()));j(R.tabs,function(W){T.before(this);S.before(R.contents[W])});O(V.tabGroup);V._updateContentElements();return V},insertAfter:function(U,T){var V=this,R=V._create(U),S=a(V.contentElement(T.index()));j(R.tabs,function(W){T.after(this);S.after(R.contents[W])});O(V.tabGroup);V._updateContentElements();return V},remove:function(S){var T=this,U=typeof S,R=a();if(U==="string"){S=T.tabGroup.find(S)}else{if(U==="number"){S=T.tabGroup.children().eq(S)}}S.each(function(){R.push(T.contentElement(a(this).index()))});S.remove();R.remove();T._updateContentElements();return T},_create:function(T){var S=a.isPlainObject(T),V=this,U,R;if(S||a.isArray(T)){T=a.isArray(T)?T:[T];U=z(T,function(X,W){return a(I.renderItem({group:V.tabGroup,item:n(X,{index:W})}))});R=z(T,function(X,W){if(X.content||X.contentUrl){return a(I.renderContent({item:n(X,{index:W})}))}})}else{U=a(T);R=a("<div class='"+e+"'/>");P(U)}return{tabs:U,contents:R}},_toggleDisabled:function(R,S){R=this.tabGroup.find(R);R.each(function(){a(this).toggleClass(h,S).toggleClass(i,!S)})},_updateClasses:function(){var U=this,T,R,S;U.wrapper.addClass("k-widget k-header k-tabstrip");U.tabGroup=U.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!U.tabGroup[0]){U.tabGroup=a("<ul class='k-tabstrip-items k-reset'/>").appendTo(U.wrapper)}T=U.tabGroup.find("li").addClass("k-item");if(T.length){R=T.filter("."+c).index();S=R>=0?R:N;U.tabGroup.contents().filter(function(){return(this.nodeType==3&&!L(this.nodeValue))}).remove()}if(R>=0){T.eq(R).addClass(H)}U.contentElements=U.wrapper.children("div");U.contentElements.addClass(e).eq(S).addClass(c).css({display:"block"});if(T.length){P(T);O(U.tabGroup);U._updateContentElements()}},_updateContentElements:function(){var U=this,S=U.options.contentUrls||[],T=U.element.attr("id")||v.guid(),R=U.wrapper.children("div");U.tabGroup.find(".k-item").each(function(X){var V=R.eq(X),W=T+"-"+(X+1);this.setAttribute("aria-controls",W);if(!V.length&&S[X]){a("<div class='"+e+"'/>").appendTo(U.wrapper).attr("id",W)}else{V.attr("id",W)}V.attr("role","tabpanel");V.filter(":not(."+c+")").attr("aria-hidden",true).attr("aria-expanded",false);V.filter("."+c).attr("aria-expanded",true)});U.contentElements=U.contentAnimators=U.wrapper.children("div");if(v.kineticScrollNeeded&&v.mobile.ui.Scroller){v.touchScroller(U.contentElements);U.contentElements=U.contentElements.children(".km-scroll-container")}},_toggleHover:function(R){a(R.currentTarget).toggleClass(r,R.type==A)},_click:function(V){var Y=this,W=V.find("."+y),T=W.attr(s),R=Y.options.collapsible,S=Y.contentHolder(V.index()),X,U;if(V.closest(".k-widget")[0]!=Y.wrapper[0]){return}if(V.is("."+i+(!R?",."+c:""))){return true}U=W.data(g)||(T&&(T.charAt(T.length-1)=="#"||T.indexOf("#"+Y.element[0].id+"-")!=-1));X=!T||U;if(Y.tabGroup.children("[data-animating]").length){return X}if(Y.trigger(G,{item:V[0],contentElement:S[0]})){return true}if(X===false){return}if(R&&V.is("."+c)){Y.deactivateTab(V);return true}if(Y.activateTab(V)){X=true}return X},deactivateTab:function(V){var W=this,S=W.options.animation,R=S.open,T=n({},S.close),U=T&&"effects" in T;V=W.tabGroup.find(V);T=n(U?T:n({reverse:true},R),{hide:true});if(v.size(R.effects)){V.kendoAddClass(h,{duration:R.duration});V.kendoRemoveClass(c,{duration:R.duration})}else{V.addClass(h);V.removeClass(c)}V.removeAttr("aria-selected");W.contentAnimators.filter("."+c).kendoStop(true,true).kendoAnimate(T).removeClass(c).attr("aria-hidden",true)},activateTab:function(Z){Z=this.tabGroup.find(Z);var af=this,S=af.options.animation,R=S.open,T=n({},S.close),X=T&&"effects" in T,ab=Z.parent().children(),ac=ab.filter("."+c),aa=ab.index(Z);T=n(X?T:n({reverse:true},R),{hide:true});if(v.size(R.effects)){ac.kendoRemoveClass(c,{duration:T.duration});Z.kendoRemoveClass(r,{duration:T.duration})}else{ac.removeClass(c);Z.removeClass(r)}var U=af.contentAnimators;if(af.inRequest){af.xhr.abort();af.inRequest=false}if(U.length===0){ac.removeClass(H);Z.addClass(H).css("z-index");Z.addClass(c);af._current(Z);af.trigger("change");return false}var ag=U.filter("."+c),W=af.contentHolder(aa),V=W.closest(".k-content");if(W.length===0){ag.removeClass(c).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(T);return false}Z.attr("data-animating",true);var Y=(Z.children("."+y).data(g)||false)&&W.is(k),ae=function(){ac.removeClass(H);Z.addClass(H).css("z-index");if(v.size(R.effects)){ac.kendoAddClass(h,{duration:R.duration});Z.kendoAddClass(c,{duration:R.duration})}else{ac.addClass(h);Z.addClass(c)}ac.removeAttr("aria-selected");Z.attr("aria-selected",true);af._current(Z);V.addClass(c).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(n({init:function(){af.trigger(b,{item:Z[0],contentElement:W[0]})}},R,{complete:function(){Z.removeAttr("data-animating")}}))},ad=function(){if(!Y){ae();af.trigger("change")}else{Z.removeAttr("data-animating");af.ajaxRequest(Z,W,function(){Z.attr("data-animating",true);ae();af.trigger("change")})}};ag.removeClass(c);ag.attr("aria-hidden",true);ag.attr("aria-expanded",false);if(ag.length){ag.kendoStop(true,true).kendoAnimate(n({complete:ad},T))}else{ad()}return true},contentElement:function(U){if(isNaN(U-0)){return N}var R=this.contentElements&&this.contentElements[0]&&!v.kineticScrollNeeded?this.contentElements:this.contentAnimators,T=new RegExp("-"+(U+1)+"$");if(R){for(var S=0,V=R.length;S<V;S++){if(T.test(R.closest(".k-content")[S].id)){return R[S]}}}return N},contentHolder:function(S){var R=a(this.contentElement(S)),T=R.children(".km-scroll-container");return v.support.touch&&T[0]?T:R},ajaxRequest:function(U,S,R,Z){U=this.tabGroup.find(U);if(U.find(".k-loading").length){return}var Y=this,V=U.find("."+y),T={},X=null,W=setTimeout(function(){X=a("<span class='k-icon k-loading'/>").prependTo(V)},100);Z=Z||V.data(g)||V.attr(s);Y.inRequest=true;Y.xhr=a.ajax({type:"GET",cache:false,url:Z,dataType:"html",data:T,error:function(ab,aa){if(Y.trigger("error",{xhr:ab,status:aa})){this.complete()}},complete:function(){Y.inRequest=false;clearTimeout(W);if(X!==null){X.remove()}},success:function(ab){try{S.html(ab)}catch(ac){var aa=window.console;if(aa&&aa.error){aa.error(ac.name+": "+ac.message+" in "+Z)}this.error(this.xhr,"error")}if(R){R.call(Y,S)}Y.trigger(f,{item:U[0],contentElement:S[0]})}})}});n(I,{renderItem:function(T){T=n({tabStrip:{},group:{}},T);var R=K.empty,S=T.item;return K.item(n(T,{image:S.imageUrl?K.image:R,sprite:S.spriteCssClass?K.sprite:R,itemWrapper:K.itemWrapper},F))},renderContent:function(R){return K.content(n(R,F))}});v.ui.plugin(I)})(window.kendo.jQuery);kendo_module({id:"timepicker",name:"TimePicker",category:"web",description:"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",depends:["popup"]});(function(a,U){var z=window.kendo,A=z.keys,b=z._activeElement,r=z._extractFormat,P=z.support,i=P.browser,T=z.ui,V=T.Widget,H="open",l="close",j="change",G=".kendoTimePicker",k="click"+G,n="k-state-default",o="disabled",K="readonly",B="li",N="<span/>",s="k-state-focused",u="k-state-hover",v="mouseenter"+G+" mouseleave"+G,C="mousedown"+G,E=60000,D=86400000,L="k-state-selected",O="k-state-disabled",h="aria-selected",e="aria-expanded",f="aria-hidden",d="aria-disabled",g="aria-readonly",c="aria-activedescendant",w="id",x=a.isArray,q=a.extend,J=a.proxy,m=Date,S=new m();S=new m(S.getFullYear(),S.getMonth(),S.getDate(),0,0,0);var R=function(X){var Y=this,W=X.id;Y.options=X;Y.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:P.kineticScrollNeeded?"":"auto"}).on(k,B,J(Y._click,Y)).on("mouseenter"+G,B,function(){a(this).addClass(u)}).on("mouseleave"+G,B,function(){a(this).removeClass(u)});Y.list=a("<div class='k-list-container'/>").append(Y.ul).on(C,I);if(W){Y._timeViewID=W+"_timeview";Y._optionID=W+"_option_selected";Y.ul.attr(w,Y._timeViewID)}Y._popup();Y.template=z.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};R.prototype={current:function(X){var Y=this,W=Y.options.active;if(X!==U){if(Y._current){Y._current.removeClass(L).removeAttr(h).removeAttr(w)}if(X){X=a(X).addClass(L).attr(w,Y._optionID).attr(h,true);Y.scroll(X[0])}Y._current=X;if(W){W(X)}}else{return Y._current}},close:function(){this.popup.close()},destroy:function(){var W=this;W.ul.off(G);W.list.off(G);W.popup.destroy()},open:function(){var W=this;if(!W.ul[0].firstChild){W.bind()}W.popup.open();if(W._current){W.scroll(W._current[0])}},dataBind:function(X){var ae=this,ac=ae.options,Y=ac.format,af=z.toString,ad=ae.template,ab=X.length,aa=0,W,Z="";for(;aa<ab;aa++){W=X[aa];if(y(W,ac.min,ac.max)){Z+=ad(af(W,Y,ac.culture))}}ae._html(Z,ab)},refresh:function(){var an=this,aj=an.options,W=aj.format,ai=p(),Z=ai<0,ad=aj.min,ac=aj.max,ag=t(ad),af=t(ac),ae=aj.interval*E,ao=z.toString,am=an.template,ak=new m(+ad),al=ak.getDate(),ah,aa,Y=0,ab,X="";if(Z){ab=(D+(ai*E))/ae}else{ab=D/ae}if(ag!=af){if(ag>af){af+=D}ab=((af-ag)/ae)+1}aa=parseInt(ab,10);for(;Y<ab;Y++){if(Y){M(ak,ae,Z)}if(af&&aa==Y){ah=t(ak);if(al<ak.getDate()){ah+=D}if(ah>af){ak=new m(+ac)}}X+=am(ao(ak,W,aj.culture))}an._html(X,ab)},bind:function(){var X=this,W=X.options.dates;if(W&&W[0]){X.dataBind(W)}else{X.refresh()}},_html:function(W,X){var Y=this;Y.ul[0].innerHTML=W;Y._height(X);Y.current(null);Y.select(Y._value)},scroll:function(X){if(!X){return}var aa=this.ul[0],Z=X.offsetTop,Y=X.offsetHeight,ac=aa.scrollTop,ab=aa.clientHeight,W=Z+Y;aa.scrollTop=ac>Z?Z:W>(ac+ab)?W-ab:ac},select:function(X){var Z=this,Y=Z.options,W=Z._current;if(X instanceof Date){X=z.toString(X,Y.format,Y.culture)}if(typeof X==="string"){if(!W||W.text()!==X){X=a.grep(Z.ul[0].childNodes,function(aa){return(aa.textContent||aa.innerText)==X});X=X[0]?X:null}else{X=W}}Z.current(X)},toggle:function(){var W=this;if(W.popup.visible()){W.close()}else{W.open()}},value:function(X){var W=this;W._value=X;if(W.ul[0].firstChild){W.select(X)}},_click:function(W){var Y=this,X=a(W.currentTarget);if(!W.isDefaultPrevented()){Y.select(X);Y.options.change(X.text(),true);Y.close()}},_height:function(X){if(X){var aa=this,Y=aa.list,Z=Y.parent(".k-animation-container"),W=aa.options.height;Y.add(Z).show().height(aa.ul[0].scrollHeight>W?W:"auto").hide()}},_parse:function(Z){var Y=this,X=Y.options,W=Y._value||S;if(Z instanceof m){return Z}Z=z.parseDate(Z,X.parseFormats,X.culture);if(Z){Z=new m(W.getFullYear(),W.getMonth(),W.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds())}return Z},_adjustListWidth:function(){var Y=this.list,Z=Y[0].style.width,aa=this.options.anchor,W,X;if(!Y.data("width")&&Z){return}W=window.getComputedStyle?window.getComputedStyle(aa[0],null):0;X=W?parseFloat(W.width):aa.outerWidth();if(W&&(i.mozilla||i.msie)){X+=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight)+parseFloat(W.borderLeftWidth)+parseFloat(W.borderRightWidth)}Z=X-(Y.outerWidth()-Y.width());Y.css({fontFamily:aa.css("font-family"),width:Z}).data("width",Z)},_popup:function(){var Z=this,X=Z.list,Y=Z.options,W=Y.anchor;Z.popup=new T.Popup(X,q(Y.popup,{anchor:W,open:Y.open,close:Y.close,animation:Y.animation,isRtl:P.isRtl(Y.anchor)}));z.touchScroller(Z.popup.element)},move:function(Y){var aa=this,Z=Y.keyCode,ab=aa.ul[0],W=aa._current,X=Z===A.DOWN;if(Z===A.UP||X){if(Y.altKey){aa.toggle(X);return}else{if(X){W=W?W[0].nextSibling:ab.firstChild}else{W=W?W[0].previousSibling:ab.lastChild}}if(W){aa.select(W)}aa.options.change(aa._current.text());Y.preventDefault()}else{if(Z===A.ENTER||Z===A.TAB||Z===A.ESC){Y.preventDefault();if(W){aa.options.change(W.text(),true)}aa.close()}}}};function M(W,aa,X){var Y=W.getTimezoneOffset(),Z;W.setTime(W.getTime()+aa);if(!X){Z=W.getTimezoneOffset()-Y;W.setTime(W.getTime()+Z*E)}}function p(){var Y=new m(),W=new m(Y.getFullYear(),Y.getMonth(),Y.getDate(),0,0,0),X=new m(Y.getFullYear(),Y.getMonth(),Y.getDate(),12,0,0);return -1*(W.getTimezoneOffset()-X.getTimezoneOffset())}function t(W){return W.getHours()*60*E+W.getMinutes()*E+W.getSeconds()*1000+W.getMilliseconds()}function y(ab,X,W){var Z=t(X),Y=t(W),aa;if(!ab||Z==Y){return true}aa=t(ab);if(Z>aa){aa+=D}if(Y<Z){Y+=D}return aa>=Z&&aa<=Y}R.getMilliseconds=t;z.TimeView=R;var Q=V.extend({init:function(X,Y){var Z=this,ab,aa,W;V.fn.init.call(Z,X,Y);X=Z.element;Y=Z.options;F(Y);Z._wrapper();Z.timeView=aa=new R(q({},Y,{id:X.attr(w),anchor:Z.wrapper,format:Y.format,change:function(ad,ac){if(ac){Z._change(ad)}else{X.val(ad)}},open:function(ac){Z.timeView._adjustListWidth();if(Z.trigger(H)){ac.preventDefault()}else{X.attr(e,true);ab.attr(f,false)}},close:function(ac){if(Z.trigger(l)){ac.preventDefault()}else{X.attr(e,false);ab.attr(f,true)}},active:function(ac){X.removeAttr(c);if(ac){X.attr(c,aa._optionID)}}}));ab=aa.ul;Z._icon();Z._reset();X[0].setAttribute("type","text");X.addClass("k-input").attr({role:"textbox","aria-haspopup":true,"aria-expanded":false,"aria-owns":aa._timeViewID});W=X.is("[disabled]");if(W){Z.enable(false)}else{Z.readonly(X.is("[readonly]"))}Z._old=Z._update(Y.value||Z.element.val());Z._oldText=X.val();z.notify(Z)},options:{name:"TimePicker",min:S,max:S,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[H,l,j],setOptions:function(W){var X=this,Y=X.timeView,Z=Y.options;V.fn.setOptions.call(X,W);F(X.options);Y.options=q(Z,X.options,{active:Z.active,change:Z.change,close:Z.close,open:Z.open});Y.ul[0].innerHTML=""},dataBind:function(W){if(x(W)){this.timeView.dataBind(W)}},_editable:function(Z){var ab=this,X=Z.disable,aa=Z.readonly,W=ab._arrow.off(G),Y=ab.element.off(G),ac=ab._inputWrapper.off(G);if(!aa&&!X){ac.addClass(n).removeClass(O).on(v,ab._toggleHover);Y.removeAttr(o).removeAttr(K).attr(d,false).attr(g,false).on("keydown"+G,J(ab._keydown,ab)).on("blur"+G,J(ab._blur,ab)).on("focus"+G,function(){ab._inputWrapper.addClass(s)});W.on(k,J(ab._click,ab)).on(C,I)}else{ac.addClass(X?O:n).removeClass(X?n:O);Y.attr(o,X).attr(K,aa).attr(d,X).attr(g,aa)}},readonly:function(W){this._editable({readonly:W===U?true:W,disable:false})},enable:function(W){this._editable({readonly:false,disable:!(W=W===U?true:W)})},destroy:function(){var W=this;V.fn.destroy.call(W);W.timeView.destroy();W.element.off(G);W._arrow.off(G);W._inputWrapper.off(G);if(W._form){W._form.off("reset",W._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(W){return this._option("min",W)},max:function(W){return this._option("max",W)},value:function(X){var W=this;if(X===U){return W._value}W._old=W._update(X);if(W._old===null){W.element.val("")}W._oldText=W.element.val()},_blur:function(){var W=this,X=W.element.val();W.close();if(X!==W._oldText){W._change(X)}W._inputWrapper.removeClass(s)},_click:function(){var X=this,W=X.element;X.timeView.toggle();if(!P.touch&&W[0]!==b()){W.focus()}},_change:function(X){var W=this;X=W._update(X);if(+W._old!=+X){W._old=X;W._oldText=W.element.val();W.trigger(j);W.element.trigger(j)}},_icon:function(){var Y=this,X=Y.element,W;W=X.next("span.k-select");if(!W[0]){W=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(X)}Y._arrow=W.attr({role:"button","aria-controls":Y.timeView._timeViewID})},_keydown:function(W){var Y=this,X=W.keyCode,Z=Y.timeView,aa=Y.element.val();if(Z.popup.visible()||W.altKey){Z.move(W)}else{if(X===A.ENTER&&aa!==Y._oldText){Y._change(aa)}}},_option:function(W,Z){var Y=this,X=Y.options;if(Z===U){return X[W]}Z=Y.timeView._parse(Z);if(!Z){return}Z=new m(+Z);X[W]=Z;Y.timeView.options[W]=Z;Y.timeView.bind()},_toggleHover:function(W){a(W.currentTarget).toggleClass(u,W.type==="mouseenter")},_update:function(aa){var Y=this,X=Y.options,Z=Y.timeView,W=Z._parse(aa);if(!y(W,X.min,X.max)){W=null}Y._value=W;Y.element.val(W?z.toString(W,X.format,X.culture):aa);Z.value(W);return W},_wrapper:function(){var X=this,W=X.element,Y;Y=W.parents(".k-timepicker");if(!Y[0]){Y=W.wrap(N).parent().addClass("k-picker-wrap k-state-default");Y=Y.wrap(N).parent()}Y[0].style.cssText=W[0].style.cssText;X.wrapper=Y.addClass("k-widget k-timepicker k-header").addClass(W[0].className);W.css({width:"100%",height:W[0].style.height});X._inputWrapper=a(Y[0].firstChild)},_reset:function(){var Z=this,W=Z.element,Y=W.attr("form"),X=Y?a("#"+Y):W.closest("form");if(X[0]){Z._resetHandler=function(){Z.value(W[0].defaultValue)};Z._form=X.on("reset",Z._resetHandler)}}});function F(W){var X=W.parseFormats;W.format=r(W.format||z.getCulture(W.culture).calendars.standard.patterns.t);X=x(X)?X:[X];X.splice(0,0,W.format);W.parseFormats=X}function I(W){W.preventDefault()}T.plugin(Q)})(window.kendo.jQuery);kendo_module({id:"datetimepicker",name:"DateTimePicker",category:"web",description:"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",depends:["datepicker","timepicker"]});(function(a,R){var z=window.kendo,O=z.TimeView,I=z.parseDate,b=z._activeElement,s=z._extractFormat,i=z.calendar,y=i.isInRange,L=i.restrictValue,x=i.isEqualDatePart,u=O.getMilliseconds,Q=z.ui,S=Q.Widget,H="open",l="close",j="change",G=".kendoDateTimePicker",k="click"+G,q="disabled",K="readonly",p="k-state-default",t="k-state-focused",v="k-state-hover",N="k-state-disabled",w="mouseenter"+G+" mouseleave"+G,E="mousedown"+G,D="month",M="<span/>",c="aria-activedescendant",e="aria-expanded",f="aria-hidden",g="aria-owns",d="aria-disabled",h="aria-readonly",m=Date,C=new m(1900,0,1),B=new m(2099,11,31),o={view:"date"},P={view:"time"},r=a.extend;var n=S.extend({init:function(U,V){var W=this,T;S.fn.init.call(W,U,V);U=W.element;V=W.options;F(V);W._wrapper();W._views();W._icons();W._reset();W._template();U[0].setAttribute("type","text");U.addClass("k-input").attr({role:"textbox","aria-haspopup":true,"aria-expanded":false});W._midnight=u(V.min)+u(V.max)===0;T=U.is("[disabled]");if(T){W.enable(false)}else{W.readonly(U.is("[readonly]"))}W._old=W._update(V.value||W.element.val());W._oldText=U.val();z.notify(W)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new m(C),max:new m(B),interval:30,height:200,footer:"",start:D,depth:D,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[H,l,j],setOptions:function(X){var Y=this,U=Y.dateView.options,Z=Y.timeView.options,W,V,T;S.fn.setOptions.call(Y,X);F(Y.options);X=Y.options;W=X.min;V=X.max;T=X.value||Y._value||Y.dateView._current;if(W&&!x(W,T)){W=new m(C)}if(V&&!x(V,T)){V=new m(B)}r(U,X,{change:U.change,close:U.close,open:U.open});r(Z,X,{format:X.timeFormat,active:Z.active,change:Z.change,close:Z.close,open:Z.open,min:W,max:V});Y.timeView.ul[0].innerHTML=""},_editable:function(W){var Y=this,V=Y.element.off(G),T=Y._dateIcon.off(G),Z=Y._timeIcon.off(G),aa=Y._inputWrapper.off(G),X=W.readonly,U=W.disable;if(!X&&!U){aa.addClass(p).removeClass(N).on(w,Y._toggleHover);V.removeAttr(q).removeAttr(K).attr(d,false).attr(h,false).on("keydown"+G,a.proxy(Y._keydown,Y)).on("focus"+G,function(){Y._inputWrapper.addClass(t)}).on("blur"+G,function(){Y._inputWrapper.removeClass(t);if(V.val()!==Y._oldText){Y._change(V.val())}Y.close("date");Y.close("time")});T.on(E,J).on(k,function(){Y.toggle("date");if(!z.support.touch&&V[0]!==b()){V.focus()}});Z.on(E,J).on(k,function(){Y.toggle("time");if(!z.support.touch&&V[0]!==b()){V.focus()}})}else{aa.addClass(U?N:p).removeClass(U?p:N);V.attr(q,U).attr(K,X).attr(d,U).attr(h,X)}},readonly:function(T){this._editable({readonly:T===R?true:T,disable:false})},enable:function(T){this._editable({readonly:false,disable:!(T=T===R?true:T)})},destroy:function(){var T=this;S.fn.destroy.call(T);T.dateView.destroy();T.timeView.destroy();T.element.off(G);T._dateIcon.off(G);T._timeIcon.off(G);T._inputWrapper.off(G);if(T._form){T._form.off("reset",T._resetHandler)}},close:function(T){if(T!=="time"){T="date"}this[T+"View"].close()},open:function(T){if(T!=="time"){T="date"}this[T+"View"].open()},min:function(T){return this._option("min",T)},max:function(T){return this._option("max",T)},toggle:function(U){var T="timeView";if(U!=="time"){U="date"}else{T="dateView"}this[U+"View"].toggle();this[T].close()},value:function(U){var T=this;if(U===R){return T._value}T._old=T._update(U);if(T._old===null){T.element.val("")}T._oldText=T.element.val()},_change:function(U){var T=this;U=T._update(U);if(+T._old!=+U){T._old=U;T._oldText=T.element.val();T.trigger(j);T.element.trigger(j)}},_option:function(U,Z){var W=this,V=W.options,X=W.timeView,Y=X.options,T=W._value||W._old;if(Z===R){return V[U]}Z=I(Z,V.parseFormats,V.culture);if(!Z){return}V[U]=new m(+Z);W.dateView[U](Z);W._midnight=u(V.min)+u(V.max)===0;if(T&&x(Z,T)){if(W._midnight&&U=="max"){Y[U]=B;X.dataBind([B]);return}Y[U]=Z}else{Y.max=B;Y.min=C}X.bind()},_toggleHover:function(T){a(T.currentTarget).toggleClass(v,T.type==="mouseenter")},_update:function(af){var ac=this,Z=ac.options,X=Z.min,W=Z.max,U=Z.dates,ad=ac.timeView,T=I(af,Z.parseFormats,Z.culture),aa,ae,Y,ab,V;if(+T===+ac._value){V=z.toString(T,Z.format,Z.culture);if(V!==af){ac.element.val(T===null?af:V)}return T}if(T!==null&&x(T,X)){T=L(T,X,W)}else{if(!y(T,X,W)){T=null}}ac._value=T;ad.value(T);ac.dateView.value(T);if(T){Y=ac._old;ae=ad.options;if(U[0]){U=a.grep(U,function(ag){return x(T,ag)});if(U[0]){ad.dataBind(U);ab=true}}if(!ab){if(x(T,X)){ae.min=X;ae.max=A(Z.interval);aa=true}if(x(T,W)){if(ac._midnight){ad.dataBind([B]);ab=true}else{ae.max=W;if(!aa){ae.min=C}aa=true}}}if(!ab&&((!Y&&aa)||(Y&&!x(Y,T)))){if(!aa){ae.max=B;ae.min=C}ad.bind()}}ac.element.val(T?z.toString(T,Z.format,Z.culture):af);ac._updateARIA(T);return T},_keydown:function(U){var W=this,T=W.dateView,X=W.timeView,Y=W.element.val(),V=T.popup.visible();if(U.altKey&&U.keyCode===z.keys.DOWN){W.toggle(V?"time":"date")}else{if(V){T.move(U);W._updateARIA(T._current)}else{if(X.popup.visible()){X.move(U)}else{if(U.keyCode===z.keys.ENTER&&Y!==W._oldText){W._change(Y)}}}}},_views:function(){var Z=this,W=Z.element,Y=Z.options,X=W.attr("id"),U,aa,V,ab,T;Z.dateView=U=new z.DateView(r({},Y,{id:X,anchor:Z.wrapper,change:function(){var ag=U.calendar.value(),af=+ag,ae=+Y.min,ad=+Y.max,ac;if(af===ae||af===ad){ac=new m(+Z._value);ac.setFullYear(ag.getFullYear(),ag.getMonth(),ag.getDate());if(y(ac,ae,ad)){ag=ac}}Z._change(ag);Z.close("date")},close:function(ac){if(Z.trigger(l,o)){ac.preventDefault()}else{W.attr(e,false);V.attr(f,true);if(!aa.popup.visible()){W.removeAttr(g)}}},open:function(ac){if(Z.trigger(H,o)){ac.preventDefault()}else{if(Z.element.val()!==Z._oldText){T=I(W.val(),Y.parseFormats,Y.culture);if(!T){Z.dateView.value(T)}else{Z.dateView._current=T;Z.dateView.calendar._focus(T)}}V.attr(f,false);W.attr(e,true).attr(g,U._dateViewID)}}}));V=U.div;Z.timeView=aa=new O({id:X,value:Y.value,anchor:Z.wrapper,animation:Y.animation,format:Y.timeFormat,culture:Y.culture,height:Y.height,interval:Y.interval,min:new m(C),max:new m(B),parseFormats:Y.parseFormats,change:function(ad,ac){ad=aa._parse(ad);if(ad<Y.min){ad=new m(+Y.min);aa.options.min=ad}else{if(ad>Y.max){ad=new m(+Y.max);aa.options.max=ad}}if(ac){Z._timeSelected=true;Z._change(ad)}else{W.val(z.toString(ad,Y.format,Y.culture));U.value(ad);Z._updateARIA(ad)}},close:function(ac){if(Z.trigger(l,P)){ac.preventDefault()}else{ab.attr(f,true);W.attr(e,false);if(!U.popup.visible()){W.removeAttr(g)}}},open:function(ac){aa._adjustListWidth();if(Z.trigger(H,P)){ac.preventDefault()}else{ab.attr(f,false);W.attr(e,true).attr(g,aa._timeViewID)}},active:function(ac){W.removeAttr(c);if(ac){W.attr(c,aa._optionID)}}});ab=aa.ul},_icons:function(){var V=this,T=V.element,U;U=T.next("span.k-select");if(!U[0]){U=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(T)}U=U.children();V._dateIcon=U.eq(0).attr({role:"button","aria-controls":V.dateView._dateViewID});V._timeIcon=U.eq(1).attr({role:"button","aria-controls":V.timeView._timeViewID})},_wrapper:function(){var U=this,T=U.element,V;V=T.parents(".k-datetimepicker");if(!V[0]){V=T.wrap(M).parent().addClass("k-picker-wrap k-state-default");V=V.wrap(M).parent()}V[0].style.cssText=T[0].style.cssText;T.css({width:"100%",height:T[0].style.height});U.wrapper=V.addClass("k-widget k-datetimepicker k-header").addClass(T[0].className);U._inputWrapper=a(V[0].firstChild)},_reset:function(){var W=this,T=W.element,V=T.attr("form"),U=V?a("#"+V):T.closest("form");if(U[0]){W._resetHandler=function(){W.value(T[0].defaultValue)};W._form=U.on("reset",W._resetHandler)}},_template:function(){this._ariaTemplate=z.template(this.options.ARIATemplate)},_updateARIA:function(T){this.element.attr("aria-label",this._ariaTemplate({current:T}))}});function A(U){var T=new Date(2100,0,1);T.setMinutes(-U);return T}function J(T){T.preventDefault()}function F(T){var U=z.getCulture(T.culture).calendars.standard.patterns,V;T.format=s(T.format||U.g);T.timeFormat=V=s(T.timeFormat||U.t);z.DateView.normalize(T);if(a.inArray(V,T.parseFormats)===-1){T.parseFormats.splice(1,0,V)}}Q.plugin(n)})(window.kendo.jQuery);kendo_module({id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data","draganddrop"]});(function(a,P){var x=window.kendo,O=x.ui,k=x.data,s=a.extend,K=x.template,v=a.isArray,U=O.Widget,t=k.HierarchicalDataSource,G=a.proxy,y=x.keys,F=".kendoTreeView",H="select",B="navigate",r="expand",e="change",q="error",g="checked",i="collapse",o="dragstart",m="drag",p="drop",n="dragend",l="dataBound",h="click",S="visibility",Q="undefined",z="k-state-hover",A="k-treeview",T=":visible",C=".k-item",I="string",c="aria-selected",b="aria-disabled",M,J,D,E,d={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},w=function(V){return(typeof HTMLElement==="object"?V instanceof HTMLElement:V&&typeof V==="object"&&V.nodeType===1&&typeof V.nodeName===I)};function j(V){return function(W){var X=W.children(".k-animation-container");if(!X.length){X=W}return X.children(V)}}function L(V){return x.template(V,{useWithBlock:false})}J=j(".k-group");D=j(".k-group,.k-content");E=function(V){return V.children("div").children(".k-icon")};function f(V){return V.children("div").find(".k-checkbox:first :checkbox")}function u(V){return function(X,Z){Z=Z.closest(C);var W=Z.parent(),Y;if(W.parent().is("li")){Y=W.parent()}return this._dataSourceMove(X,W,Y,function(aa,ab){return this._insert(aa.data(),ab,Z.index()+V)})}}function R(Z){var ac=Z.children("div"),X=Z.children("ul"),ab=ac.children(".k-icon"),V=Z.children(":checkbox"),Y=ac.children(".k-in"),W,aa;if(Z.hasClass("k-treeview")){return}if(!ac.length){ac=a("<div />").prependTo(Z)}if(!ab.length&&X.length){ab=a("<span class='k-icon' />").prependTo(ac)}else{if(!X.length||!X.children().length){ab.remove();X.remove()}}if(V.length){a("<span class='k-checkbox' />").appendTo(ac).append(V)}if(!Y.length&&ac.length){Y=a("<span class='k-in' />").appendTo(ac)[0];W=ac[0].nextSibling;Y=ac.find(".k-in")[0];while(W&&W.nodeName.toLowerCase()!="ul"){aa=W;W=W.nextSibling;if(aa.nodeType==3){aa.nodeValue=a.trim(aa.nodeValue)}Y.appendChild(aa)}}}M=U.extend({init:function(W,aa){var ab=this,V,Y=false,X=aa&&!!aa.dataSource,Z;if(v(aa)){V=true;aa={dataSource:aa}}if(aa&&typeof aa.loadOnDemand==Q&&v(aa.dataSource)){aa.loadOnDemand=false}U.prototype.init.call(ab,W,aa);W=ab.element;aa=ab.options;Z=(W.is("ul")&&W)||(W.hasClass(A)&&W.children("ul"));Y=!X&&Z.length;if(Y){aa.dataSource.list=Z}ab._animation();ab._accessors();ab._templates();if(!W.hasClass(A)){ab._wrapper();if(Z){ab.root=W;ab._group(ab.wrapper)}}else{ab.wrapper=W;ab.root=W.children("ul").eq(0)}ab._tabindex();if(!ab.wrapper.filter("[role=tree]").length){ab.wrapper.attr("role","tree")}ab._dataSource(Y);ab._attachEvents();ab._dragging();if(!Y){if(aa.autoBind){ab._progress(true);ab.dataSource.fetch()}}else{ab._attachUids()}if(aa.checkboxes&&aa.checkboxes.checkChildren){ab.updateIndeterminate()}if(ab.element[0].id){ab._ariaId=x.format("{0}_tv_active",ab.element[0].id)}},_attachEvents:function(){var X=this,V=".k-in:not(.k-state-selected,.k-state-disabled)",W="mouseenter";X.wrapper.on(W+F,".k-in.k-state-selected",function(Y){Y.preventDefault()}).on(W+F,V,function(){a(this).addClass(z)}).on("mouseleave"+F,V,function(){a(this).removeClass(z)}).on(h+F,V,G(X._click,X)).on("dblclick"+F,".k-in:not(.k-state-disabled)",G(X._toggleButtonClick,X)).on(h+F,".k-plus,.k-minus",G(X._toggleButtonClick,X)).on("keydown"+F,G(X._keydown,X)).on("focus"+F,G(X._focus,X)).on("blur"+F,G(X._blur,X)).on("mousedown"+F,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",G(X._mousedown,X)).on("change"+F,".k-checkbox :checkbox",G(X._checkboxChange,X)).on("click"+F,".k-checkbox :checkbox",G(X._checkboxClick,X)).on("click"+F,".k-request-retry",G(X._retryRequest,X)).on("click"+F,function(Y){if(!a(Y.target).is(":kendoFocusable")){X.focus()}})},_checkboxClick:function(W){var V=a(W.target);if(V.data("indeterminate")){V.data("indeterminate",false).prop("indeterminate",false).prop(g,true);this._checkboxChange(W)}},_attachUids:function(X,W){var Y=this,V,Z=x.attr("uid");X=X||Y.root;W=W||Y.dataSource;V=W.view();X.children("li").each(function(aa,ab){ab=a(ab).attr(Z,V[aa].uid);ab.attr("role","treeitem");Y._attachUids(ab.children("ul"),V[aa].children)})},_animation:function(){var W=this.options,V=W.animation;if(V===false){V={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!V.collapse||!("effects" in V.collapse)){V.collapse=s({reverse:true},V.expand)}}s(V.collapse,{hide:true});W.animation=V},_dragging:function(){var W=this.options.dragAndDrop;var V=this.dragging;if(W&&!V){this.dragging=new N(this)}else{if(!W&&V){V.destroy();this.dragging=null}}},_templates:function(){var X=this,W=X.options,V=G(X._fieldAccessor,X);if(W.template&&typeof W.template==I){W.template=K(W.template)}else{if(!W.template){W.template=L("# var text = "+V("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")}}X._checkboxes();X.templates={wrapperCssClass:function(Y,aa){var ab="k-item",Z=aa.index;if(Y.firstLevel&&Z===0){ab+=" k-first"}if(Z==Y.length-1){ab+=" k-last"}return ab},cssClass:function(Y,ab){var ac="",aa=ab.index,Z=Y.length-1;if(Y.firstLevel&&aa===0){ac+="k-top "}if(aa===0&&aa!=Z){ac+="k-top"}else{if(aa==Z){ac+="k-bot"}else{ac+="k-mid"}}return ac},textClass:function(Y){var Z="k-in";if(Y.enabled===false){Z+=" k-state-disabled"}if(Y.selected===true){Z+=" k-state-selected"}return Z},toggleButtonClass:function(Y){var Z="k-icon";if(Y.expanded!==true){Z+=" k-plus"}else{Z+=" k-minus"}if(Y.enabled===false){Z+="-disabled"}return Z},groupAttributes:function(Y){return Y.expanded!==true?" style='display:none'":""},groupCssClass:function(Z){var Y="k-group";if(Z.firstLevel){Y+=" k-treeview-lines"}return Y},dragClue:L("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:L("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:L("# var imageUrl = "+V("imageUrl")+"(data.item); ## var spriteCssClass = "+V("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:L("# var item = data.item, r = data.r; ## var url = "+V("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:L("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+x.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:L("<div class='k-icon k-loading' /> Loading..."),retry:L("Request failed. <button class='k-button k-request-retry'>Retry</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(V){this.options.dataSource=V;this._dataSource();this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=G(this.refresh,this);this._errorHandler=G(this._error,this);this.dataSource.bind(e,this._refreshHandler);this.dataSource.bind(q,this._errorHandler)},_unbindDataSource:function(){var V=this.dataSource;if(V){V.unbind(e,this._refreshHandler);V.unbind(q,this._errorHandler)}},_dataSource:function(Y){var Z=this,W=Z.options,V=W.dataSource;function X(aa){for(var ab=0;ab<aa.length;ab++){aa[ab]._initChildren();aa[ab].children.fetch();X(aa[ab].children.view())}}V=v(V)?{data:V}:V;Z._unbindDataSource();if(!V.fields){V.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}Z.dataSource=V=t.create(V);if(Y){V.fetch();X(V.view())}Z._bindDataSource()},events:[o,m,p,n,l,r,i,H,e,B],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:false,checkboxes:false,autoBind:true,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var aa=this,Y=aa.options,X,W,Z,V=aa.element;for(X in d){W=Y[d[X]];Z=V.attr(x.attr(X+"-field"));if(!W&&Z){W=Z}if(!W){W=X}if(!v(W)){W=[W]}Y[d[X]]=W}},_fieldAccessor:function(X){var W=this.options[d[X]],V=W.length,Y="(function(item) {";if(V===0){Y+="return item['"+X+"'];"}else{Y+="var levels = ["+a.map(W,function(Z){return"function(d){ return "+x.expr(Z)+"}"}).join(",")+"];";Y+="return levels[Math.min(item.level(), "+V+"-1)](item)"}Y+="})";return Y},setOptions:function(V){U.fn.setOptions.call(this,V);this._animation();this._dragging();this._templates()},_trigger:function(V,W){return this.trigger(V,{node:W.closest(C)[0]})},_setChecked:function(V,Y){if(!V||!a.isFunction(V.view)){return}for(var W=0,X=V.view();W<X.length;W++){X[W][g]=Y;if(X[W].children){this._setChecked(X[W].children,Y)}}},_setIndeterminate:function(Z){var W=J(Z),aa,Y,V=true,X;if(!W.length){return}aa=f(W.children());Y=aa.length;if(!Y){return}else{if(Y>1){for(X=1;X<Y;X++){if(aa[X].checked!=aa[X-1].checked||aa[X].indeterminate||aa[X-1].indeterminate){V=false;break}}}else{V=!aa[0].indeterminate}}f(Z).data("indeterminate",!V).prop("indeterminate",!V).prop(g,V&&aa[0].checked)},updateIndeterminate:function(W){W=W||this.wrapper;var X=J(W).children(),V;if(X.length){for(V=0;V<X.length;V++){this.updateIndeterminate(X.eq(V))}this._setIndeterminate(W)}},_bubbleIndeterminate:function(W){var X=this.parent(W),V;if(X.length){this._setIndeterminate(X);V=X.children("div").find(".k-checkbox :checkbox");if(V.prop("indeterminate")===false){this.dataItem(X).set(g,V.prop(g))}else{this.dataItem(X).checked=false}this._bubbleIndeterminate(X)}},_checkboxChange:function(W){var V=a(W.target),X=V.prop(g),Y=V.closest(C);this.dataItem(Y).set(g,X)},_toggleButtonClick:function(V){this.toggle(a(V.target).closest(C))},_mousedown:function(V){var W=a(V.currentTarget).closest(C);this._clickTarget=W;this.current(W)},_focusable:function(V){return V&&V.length&&V.is(":visible")&&!V.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var W=this.select(),V=this._clickTarget;if(x.support.touch){return}if(V&&V.length){W=V}if(!this._focusable(W)){W=this.current()}if(!this._focusable(W)){W=this._nextVisible(a())}this.current(W)},focus:function(){var aa=this.wrapper,Z=aa[0],V=[],Y=[],W=document.documentElement,X;do{Z=Z.parentNode;if(Z.scrollHeight>Z.clientHeight){V.push(Z);Y.push(Z.scrollTop)}}while(Z!=W);aa.focus();for(X=0;X<V.length;X++){V[X].scrollTop=Y[X]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(V){return !V.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(W){var Z=/\bk-treeview\b/,V=/\bk-item\b/,X,Y;if(typeof W==I){W=this.element.find(W)}if(!w(W)){W=W[0]}Y=V.test(W.className);do{W=W.parentNode;if(V.test(W.className)){if(Y){X=W}else{Y=true}}}while(!Z.test(W.className)&&!X);return a(X)},_nextVisible:function(X){var Z=this,V=Z._expanded(X),Y;function W(aa){while(aa.length&&!aa.next().length){aa=Z.parent(aa)}if(aa.next().length){return aa.next()}else{return aa}}if(!X.length||!X.is(":visible")){Y=Z.root.children().eq(0)}else{if(V){Y=J(X).children().first();if(!Y.length){Y=W(X)}}else{Y=W(X)}}if(!Z._enabled(Y)){Y=Z._nextVisible(Y)}return Y},_previousVisible:function(W){var Y=this,V,X;if(!W.length||W.prev().length){if(W.length){X=W.prev()}else{X=Y.root.children().last()}while(Y._expanded(X)){V=J(X).children().last();if(!V.length){break}X=V}}else{X=Y.parent(W)||W}if(!Y._enabled(X)){X=Y._previousVisible(X)}return X},_keydown:function(W){var ac=this,Z=W.keyCode,ab,Y=ac.current(),X=ac._expanded(Y),V=Y.find(".k-checkbox:first :checkbox"),aa=x.support.isRtl(ac.element);if(W.target!=W.currentTarget){return}if((!aa&&Z==y.RIGHT)||(aa&&Z==y.LEFT)){if(X){ab=ac._nextVisible(Y)}else{ac.expand(Y)}}else{if((!aa&&Z==y.LEFT)||(aa&&Z==y.RIGHT)){if(X){ac.collapse(Y)}else{ab=ac.parent(Y);if(!ac._enabled(ab)){ab=P}}}else{if(Z==y.DOWN){ab=ac._nextVisible(Y)}else{if(Z==y.UP){ab=ac._previousVisible(Y)}else{if(Z==y.HOME){ab=ac._nextVisible(a())}else{if(Z==y.END){ab=ac._previousVisible(a())}else{if(Z==y.ENTER){if(!Y.find(".k-in:first").hasClass("k-state-selected")){if(!ac._trigger(H,Y)){ac.select(Y)}}}else{if(Z==y.SPACEBAR&&V.length){V.prop(g,!V.prop(g)).data("indeterminate",false).prop("indeterminate",false);ac._checkboxChange({target:V});ab=Y}}}}}}}}if(ab){W.preventDefault();if(Y[0]!=ab[0]){ac._trigger(B,ab);ac.current(ab)}}},_click:function(W){var aa=this,Y=a(W.currentTarget),V=D(Y.closest(C)),X=Y.attr("href"),Z;if(X){Z=X=="#"||X.indexOf("#"+this.element.id+"-")>=0}else{Z=V.length&&!V.children().length}if(Z){W.preventDefault()}if(!Y.hasClass(".k-state-selected")&&!aa._trigger(H,Y)){aa.select(Y)}},_wrapper:function(){var X=this,V=X.element,Y,W,Z="k-widget k-treeview";if(V.is("ul")){Y=V.wrap("<div />").parent();W=V}else{Y=V;W=Y.children("ul").eq(0)}X.wrapper=Y.addClass(Z);X.root=W},_group:function(Y){var Z=this,V=Y.hasClass(A),W={firstLevel:V,expanded:V||Z._expanded(Y)},X=Y.children("ul");X.addClass(Z.templates.groupCssClass(W)).css("display",W.expanded?"":"none");Z._nodes(X,W)},_nodes:function(W,V){var Z=this,Y=W.children("li"),X;V=s({length:Y.length},V);Y.each(function(aa,ab){ab=a(ab);X={index:aa,expanded:Z._expanded(ab)};R(ab);Z._updateNodeClasses(ab,V,X);Z._group(ab)})},_checkboxes:function(){var X=this.options,V=X.checkboxes,W;if(V||X.checkboxTemplate){if(X.checkboxTemplate){W=X.checkboxTemplate}else{W="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(V.name){W+=" name='"+V.name+"'"}W+=" />"}V=s({template:W},X.checkboxes);if(typeof V.template==I){V.template=K(V.template)}X.checkboxes=V}},_updateNodeClasses:function(X,W,Y){var aa=X.children("div"),V=X.children("ul"),Z=this.templates;if(X.hasClass("k-treeview")){return}Y=Y||{};Y.expanded=typeof Y.expanded!=Q?Y.expanded:this._expanded(X);Y.index=typeof Y.index!=Q?Y.index:X.index();Y.enabled=typeof Y.enabled!=Q?Y.enabled:!aa.children(".k-in").hasClass("k-state-disabled");W=W||{};W.firstLevel=typeof W.firstLevel!=Q?W.firstLevel:X.parent().parent().hasClass(A);W.length=typeof W.length!=Q?W.length:X.parent().children().length;X.removeClass("k-first k-last").addClass(Z.wrapperCssClass(W,Y));aa.removeClass("k-top k-mid k-bot").addClass(Z.cssClass(W,Y));aa.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(Z.textClass(Y));if(V.length||X.attr("data-hasChildren")=="true"){aa.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(Z.toggleButtonClass(Y));V.addClass("k-group")}},_processNodes:function(W,V){var X=this;X.element.find(W).each(function(Y,Z){V.call(X,Y,a(Z).closest(C))})},dataItem:function(W){var X=a(W).closest(C).attr(x.attr("uid")),V=this.dataSource;return V&&V.getByUid(X)},_insertNode:function(af,ab,ah,ac,X){var ai=this,Y=J(ah),aj=Y.children().length+1,W,Z={firstLevel:ah.hasClass(A),expanded:!X,length:aj},ae,aa,ad,ag="",V=function(al,ak){al.appendTo(ak)};for(aa=0;aa<af.length;aa++){ad=af[aa];ad.index=ab+aa;ag+=ai._renderItem({group:Z,item:ad})}ae=a(ag);if(!ae.length){return}if(!Y.length){Y=a(ai._renderGroup({group:Z})).appendTo(ah)}ac(ae,Y);if(ah.hasClass("k-item")){R(ah);ai._updateNodeClasses(ah)}ai._updateNodeClasses(ae.prev().first());ai._updateNodeClasses(ae.next().last());for(aa=0;aa<af.length;aa++){ad=af[aa];if(ad.hasChildren){W=ad.children.data();if(W.length){ai._insertNode(W,ad.index,ae.eq(aa),V,!ai._expanded(ae.eq(aa)))}}}return ae},_updateNode:function(X,ac){var ag=this,Y,ad,ab,Z,aa,W={treeview:ag.options,item:ab},af=false;function V(){af=true}function ae(ah,ai){ah.find(".k-checkbox :checkbox").prop(g,ai).data("indeterminate",false).prop("indeterminate",false)}if(X=="selected"){ab=ac[0];ad=ag.findByUid(ab.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",ab[X]).end();if(ab[X]){ag.current(ad);ad.attr(c,true)}else{ad.attr(c,false)}}else{if(a.inArray(X,ag.options.dataTextField)>=0){af=true}else{W.item=ac[0];W.item.bind("get",V);ag.templates.itemContent(W);W.item.unbind("set",V)}for(Y=0;Y<ac.length;Y++){W.item=ab=ac[Y];if(X=="spriteCssClass"||X=="imageUrl"||af){ag.findByUid(ab.uid).find(">div>.k-in").html(ag.templates.itemContent(W))}if(X==g){ad=ag.findByUid(ab.uid);Z=ab[X];ae(ad.children("div"),Z);if(ag.options.checkboxes.checkChildren){ae(ad.children(".k-group"),Z);ag._setChecked(ab.children,Z);ag._bubbleIndeterminate(ad)}}else{if(X=="expanded"){ag._toggle(ag.findByUid(ab.uid),ab,ab[X])}else{if(X=="enabled"){ad=ag.findByUid(ab.uid);ad.find(".k-checkbox :checkbox").prop("disabled",!ab[X]);aa=!D(ad).is(T);ad.removeAttr(b);if(!ab[X]){if(ab.selected){ab.set("selected",false)}if(ab.expanded){ab.set("expanded",false)}aa=true;ad.removeAttr(c).attr(b,true)}ag._updateNodeClasses(ad,{},{enabled:ab[X],expanded:!aa})}}}}}},refresh:function(Y){var ag=this,af=ag.wrapper,ad=Y.node,V=Y.action,ab=Y.items,aa=Y.index,ae=ag.options,ac=ae.loadOnDemand,X=ae.checkboxes&&ae.checkboxes.checkChildren,Z;function W(ak,al){var aj=J(al),ah=aj.children(),ai=!ag._expanded(al);if(typeof aa==Q){aa=ah.length}ag._insertNode(ak,aa,al,function(an,am){if(aa==ah.length){an.appendTo(am)}else{an.insertBefore(ah.eq(aa))}},ai);if(ag._expanded(al)){ag._updateNodeClasses(al);J(al).css("display","block")}}if(Y.field){return ag._updateNode(Y.field,ab)}if(ad){af=ag.findByUid(ad.uid);ag._progress(af,false)}if(X&&V!="remove"&&ad&&ad.checked){for(Z=0;Z<ab.length;Z++){ab[Z].checked=true}}if(V=="add"){W(ab,af)}else{if(V=="remove"){ag._remove(ag.findByUid(ab[0].uid),false)}else{if(ad){J(af).empty();if(!ab.length){R(af)}else{W(ab,af)}}else{ag.root=ag.wrapper.html(ag._renderGroup({items:ab,group:{firstLevel:true,expanded:true}})).children("ul")}}}for(Z=0;Z<ab.length;Z++){if(!ac||ab[Z].expanded){ab[Z].load()}}ag.trigger(l,{node:ad?af:P})},_error:function(V){var X=this,W=V.node&&X.findByUid(V.node.uid);if(W){this._progress(W,false);this._expanded(W,false);E(W).addClass("k-i-refresh");V.node.loaded(false)}else{this._progress(false);this.element.html(this.templates.retry)}},_retryRequest:function(V){V.preventDefault();this.dataSource.fetch()},expand:function(V){this._processNodes(V,function(W,X){this.toggle(X,true)})},collapse:function(V){this._processNodes(V,function(W,X){this.toggle(X,false)})},enable:function(W,V){V=arguments.length==2?!!V:true;this._processNodes(W,function(X,Y){this.dataItem(Y).set("enabled",V)})},current:function(Y){var Z=this,V=Z._current,W=Z.element,X=Z._ariaId;if(arguments.length>0&&Y&&Y.length){if(V){if(V[0].id===X){V.removeAttr("id")}V.find(".k-in:first").removeClass("k-state-focused")}V=Z._current=a(Y,W).closest(C);V.find(".k-in:first").addClass("k-state-focused");X=V[0].id||X;if(X){Z.wrapper.removeAttr("aria-activedescendant");V.attr("id",X);Z.wrapper.attr("aria-activedescendant",X)}return}if(!V){V=Z._nextVisible(a())}return V},select:function(W){var X=this,V=X.element;if(!arguments.length){return V.find(".k-state-selected").closest(C)}W=a(W,V).closest(C);V.find(".k-state-selected").each(function(){var Y=X.dataItem(this);Y.set("selected",false);delete Y.selected});if(W.length){X.dataItem(W).set("selected",true)}X.trigger(e)},_toggle:function(ab,X,Z){var ad=this,ac=ad.options,W=D(ab),Y=Z?"expand":"collapse",V=ac.animation[Y],aa;if(W.data("animating")){return}if(!ad._trigger(Y,ab)){ad._expanded(ab,Z);aa=X&&X.loaded();if(aa&&W.children().length>0){ad._updateNodeClasses(ab,{},{expanded:Z});if(W.css("display")==(Z?"block":"none")){return}if(!Z){W.css("height",W.height()).css("height")}W.kendoStop(true,true).kendoAnimate(s({reset:true},V,{complete:function(){if(Z){W.css("height","")}}}))}else{if(Z){if(ac.loadOnDemand){ad._progress(ab,true)}W.remove();X.load()}}}},toggle:function(W,V){W=a(W);if(!E(W).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){V=!this._expanded(W)}this._expanded(W,V)},destroy:function(){var V=this;U.fn.destroy.call(V);V.element.off(F);V._unbindDataSource();if(V.dragging){V.dragging.destroy()}x.destroy(V.element)},_expanded:function(X,Y){var W=x.attr("expanded"),V=this.dataItem(X);if(arguments.length==1){return X.attr(W)==="true"||(V&&V.expanded)}if(D(X).data("animating")){return}if(V){V.set("expanded",Y);Y=V.expanded}if(Y){X.attr(W,"true");X.attr("aria-expanded","true")}else{X.removeAttr(W);X.attr("aria-expanded","false")}},_progress:function(W,X){var V=this.element;if(arguments.length==1){X=W;if(X){V.html(this.templates.loading)}else{V.empty()}}else{E(W).toggleClass("k-loading",X).removeClass("k-i-refresh")}},text:function(aa,ab){var V=this.dataItem(aa),X=this.options[d.text],Z=V.level(),Y=X.length,W=X[Math.min(Z,Y-1)];if(ab){V.set(W,ab)}else{return V[W]}},_objectOrSelf:function(V){return a(V).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(Z,Y,aa,V){var ab,X=this._objectOrSelf(aa||Y),W=X.dataSource;if(aa&&aa[0]!=X.element[0]){ab=X.dataItem(aa);if(!ab.loaded()){X._progress(aa,true);ab.load()}if(aa!=this.root){W=ab.children;if(!W||!(W instanceof t)){ab._initChildren();ab.loaded(true);W=ab.children}}}Z=this._toObservableData(Z);return V.call(this,W,Z)},_toObservableData:function(X){var V=X,W,Y;if(X instanceof window.jQuery||w(X)){W=this._objectOrSelf(X).dataSource,Y=a(X).attr(x.attr("uid"));V=W.getByUid(Y);if(V){V=W.remove(V)}}return V},_insert:function(V,X,W){if(!(X instanceof x.data.ObservableArray)){if(!v(X)){X=[X]}}else{X=X.toJSON()}var Y=V.parent();if(Y){Y.hasChildren=true;Y._initChildren()}V.splice.apply(V,[W,0].concat(X));return this.findByUid(V[W].uid)},insertAfter:u(1),insertBefore:u(0),append:function(W,X,Y){var Z=this,V=Z.root;Y=Y||a.noop;if(X){V=J(X)}return Z._dataSourceMove(W,V,X,function(ab,ad){var ac;function aa(){if(X){Z._expanded(X,true)}var ae=ab.data(),af=Math.max(ae.length,0);return Z._insert(ae,ad,af)}if(!ab.data()){ab.one(e,function(){Y(aa())});return null}else{ac=aa();Y(ac);return ac}})},_remove:function(X,V){var aa=this,Y,Z,W;X=a(X,aa.element);Y=X.parent().parent();Z=X.prev();W=X.next();X[V?"detach":"remove"]();if(Y.hasClass("k-item")){R(Y);aa._updateNodeClasses(Y)}aa._updateNodeClasses(Z);aa._updateNodeClasses(W);return X},remove:function(W){var V=this.dataItem(W);if(V){this.dataSource.remove(V)}},detach:function(V){return this._remove(V,true)},findByText:function(V){return a(this.element).find(".k-in").filter(function(X,W){return a(W).text()==V}).closest(C)},findByUid:function(V){return this.element.find(".k-item["+x.attr("uid")+"="+V+"]")},_renderItem:function(V){if(!V.group){V.group={}}V.treeview=this.options;V.r=this.templates;return this.templates.item(V)},_renderGroup:function(V){var W=this;V.renderItems=function(ac){var Y="",Z=0,aa=ac.items,ab=aa?aa.length:0,X=ac.group;X.length=ab;for(;Z<ab;Z++){ac.group=X;ac.item=aa[Z];ac.item.index=Z;Y+=W._renderItem(ac)}return Y};V.r=W.templates;return W.templates.group(V)}});function N(W){var V=this;V.treeview=W;V.hovered=W.element;V._draggable=new O.Draggable(W.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(X){return W.templates.dragClue({item:W.dataItem(X),treeview:W.options})},cursorOffset:{left:10,top:x.support.touch||x.support.msPointers||x.support.pointers?-40/x.support.zoomLevel():10},dragstart:G(V.dragstart,V),dragcancel:G(V.dragcancel,V),drag:G(V.drag,V),dragend:G(V.dragend,V)})}N.prototype={_removeTouchHover:function(){var V=this;if(x.support.touch&&V.hovered){V.hovered.find("."+z).removeClass(z);V.hovered=false}},_hintStatus:function(V){var W=this._draggable.hint.find(".k-drag-status")[0];if(V){W.className="k-icon k-drag-status "+V}else{return a.trim(W.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(V){var X=this,Y=X.treeview,W=X.sourceNode=V.currentTarget.closest(C);if(Y.trigger(o,{sourceNode:W[0]})){V.preventDefault()}X.dropHint=a("<div class='k-drop-hint' />").css(S,"hidden").appendTo(Y.element)},drag:function(Z){var aj=this,ak=aj.treeview,ah=aj.sourceNode,Y=aj.dropTarget=a(x.eventTarget(Z)),ai,W=Y.closest(".k-treeview"),aa,ab,af,ag,ae,X,ad,ac,V;if(!W.length){ai="k-denied";aj._removeTouchHover()}else{if(a.contains(ah[0],Y[0])){ai="k-denied"}else{ai="k-insert-middle";aa=Y.closest(".k-top,.k-mid,.k-bot");if(aa.length){af=aa.outerHeight();ag=x.getOffset(aa).top;ae=Y.closest(".k-in");X=af/(ae.length>0?4:2);ad=Z.y.location<(ag+X);ac=(ag+af-X)<Z.y.location;aj._removeTouchHover();V=ae.length&&!ad&&!ac;aj.hovered=V?W:false;aj.dropHint.css(S,V?"hidden":"visible");ae.toggleClass(z,V);if(V){ai="k-add"}else{ab=aa.position();ab.top+=ad?0:af;aj.dropHint.css(ab)[ad?"prependTo":"appendTo"](Y.closest(C).children("div:first"));if(ad&&aa.hasClass("k-top")){ai="k-insert-top"}if(ac&&aa.hasClass("k-bot")){ai="k-insert-bottom"}}}else{if(Y[0]!=aj.dropHint[0]){if(W[0]!=ak.element[0]){ai="k-add"}else{ai="k-denied"}}}}}ak.trigger(m,{sourceNode:ah[0],dropTarget:Y[0],pageY:Z.y.location,pageX:Z.x.location,statusClass:ai.substring(2),setStatusClass:function(al){ai=al}});if(ai.indexOf("k-insert")!==0){aj.dropHint.css(S,"hidden")}aj._hintStatus(ai)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var ac=this,ad=ac.treeview,X="over",ab=ac.sourceNode,V,W=ac.dropHint,Z=ac.dropTarget,aa,Y;if(W.css(S)=="visible"){X=W.prevAll(".k-in").length>0?"after":"before";V=W.closest(C)}else{if(Z){V=Z.closest(C);if(!V.length){V=Z.closest(".k-treeview")}}}aa={sourceNode:ab[0],destinationNode:V[0],valid:ac._hintStatus()!="k-denied",setValid:function(af){this.valid=af},dropTarget:Z[0],dropPosition:X};Y=ad.trigger(p,aa);W.remove();ac._removeTouchHover();if(!aa.valid||Y){ac._draggable.dropped=aa.valid;return}ac._draggable.dropped=true;function ae(af){ad.trigger(n,{sourceNode:af&&af[0],destinationNode:V[0],dropPosition:X})}if(X=="over"){ad.append(ab,V,ae)}else{if(X=="before"){ab=ad.insertBefore(ab,V)}else{if(X=="after"){ab=ad.insertAfter(ab,V)}}ae(ab)}},destroy:function(){this._draggable.destroy()}};O.plugin(M)})(window.kendo.jQuery);kendo_module({id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]});(function(a,W){var s=window.kendo,Y=s.ui.Widget,l=s.ui.Draggable,m=a.extend,o=s.format,B=s.parseFloat,F=a.proxy,r=a.isArray,u=Math,Q=s.support,D=Q.pointers,z=Q.msPointers,c="change",J="slide",A=".slider",v="touchstart"+A+" mousedown"+A,T=D?"pointerdown"+A:(z?"MSPointerDown"+A:v),x="touchend"+A+" mouseup"+A,U=D?"pointerup":(z?"MSPointerUp"+A:x),y="moveSelection",t="keydown"+A,d="click"+A,w="mouseover"+A,n="focus"+A,b="blur"+A,k=".k-draghandle",V=".k-slider-track",S=".k-tick",O="k-state-selected",M="k-state-default",N="k-state-disabled",E=3,j="disabled",X="undefined",R="tabindex",q=s.getTouches;var L=Y.extend({init:function(Z,aa){var ae=this;Y.fn.init.call(ae,Z,aa);aa=ae.options;ae._distance=aa.max-aa.min;ae._isHorizontal=aa.orientation=="horizontal";ae._isRtl=ae._isHorizontal&&s.support.isRtl(Z);ae._position=ae._isHorizontal?"left":"bottom";ae._size=ae._isHorizontal?"width":"height";ae._outerSize=ae._isHorizontal?"outerWidth":"outerHeight";aa.tooltip.format=aa.tooltip.enabled?aa.tooltip.format||"{0}":"{0}";ae._createHtml();ae.wrapper=ae.element.closest(".k-slider");ae._trackDiv=ae.wrapper.find(V);ae._setTrackDivWidth();ae._maxSelection=ae._trackDiv[ae._size]();var ad=ae._maxSelection/((aa.max-aa.min)/aa.smallStep);var ab=ae._calculateItemsWidth(u.floor(ae._distance/aa.smallStep));if(aa.tickPlacement!="none"&&ad>=2){ae._trackDiv.before(f(aa,ae._distance));ae._setItemsWidth(ab);ae._setItemsTitle()}ae._calculateSteps(ab);ae._tabindex(ae.wrapper.find(k));if(aa.tickPlacement!="none"&&ad>=2&&aa.largeStep>aa.smallStep){ae._setItemsLargeTick()}ae[aa.enabled?"enable":"disable"]();var ac=s.support.isRtl(ae.wrapper)?-1:1;ae._keyMap={37:P(-1*ac*aa.smallStep),40:P(-aa.smallStep),39:P(+1*ac*aa.smallStep),38:P(+aa.smallStep),35:I(aa.max),36:I(aa.min),33:P(+aa.largeStep),34:P(-aa.largeStep)};s.notify(ae)},events:[c,J],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_setTrackDivWidth:function(){var Z=this,aa=parseFloat(Z._trackDiv.css(Z._isRtl?"right":Z._position),10)*2;Z._trackDiv[Z._size]((Z.wrapper[Z._size]()-2)-aa)},_setItemsWidth:function(ah){var aj=this,af=aj.options,ab=0,ae=ah.length-1,ad=aj.wrapper.find(S),ac,ag=0,Z=2,aa=ad.length,ai=0;for(ac=0;ac<aa-2;ac++){a(ad[ac+1])[aj._size](ah[ac])}if(aj._isHorizontal){a(ad[ab]).addClass("k-first")[aj._size](ah[ae-1]);a(ad[ae]).addClass("k-last")[aj._size](ah[ae])}else{a(ad[ae]).addClass("k-first")[aj._size](ah[ae]);a(ad[ab]).addClass("k-last")[aj._size](ah[ae-1])}if(aj._distance%af.smallStep!==0&&!aj._isHorizontal){for(ac=0;ac<ah.length;ac++){ai+=ah[ac]}ag=aj._maxSelection-ai;ag+=parseFloat(aj._trackDiv.css(aj._position),10)+Z;aj.wrapper.find(".k-slider-items").css("padding-top",ag)}},_setItemsTitle:function(){var af=this,ae=af.options,ac=af.wrapper.find(S),ag=ae.min,Z=ac.length,aa=af._isHorizontal&&!af._isRtl?0:Z-1,ad=af._isHorizontal&&!af._isRtl?Z:-1,ab=af._isHorizontal&&!af._isRtl?1:-1;for(;aa-ad!==0;aa+=ab){a(ac[aa]).attr("title",o(ae.tooltip.format,H(ag)));ag+=ae.smallStep}},_setItemsLargeTick:function(){var ad=this,ac=ad.options,ab=ad.wrapper.find(S),Z=0,aa,ae;if((1000*ac.largeStep)%(1000*ac.smallStep)===0||ad._distance/ac.largeStep>=3){if(ad._isHorizontal&&!ad._isRtl){ab=a.makeArray(ab).reverse()}for(Z=0;Z<ab.length;Z++){aa=a(ab[Z]);ae=ad._values[Z];if(ae%ac.smallStep===0&&ae%ac.largeStep===0){aa.addClass("k-tick-large").html("<span class='k-label'>"+aa.attr("title")+"</span>");if(Z!==0&&Z!==ab.length-1){aa.css("line-height",aa[ad._size]()+"px")}}}}},_calculateItemsWidth:function(aa){var af=this,ac=af.options,ag=parseFloat(af._trackDiv.css(af._size))+1,ad=ag/af._distance,ab,ae,Z;if((af._distance/ac.smallStep)-u.floor(af._distance/ac.smallStep)>0){ag-=((af._distance%ac.smallStep)*ad)}ab=ag/aa;ae=[];for(Z=0;Z<aa-1;Z++){ae[Z]=ab}ae[aa-1]=ae[aa]=ab/2;return af._roundWidths(ae)},_roundWidths:function(ac){var Z=0,aa=ac.length,ab;for(ab=0;ab<aa;ab++){Z+=(ac[ab]-u.floor(ac[ab]));ac[ab]=u.floor(ac[ab])}Z=u.round(Z);return this._addAdditionalSize(Z,ac)},_addAdditionalSize:function(Z,ab){if(Z===0){return ab}var ac=parseFloat(ab.length-1)/parseFloat(Z==1?Z:Z-1),aa;for(aa=0;aa<Z;aa++){ab[parseInt(u.round(ac*aa),10)]+=1}return ab},_calculateSteps:function(ad){var af=this,ac=af.options,ag=ac.min,ae=0,aa=u.ceil(af._distance/ac.smallStep),Z=1,ab;aa+=(af._distance/ac.smallStep)%1===0?1:0;ad.splice(0,0,ad[aa-2]*2);ad.splice(aa-1,1,ad.pop()*2);af._pixelSteps=[ae];af._values=[ag];if(aa===0){return}while(Z<aa){ae+=(ad[Z-1]+ad[Z])/2;af._pixelSteps[Z]=ae;af._values[Z]=ag+=ac.smallStep;Z++}ab=af._distance%ac.smallStep===0?aa-1:aa;af._pixelSteps[ab]=af._maxSelection;af._values[ab]=ac.max;if(af._isRtl){af._pixelSteps.reverse();af._values.reverse()}},_getValueFromPosition:function(ac,Z){var ag=this,ad=ag.options,af=u.max(ad.smallStep*(ag._maxSelection/ag._distance),0),ae=0,aa=(af/2),ab;if(ag._isHorizontal){ae=ac-Z.startPoint;if(ag._isRtl){ae=ag._maxSelection-ae}}else{ae=Z.startPoint-ac}if(ag._maxSelection-((parseInt(ag._maxSelection%af,10)-3)/2)<ae){return ad.max}for(ab=0;ab<ag._pixelSteps.length;ab++){if(u.abs(ag._pixelSteps[ab]-ae)-1<=aa){return H(ag._values[ab])}}},_getFormattedValue:function(ag,Z){var ad=this,aa="",ae=ad.options.tooltip,af,ac,ab;if(r(ag)){ac=ag[0];ab=ag[1]}else{if(Z&&Z.type){ac=Z.selectionStart;ab=Z.selectionEnd}}if(Z){af=Z.tooltipTemplate}if(!af&&ae.template){af=s.template(ae.template)}if(r(ag)||(Z&&Z.type)){if(af){aa=af({selectionStart:ac,selectionEnd:ab})}else{ac=o(ae.format,ac);ab=o(ae.format,ab);aa=ac+" - "+ab}}else{if(Z){Z.val=ag}if(af){aa=af({value:ag})}else{aa=o(ae.format,ag)}}return aa},_getDraggableArea:function(){var aa=this,Z=s.getOffset(aa._trackDiv);return{startPoint:aa._isHorizontal?Z.left:Z.top+aa._maxSelection,endPoint:aa._isHorizontal?Z.left+aa._maxSelection:Z.top}},_createHtml:function(){var ac=this,Z=ac.element,ab=ac.options,aa=Z.find("input");if(aa.length==2){aa.eq(0).val(ab.selectionStart);aa.eq(1).val(ab.selectionEnd)}else{Z.val(ab.value)}Z.wrap(h(ab,Z,ac._isHorizontal)).hide();if(ab.showButtons){Z.before(e(ab,"increase",ac._isHorizontal)).before(e(ab,"decrease",ac._isHorizontal))}Z.before(g(ab,Z))},_focus:function(aa){var ac=this,ab=aa.target,ad=ac.value(),Z=ac._drag;if(!Z){if(ab==ac.wrapper.find(k).eq(0)[0]){Z=ac._firstHandleDrag;ac._activeHandle=0}else{Z=ac._lastHandleDrag;ac._activeHandle=1}ad=ad[ac._activeHandle]}a(ab).addClass(O);if(Z){ac._activeHandleDrag=Z;Z.selectionStart=ac.options.selectionStart;Z.selectionEnd=ac.options.selectionEnd;Z._updateTooltip(ad)}},_focusWithMouse:function(aa){aa=a(aa);var ab=this,Z=aa.is(k)?aa.index():0;window.setTimeout(function(){ab.wrapper.find(k)[Z==2?1:0].focus()},1);ab._setTooltipTimeout()},_blur:function(aa){var ab=this,Z=ab._activeHandleDrag;a(aa.target).removeClass(O);if(Z){Z._removeTooltip();delete ab._activeHandleDrag;delete ab._activeHandle}},_setTooltipTimeout:function(){var Z=this;Z._tooltipTimeout=window.setTimeout(function(){var aa=Z._drag||Z._activeHandleDrag;if(aa){aa._removeTooltip()}},300)},_clearTooltipTimeout:function(){var aa=this;window.clearTimeout(this._tooltipTimeout);var Z=aa._drag||aa._activeHandleDrag;if(Z&&Z.tooltipDiv){Z.tooltipDiv.stop(true,false).css("opacity",1)}}});function h(ac,aa,ab){var ad=ab?" k-slider-horizontal":" k-slider-vertical",ae=ac.style?ac.style:aa.attr("style"),Z=aa.attr("class")?(" "+aa.attr("class")):"",af="";if(ac.tickPlacement=="bottomRight"){af=" k-slider-bottomright"}else{if(ac.tickPlacement=="topLeft"){af=" k-slider-topleft"}}ae=ae?" style='"+ae+"'":"";return"<div class='k-widget k-slider"+ad+Z+"'"+ae+"><div class='k-slider-wrap"+(ac.showButtons?" k-slider-buttons":"")+af+"'></div></div>"}function e(ab,ac,aa){var Z="";if(ac=="increase"){Z=aa?"k-i-arrow-e":"k-i-arrow-n"}else{Z=aa?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+ac+"'><span class='k-icon "+Z+"' title='"+ab[ac+"ButtonTitle"]+"'>"+ab[ac+"ButtonTitle"]+"</span></a>"}function f(ac,aa){var ad="<ul class='k-reset k-slider-items'>",Z=u.floor(H(aa/ac.smallStep))+1,ab;for(ab=0;ab<Z;ab++){ad+="<li class='k-tick' role='presentation'>&nbsp;</li>"}ad+="</ul>";return ad}function g(ac,aa){var Z=aa.is("input")?1:2,ab=Z==2?ac.leftDragHandleTitle:ac.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+ab+"' role='slider' aria-valuemin='"+ac.min+"' aria-valuemax='"+ac.max+"' aria-valuenow='"+(Z>1?(ac.selectionStart||ac.min):ac.value||ac.min)+"'>Drag</a>"+(Z>1?"<a href='#' class='k-draghandle' title='"+ac.rightDragHandleTitle+"'role='slider' aria-valuemin='"+ac.min+"' aria-valuemax='"+ac.max+"' aria-valuenow='"+(ac.selectionEnd||ac.max)+"'>Drag</a>":"")+"</div>"}function P(Z){return function(aa){return aa+Z}}function I(Z){return function(){return Z}}function p(Z){return(Z+"").replace(".",s.cultures.current.numberFormat["."])}function H(aa){aa=parseFloat(aa,10);var Z=u.pow(10,E||0);return u.round(aa*Z)/Z}function C(Z,aa){var ab=B(Z.getAttribute(aa));if(ab===null){ab=W}return ab}function i(Z){return typeof Z!==X}var K=L.extend({init:function(aa,ab){var ac=this,Z;aa.type="text";ab=m({},{value:C(aa,"value"),min:C(aa,"min"),max:C(aa,"max"),smallStep:C(aa,"step")},ab);aa=a(aa);if(ab&&ab.enabled===W){ab.enabled=!aa.is("[disabled]")}L.fn.init.call(ac,aa,ab);ab=ac.options;if(!i(ab.value)||ab.value===null){ab.value=ab.min;aa.val(ab.min)}ab.value=u.max(u.min(ab.value,ab.max),ab.min);Z=ac.wrapper.find(k);new K.Selection(Z,ac,ab);ac._drag=new K.Drag(Z,"",ac,ab)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(aa){var ae=this,ad=ae.options,Z,ac;ae.disable();if(aa===false){return}ae.wrapper.removeClass(N).addClass(M);ae.wrapper.find("input").removeAttr(j);Z=function(ag){var aj=q(ag)[0];if(!aj){return}var ah=ae._isHorizontal?aj.location.pageX:aj.location.pageY,af=ae._getDraggableArea(),ai=a(ag.target);if(ai.hasClass("k-draghandle")){ai.addClass(O);return}ae._update(ae._getValueFromPosition(ah,af));ae._focusWithMouse(ag.target);ae._drag.dragstart(ag);ag.preventDefault()};ae.wrapper.find(S+", "+V).on(T,Z).end().on(T,function(){a(document.documentElement).one("selectstart",s.preventDefault)}).on(U,function(){ae._drag._end()});ae.wrapper.find(k).attr(R,0).on(x,function(){ae._setTooltipTimeout()}).on(d,function(af){ae._focusWithMouse(af.target);af.preventDefault()}).on(n,F(ae._focus,ae)).on(b,F(ae._blur,ae));ac=F(function(ag){var af=ae._nextValueByIndex(ae._valueIndex+(ag*1));ae._setValueInRange(af);ae._drag._updateTooltip(af)},ae);if(ad.showButtons){var ab=F(function(af,ag){this._clearTooltipTimeout();if(af.which===1||(Q.touch&&af.which===0)){ac(ag);this.timeout=setTimeout(F(function(){this.timer=setInterval(function(){ac(ag)},60)},this),200)}},ae);ae.wrapper.find(".k-button").on(x,F(function(af){this._clearTimer();ae._focusWithMouse(af.target)},ae)).on(w,function(af){a(af.currentTarget).addClass("k-state-hover")}).on("mouseout"+A,F(function(af){a(af.currentTarget).removeClass("k-state-hover");this._clearTimer()},ae)).eq(0).on(v,F(function(af){ab(af,1)},ae)).click(false).end().eq(1).on(v,F(function(af){ab(af,-1)},ae)).click(s.preventDefault)}ae.wrapper.find(k).off(t,false).on(t,F(this._keydown,ae));ad.enabled=true},disable:function(){var Z=this;Z.wrapper.removeClass(M).addClass(N);a(Z.element).prop(j,j);Z.wrapper.find(".k-button").off(v).on(v,s.preventDefault).off(x).on(x,s.preventDefault).off("mouseleave"+A).on("mouseleave"+A,s.preventDefault).off(w).on(w,s.preventDefault);Z.wrapper.find(S+", "+V).off(T).off(U);Z.wrapper.find(k).attr(R,-1).off(x).off(t).off(d).off(n).off(b);Z.options.enabled=false},_update:function(ab){var aa=this,Z=aa.value()!=ab;aa.value(ab);if(Z){aa.trigger(c,{value:aa.options.value})}},value:function(ab){var aa=this,Z=aa.options;ab=H(ab);if(isNaN(ab)){return Z.value}if(ab>=Z.min&&ab<=Z.max){if(Z.value!=ab){aa.element.prop("value",p(ab));Z.value=ab;aa._refreshAriaAttr(ab);aa._refresh()}}},_refresh:function(){this.trigger(y,{value:this.options.value})},_refreshAriaAttr:function(ac){var ab=this,Z=ab._drag,aa;if(Z&&Z._tooltipDiv){aa=Z._tooltipDiv.text()}else{aa=ab._getFormattedValue(ac,null)}this.wrapper.find(k).attr("aria-valuenow",ac).attr("aria-valuetext",aa)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(Z){var aa=this;if(Z.keyCode in aa._keyMap){aa._clearTooltipTimeout();aa._setValueInRange(aa._keyMap[Z.keyCode](aa.options.value));aa._drag._updateTooltip(aa.value());Z.preventDefault()}},_setValueInRange:function(ab){var aa=this,Z=aa.options;ab=H(ab);if(isNaN(ab)){aa._update(Z.min);return}ab=u.max(u.min(ab,Z.max),Z.min);aa._update(ab)},_nextValueByIndex:function(aa){var Z=this._values.length;if(this._isRtl){aa=Z-1-aa}return this._values[u.max(0,u.min(aa,Z-1))]},destroy:function(){var Z=this;Y.fn.destroy.call(Z);Z.wrapper.off(A).find(".k-button").off(A).end().find(k).off(A).end().find(S+", "+V).off(A).end();Z._drag.draggable.destroy()}});K.Selection=function(Z,ac,ab){function aa(aj){var ai=aj-ab.min,ae=ac._valueIndex=u.ceil(H(ai/ab.smallStep)),ag=parseInt(ac._pixelSteps[ae],10),ah=ac._trackDiv.find(".k-slider-selection"),ad=parseInt(Z[ac._outerSize]()/2,10),af=ac._isRtl?2:0;ah[ac._size](ac._isRtl?ac._maxSelection-ag:ag);Z.css(ac._position,ag-ad-af)}aa(ab.value);ac.bind([c,J,y],function(ad){aa(parseFloat(ad.value,10))})};K.Drag=function(Z,ad,ab,aa){var ac=this;ac.owner=ab;ac.options=aa;ac.element=Z;ac.type=ad;ac.draggable=new l(Z,{distance:0,dragstart:F(ac._dragstart,ac),drag:F(ac.drag,ac),dragend:F(ac.dragend,ac),dragcancel:F(ac.dragcancel,ac)});Z.click(false)};K.Drag.prototype={dragstart:function(Z){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(Z)},_dragstart:function(Z){var ac=this,ab=ac.owner,aa=ac.options;if(!aa.enabled){Z.preventDefault();return}this.owner._activeDragHandle=this;ab.element.off(w);ac.element.addClass(O);a(document.documentElement).css("cursor","pointer");ac.dragableArea=ab._getDraggableArea();ac.step=u.max(aa.smallStep*(ab._maxSelection/ab._distance),0);if(ac.type){ac.selectionStart=aa.selectionStart;ac.selectionEnd=aa.selectionEnd;ab._setZIndex(ac.type)}else{ac.oldVal=ac.val=aa.value}ac._removeTooltip(true);ac._createTooltip()},_createTooltip:function(){var ac=this,ab=ac.owner,ad=ac.options.tooltip,aa="",af=a(window),ae,Z;if(!ad.enabled){return}if(ad.template){ae=ac.tooltipTemplate=s.template(ad.template)}a(".k-slider-tooltip").remove();ac.tooltipDiv=a("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);aa=ab._getFormattedValue(ac.val||ab.value(),ac);if(!ac.type){Z="k-callout-"+(ab._isHorizontal?"s":"e");ac.tooltipInnerDiv="<div class='k-callout "+Z+"'><!-- --></div>";aa+=ac.tooltipInnerDiv}ac.tooltipDiv.html(aa);ac._scrollOffset={top:af.scrollTop(),left:af.scrollLeft()};ac.moveTooltip()},drag:function(Z){var ae=this,ab=ae.owner,af=Z.x.location,ag=Z.y.location,ad=ae.dragableArea.startPoint,aa=ae.dragableArea.endPoint,ac;Z.preventDefault();if(ab._isHorizontal){if(ab._isRtl){ae.val=ae.constrainValue(af,ad,aa,af<aa)}else{ae.val=ae.constrainValue(af,ad,aa,af>=aa)}}else{ae.val=ae.constrainValue(ag,aa,ad,ag<=aa)}if(ae.oldVal!=ae.val){ae.oldVal=ae.val;if(ae.type){if(ae.type=="firstHandle"){if(ae.val<ae.selectionEnd){ae.selectionStart=ae.val}else{ae.selectionStart=ae.selectionEnd=ae.val}}else{if(ae.val>ae.selectionStart){ae.selectionEnd=ae.val}else{ae.selectionStart=ae.selectionEnd=ae.val}}ac={values:[ae.selectionStart,ae.selectionEnd],value:[ae.selectionStart,ae.selectionEnd]}}else{ac={value:ae.val}}ab.trigger(J,ac)}ae._updateTooltip(ae.val)},_updateTooltip:function(ad){var ab=this,aa=ab.options,ac=aa.tooltip,Z="";if(!ac.enabled){return}if(!ab.tooltipDiv){ab._createTooltip()}Z=ab.owner._getFormattedValue(H(ad),ab);if(!ab.type){Z+=ab.tooltipInnerDiv}ab.tooltipDiv.html(Z);ab.moveTooltip()},dragcancel:function(){this.owner._refresh();a(document.documentElement).css("cursor","");return this._end()},dragend:function(){var aa=this,Z=aa.owner;a(document.documentElement).css("cursor","");if(aa.type){Z._update(aa.selectionStart,aa.selectionEnd)}else{Z._update(aa.val)}return aa._end()},_end:function(){var aa=this,Z=aa.owner;Z._focusWithMouse(aa.element);Z.element.on(w);return false},_removeTooltip:function(Z){var ab=this,aa=ab.owner;if(ab.tooltipDiv&&aa.options.tooltip.enabled&&aa.options.enabled){if(Z){ab.tooltipDiv.remove();ab.tooltipDiv=null}else{ab.tooltipDiv.fadeOut("slow",function(){a(this).remove();ab.tooltipDiv=null})}}},moveTooltip:function(){var ak=this,ai=ak.owner,al=0,af=0,ad=ak.element,ah=s.getOffset(ad),ag=8,am=a(window),aa=ak.tooltipDiv.find(".k-callout"),an=ak.tooltipDiv.outerWidth(),ae=ak.tooltipDiv.outerHeight(),ac,aj,ab,Z;if(ak.type){ac=ai.wrapper.find(k);ah=s.getOffset(ac.eq(0));aj=s.getOffset(ac.eq(1));if(ai._isHorizontal){al=aj.top;af=ah.left+((aj.left-ah.left)/2)}else{al=ah.top+((aj.top-ah.top)/2);af=aj.left}Z=ac.eq(0).outerWidth()+2*ag}else{al=ah.top;af=ah.left;Z=ad.outerWidth()+2*ag}if(ai._isHorizontal){af-=parseInt((an-ad[ai._outerSize]())/2,10);al-=ae+aa.height()+ag}else{al-=parseInt((ae-ad[ai._outerSize]())/2,10);af-=an+aa.width()+ag}if(ai._isHorizontal){ab=ak._flip(al,ae,Z,am.outerHeight()+ak._scrollOffset.top);al+=ab;af+=ak._fit(af,an,am.outerWidth()+ak._scrollOffset.left)}else{ab=ak._flip(af,an,Z,am.outerWidth()+ak._scrollOffset.left);al+=ak._fit(al,ae,am.outerHeight()+ak._scrollOffset.top);af+=ab}if(ab>0&&aa){aa.removeClass();aa.addClass("k-callout k-callout-"+(ai._isHorizontal?"n":"w"))}ak.tooltipDiv.css({top:al,left:af})},_fit:function(aa,ab,ac){var Z=0;if(aa+ab>ac){Z=ac-(aa+ab)}if(aa<0){Z=-aa}return Z},_flip:function(aa,ac,Z,ad){var ab=0;if(aa+ac>ad){ab+=-(Z+ac)}if(aa+ab<0){ab+=Z+ac}return ab},constrainValue:function(ac,ab,Z,aa){var ad=this,ae=0;if(ab<ac&&ac<Z){ae=ad.owner._getValueFromPosition(ac,ad.dragableArea)}else{if(aa){ae=ad.options.max}else{ae=ad.options.min}}return ae}};s.ui.plugin(K);var G=L.extend({init:function(aa,ad){var af=this,ac=a(aa).find("input"),ab=ac.eq(0)[0],ae=ac.eq(1)[0];ab.type="text";ae.type="text";ad=m({},{selectionStart:C(ab,"value"),min:C(ab,"min"),max:C(ab,"max"),smallStep:C(ab,"step")},{selectionEnd:C(ae,"value"),min:C(ae,"min"),max:C(ae,"max"),smallStep:C(ae,"step")},ad);if(ad&&ad.enabled===W){ad.enabled=!ac.is("[disabled]")}L.fn.init.call(af,aa,ad);ad=af.options;if(!i(ad.selectionStart)||ad.selectionStart===null){ad.selectionStart=ad.min;ac.eq(0).val(ad.min)}if(!i(ad.selectionEnd)||ad.selectionEnd===null){ad.selectionEnd=ad.max;ac.eq(1).val(ad.max)}var Z=af.wrapper.find(k);new G.Selection(Z,af,ad);af._firstHandleDrag=new K.Drag(Z.eq(0),"firstHandle",af,ad);af._lastHandleDrag=new K.Drag(Z.eq(1),"lastHandle",af,ad)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(aa){var ac=this,ab=ac.options,Z;ac.disable();if(aa===false){return}ac.wrapper.removeClass(N).addClass(M);ac.wrapper.find("input").removeAttr(j);Z=function(af){var ak=q(af)[0];if(!ak){return}var ah=ac._isHorizontal?ak.location.pageX:ak.location.pageY,ae=ac._getDraggableArea(),al=ac._getValueFromPosition(ah,ae),ai=a(af.target),ag,aj,ad;if(ai.hasClass("k-draghandle")){ai.addClass(O);return}if(al<ab.selectionStart){ag=al;aj=ab.selectionEnd;ad=ac._firstHandleDrag}else{if(al>ac.selectionEnd){ag=ab.selectionStart;aj=al;ad=ac._lastHandleDrag}else{if(al-ab.selectionStart<=ab.selectionEnd-al){ag=al;aj=ab.selectionEnd;ad=ac._firstHandleDrag}else{ag=ab.selectionStart;aj=al;ad=ac._lastHandleDrag}}}ad.dragstart(af);ac._setValueInRange(ag,aj);ac._focusWithMouse(ad.element)};ac.wrapper.find(S+", "+V).on(T,Z).end().on(T,function(){a(document.documentElement).one("selectstart",s.preventDefault)}).on(U,function(){ac._activeDragHandle._end()});ac.wrapper.find(k).attr(R,0).on(x,function(){ac._setTooltipTimeout()}).on(d,function(ad){ac._focusWithMouse(ad.target);ad.preventDefault()}).on(n,F(ac._focus,ac)).on(b,F(ac._blur,ac));ac.wrapper.find(k).off(t,s.preventDefault).eq(0).on(t,F(function(ad){this._keydown(ad,"firstHandle")},ac)).end().eq(1).on(t,F(function(ad){this._keydown(ad,"lastHandle")},ac));ac.options.enabled=true},disable:function(){var Z=this;Z.wrapper.removeClass(M).addClass(N);Z.wrapper.find("input").prop(j,j);Z.wrapper.find(S+", "+V).off(T).off(U);Z.wrapper.find(k).attr(R,-1).off(x).off(t).off(d).off(n).off(b);Z.options.enabled=false},_keydown:function(ac,ad){var ag=this,af=ag.options.selectionStart,ae=ag.options.selectionEnd,ab,aa,Z;if(ac.keyCode in ag._keyMap){ag._clearTooltipTimeout();if(ad=="firstHandle"){Z=ag._activeHandleDrag=ag._firstHandleDrag;af=ag._keyMap[ac.keyCode](af);if(af>ae){ae=af}}else{Z=ag._activeHandleDrag=ag._lastHandleDrag;ae=ag._keyMap[ac.keyCode](ae);if(af>ae){af=ae}}ag._setValueInRange(af,ae);ab=Math.max(af,ag.options.selectionStart);aa=Math.min(ae,ag.options.selectionEnd);Z.selectionEnd=Math.max(aa,ag.options.selectionStart);Z.selectionStart=Math.min(ab,ag.options.selectionEnd);Z._updateTooltip(ag.value()[ag._activeHandle]);ac.preventDefault()}},_update:function(ab,aa){var ac=this,ad=ac.value();var Z=ad[0]!=ab||ad[1]!=aa;ac.value([ab,aa]);if(Z){ac.trigger(c,{values:[ab,aa],value:[ab,aa]})}},value:function(Z){if(Z&&Z.length){return this._value(Z[0],Z[1])}else{return this._value()}},_value:function(ad,Z){var ae=this,aa=ae.options,ac=aa.selectionStart,ab=aa.selectionEnd;if(isNaN(ad)&&isNaN(Z)){return[ac,ab]}else{ad=H(ad);Z=H(Z)}if(ad>=aa.min&&ad<=aa.max&&Z>=aa.min&&Z<=aa.max&&ad<=Z){if(ac!=ad||ab!=Z){ae.element.find("input").eq(0).prop("value",p(ad)).end().eq(1).prop("value",p(Z));aa.selectionStart=ad;aa.selectionEnd=Z;ae._refresh();ae._refreshAriaAttr(ad,Z)}}},values:function(aa,Z){if(r(aa)){return this._value(aa[0],aa[1])}else{return this._value(aa,Z)}},_refresh:function(){var aa=this,Z=aa.options;aa.trigger(y,{values:[Z.selectionStart,Z.selectionEnd],value:[Z.selectionStart,Z.selectionEnd]});if(Z.selectionStart==Z.max&&Z.selectionEnd==Z.max){aa._setZIndex("firstHandle")}},_refreshAriaAttr:function(ad,ab){var ae=this,aa=ae.wrapper.find(k),Z=ae._activeHandleDrag,ac;ac=ae._getFormattedValue([ad,ab],Z);aa.eq(0).attr("aria-valuenow",ad);aa.eq(1).attr("aria-valuenow",ab);aa.attr("aria-valuetext",ac)},_setValueInRange:function(ab,aa){var Z=this.options;ab=u.max(u.min(ab,Z.max),Z.min);aa=u.max(u.min(aa,Z.max),Z.min);if(ab==Z.max&&aa==Z.max){this._setZIndex("firstHandle")}this._update(u.min(ab,aa),u.max(ab,aa))},_setZIndex:function(Z){this.wrapper.find(k).each(function(aa){a(this).css("z-index",Z=="firstHandle"?1-aa:aa)})},destroy:function(){var Z=this;Y.fn.destroy.call(Z);Z.wrapper.off(A).find(S+", "+V).off(A).end().find(k).off(A);Z._firstHandleDrag.draggable.destroy();Z._lastHandleDrag.draggable.destroy()}});G.Selection=function(Z,ad,ac){function ab(am){am=am||[];var al=am[0]-ac.min,ai=am[1]-ac.min,ak=u.ceil(H(al/ac.smallStep)),ah=u.ceil(H(ai/ac.smallStep)),aj=ad._pixelSteps[ak],ag=ad._pixelSteps[ah],ae=parseInt(Z.eq(0)[ad._outerSize]()/2,10),af=ad._isRtl?2:0;Z.eq(0).css(ad._position,aj-ae-af).end().eq(1).css(ad._position,ag-ae-af);aa(aj,ag)}function aa(ai,ag){var ae,ah,af=ad._trackDiv.find(".k-slider-selection");ae=u.abs(ai-ag);af[ad._size](ae);if(ad._isRtl){ah=u.max(ai,ag);af.css("right",ad._maxSelection-ah-1)}else{ah=u.min(ai,ag);af.css(ad._position,ah-1)}}ab(ad.value());ad.bind([c,J,y],function(ae){ab(ae.values)})};s.ui.plugin(G)})(window.kendo.jQuery);kendo_module({id:"splitter",name:"Splitter",category:"web",description:"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.",depends:["resizable"]});(function(a,E){var n=window.kendo,D=n.ui,o=n.keys,g=a.extend,z=a.proxy,H=D.Widget,A=/^\d+(\.\d+)?px$/i,y=/^\d+(\.\d+)?%$/i,t=".kendoSplitter",f="expand",c="collapse",d="contentLoad",e="error",B="resize",q="layoutChange",i="horizontal",F="vertical",r="mouseenter",b="click",u="pane",s="mouseleave",h="k-state-focused",p="k-"+u,v="."+p;function l(I){return y.test(I)}function m(I){return A.test(I)||/^\d+$/.test(I)}function k(I){return !l(I)&&!m(I)}function w(I,J){return function(K,N){var L=this.element.find(K).data(u);if(arguments.length==1){return L[I]}L[I]=N;if(J){var M=this.element.data("kendo"+this.options.name);M.trigger(B)}}}var C=H.extend({init:function(I,K){var L=this,J;H.fn.init.call(L,I,K);L.wrapper=L.element;J=L.options.orientation.toLowerCase()!=F;L.orientation=J?i:F;L._dimension=J?"width":"height";L._keys={decrease:J?o.LEFT:o.UP,increase:J?o.RIGHT:o.DOWN};L._resizeStep=10;L.bind(B,z(L._resize,L));L._marker=n.guid().substring(0,8);L._resizeHandler=function(){L.trigger(B)};L._initPanes();L.resizing=new x(L);L.element.triggerHandler("init"+t)},events:[f,c,d,e,B,q],_parentSplitter:function(){return this.element.parent().closest(".k-splitter")},_attachEvents:function(){var L=this,I=L.options.orientation,J=L._parentSplitter();L.element.children(".k-splitbar-draggable-"+I).on("keydown"+t,a.proxy(L._keydown,L)).on("mousedown"+t,function(M){M.currentTarget.focus()}).on("focus"+t,function(M){a(M.currentTarget).addClass(h)}).on("blur"+t,function(M){a(M.currentTarget).removeClass(h);if(L.resizing){L.resizing.end()}}).on(r+t,function(){a(this).addClass("k-splitbar-"+L.orientation+"-hover")}).on(s+t,function(){a(this).removeClass("k-splitbar-"+L.orientation+"-hover")}).on("mousedown"+t,function(){L._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+t,function(){L._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+t,z(L._togglePane,L)).children(".k-collapse-next, .k-collapse-prev").on(b+t,L._arrowClick(c)).end().children(".k-expand-next, .k-expand-prev").on(b+t,L._arrowClick(f)).end().end();if(!J.length){a(window).on("resize",L._resizeHandler)}else{var K=J.data("kendo"+L.options.name);if(K){K.bind(B,L._resizeHandler)}else{J.off("init"+t).one("init"+t,function(){a(this).data("kendo"+L.options.name).bind(B,L._resizeHandler);L._resizeHandler()})}}},_detachEvents:function(){var J=this,I=J._parentSplitter().data("kendo"+J.options.name);J.element.children(".k-splitbar-draggable-"+J.orientation).off(t).end().children(".k-splitbar").off("dblclick"+t).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(t);if(I){I.unbind(B,J._resizeHandler)}else{a(window).off("resize",J._resizeHandler)}},options:{name:"Splitter",orientation:i,panes:[]},destroy:function(){var I=this;H.fn.destroy.call(I);I._detachEvents();if(I.resizing){I.resizing.destroy()}n.destroy(I.element)},_keydown:function(J){var Q=this,L=J.keyCode,O=Q.resizing,P=a(J.currentTarget),M=Q._keys,K=L===M.increase,I=L===M.decrease,N;if(K||I){if(J.ctrlKey){N=P[I?"next":"prev"]();if(O&&O.isResizing()){O.end()}if(!N[Q._dimension]()){Q._triggerAction(f,N)}else{Q._triggerAction(c,P[I?"prev":"next"]())}}else{if(O){O.move((I?-1:1)*Q._resizeStep,P)}}J.preventDefault()}else{if(L===o.ENTER&&O){O.end();J.preventDefault()}}},_initPanes:function(){var J=this,I=J.options.panes||[];J.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(L,M){var K=I&&I[L];J._initPane(M,K)}).end();J.trigger(B)},_initPane:function(J,I){J=a(J).attr("role","group").addClass(p);J.data(u,I?I:{}).toggleClass("k-scrollable",I?I.scrollable!==false:true);this.ajaxRequest(J)},ajaxRequest:function(J,M,I){var L=this,K;J=L.element.find(J);K=J.data(u);M=M||K.contentUrl;if(M){J.append("<span class='k-icon k-loading k-pane-loading' />");if(n.isLocalUrl(M)){jQuery.ajax({url:M,data:I||{},type:"GET",dataType:"html",success:function(N){J.html(N);L.trigger(d,{pane:J[0]})},error:function(O,N){L.trigger(e,{pane:J[0],status:N,xhr:O})}})}else{J.removeClass("k-scrollable").html("<iframe src='"+M+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(J,I){if(!this.trigger(J,{pane:I[0]})){this[J](I[0])}},_togglePane:function(J){var L=this,K=a(J.target),I;if(K.closest(".k-splitter")[0]!=L.element[0]){return}I=K.children(".k-icon:not(.k-resize-handle)");if(I.length!==1){return}if(I.is(".k-collapse-prev")){L._triggerAction(c,K.prev())}else{if(I.is(".k-collapse-next")){L._triggerAction(c,K.next())}else{if(I.is(".k-expand-prev")){L._triggerAction(f,K.prev())}else{if(I.is(".k-expand-next")){L._triggerAction(f,K.next())}}}}},_arrowClick:function(I){var J=this;return function(K){var M=a(K.target),L;if(M.closest(".k-splitter")[0]!=J.element[0]){return}if(M.is(".k-"+I+"-prev")){L=M.parent().prev()}else{L=M.parent().next()}J._triggerAction(I,L)}},_updateSplitBar:function(R,Q,M){var I=function(T,S){return S?"<div class='k-icon "+T+"' />":""},N=this.orientation,J=(Q.resizable!==false)&&(M.resizable!==false),P=Q.collapsible,O=Q.collapsed,L=M.collapsible,K=M.collapsed;R.addClass("k-splitbar k-state-default k-secondary k-splitbar-"+N).attr("role","separator").attr("aria-expanded",!(O||K)).removeClass("k-splitbar-"+N+"-hover").toggleClass("k-splitbar-draggable-"+N,J&&!O&&!K).toggleClass("k-splitbar-static-"+N,!J&&!P&&!L).html(I("k-collapse-prev",P&&!O&&!K)+I("k-expand-prev",P&&O&&!K)+I("k-resize-handle",J)+I("k-collapse-next",L&&!K&&!O)+I("k-expand-next",L&&K&&!O))},_updateSplitBars:function(){var I=this;this.element.children(".k-splitbar").each(function(){var L=a(this),K=L.prevAll(v).first().data(u),J=L.nextAll(v).first().data(u);if(!J){return}I._updateSplitBar(L,K,J)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(v)},_resize:function(){var Y=this,J=Y.element,P=J.children(v),N=Y.orientation==i,V=J.children(".k-splitbar"),W=V.length,U=N?"width":"height",Z=J[U]();if(W===0){W=P.length-1;P.slice(0,W).after("<div tabindex='0' class='k-splitbar' data-marker='"+Y._marker+"' />");Y._updateSplitBars();V=J.children(".k-splitbar")}else{Y._updateSplitBars()}V.each(function(){Z-=this[N?"offsetWidth":"offsetHeight"]});var S=0,R=0,K=a();P.css({position:"absolute",top:0})[U](function(){var aa=a(this).data(u)||{},ab;if(aa.collapsed){ab=0;a(this).css("overflow","hidden")}else{if(k(aa.size)){K=K.add(this);return}else{ab=parseInt(aa.size,10);if(l(aa.size)){ab=Math.floor(ab*Z/100)}}}R++;S+=ab;return ab});Z-=S;var L=K.length,M=Math.floor(Z/L);K.slice(0,L-1).css(U,M).end().eq(L-1).css(U,Z-(L-1)*M);var X=0,I=N?"height":"width",Q=N?"left":"top",T=N?"offsetWidth":"offsetHeight";if(L===0){var O=P.filter(function(){return !((a(this).data(u)||{}).collapsed)}).last();O[U](Z+O[0][T])}J.children(":not(script)").css(I,J[I]()).each(function(ab,aa){aa.style[Q]=Math.floor(X)+"px";X+=aa[T]});Y._detachEvents();Y._attachEvents();Y.trigger(q)},toggle:function(J,I){var L=this,K;J=L.element.find(J);K=J.data(u);if(!I&&!K.collapsible){return}if(arguments.length==1){I=K.collapsed===E?false:K.collapsed}K.collapsed=!I;if(K.collapsed){J.css("overflow","hidden")}else{J.css("overflow","")}L.trigger(B)},collapse:function(I){this.toggle(I,false)},expand:function(I){this.toggle(I,true)},_addPane:function(I,J,K){var L=this;if(K.length){L.options.panes.splice(J,0,I);L._initPane(K,I);L._removeSplitBars();L.trigger(B)}return K},append:function(I){I=I||{};var K=this,J=a("<div />").appendTo(K.element);return K._addPane(I,K.options.panes.length,J)},insertBefore:function(I,L){L=a(L);I=I||{};var M=this,J=L.index(".k-pane"),K=a("<div />").insertBefore(a(L));return M._addPane(I,J,K)},insertAfter:function(I,L){L=a(L);I=I||{};var M=this,J=L.index(".k-pane"),K=a("<div />").insertAfter(a(L));return M._addPane(I,J+1,K)},remove:function(I){I=a(I);var J=this;if(I.length){n.destroy(I);I.each(function(L,K){J.options.panes.splice(a(K).index(".k-pane"),1);a(K).remove()});J._removeSplitBars();if(J.options.panes.length){J.trigger(B)}}return J},size:w("size",true),min:w("min"),max:w("max")});D.plugin(C);var G={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var j={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function x(J){var K=this,I=J.orientation;K.owner=J;K._element=J.element;K.orientation=I;g(K,I===i?j:G);K._resizable=new n.ui.Resizable(J.element,{orientation:I,handle:".k-splitbar-draggable-"+I+"[data-marker="+J._marker+"]",hint:z(K._createHint,K),start:z(K._start,K),max:z(K._max,K),min:z(K._min,K),invalidClass:"k-restricted-size-"+I,resizeend:z(K._stop,K)})}x.prototype={press:function(I){this._resizable.press(I)},move:function(I,J){if(!this.pressed){this.press(J);this.pressed=true}if(!this._resizable.target){this._resizable.press(J)}this._resizable.move(I)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(I){var J=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+J.orientation+" k-state-default' />").css(J.alternateSizingProperty,I[J.alternateSizingProperty]())},_start:function(I){var U=this,T=a(I.currentTarget),P=T.prev(),M=T.next(),Q=P.data(u),N=M.data(u),O=parseInt(P[0].style[U.positioningProperty],10),J=parseInt(M[0].style[U.positioningProperty],10)+M[0][U.sizingDomProperty]-T[0][U.sizingDomProperty],W=parseInt(U._element.css(U.sizingProperty),10),V=function(Y){var X=parseInt(Y,10);return(m(Y)?X:(W*X)/100)||0},S=V(Q.min),R=V(Q.max)||J-O,L=V(N.min),K=V(N.max)||J-O;U.previousPane=P;U.nextPane=M;U._maxPosition=Math.min(J-L,O+R);U._minPosition=Math.max(O+S,J-K)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(I){var T=this,S=a(I.currentTarget),O=T.owner;O._panes().children(".k-splitter-overlay").remove();if(I.keyCode!==n.keys.ESC){var K=I.position,P=S.prev(),L=S.next(),Q=P.data(u),M=L.data(u),R=K-parseInt(P[0].style[T.positioningProperty],10),N=parseInt(L[0].style[T.positioningProperty],10)+L[0][T.sizingDomProperty]-K-S[0][T.sizingDomProperty],J=T._element.children(v).filter(function(){return k(a(this).data(u).size)}).length;if(!k(Q.size)||J>1){if(k(Q.size)){J--}Q.size=R+"px"}if(!k(M.size)||J>1){M.size=N+"px"}O._resizeHandler()}return false}}})(window.kendo.jQuery);kendo_module({id:"upload",name:"Upload",category:"web",description:"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.",depends:["core"]});(function(a,D){var p=window.kendo,G=p.ui.Widget,q=p.logToConsole,w=/\.([^\.]+)$/,s=".kendoUpload",x="select",F="upload",A="success",e="error",d="complete",c="cancel",t="progress",u="remove";var E=G.extend({init:function(I,L){var M=this;G.fn.init.call(M,I,L);M.name=I.name;M.multiple=M.options.multiple;M.localization=M.options.localization;var H=M.element;M.wrapper=H.closest(".k-upload");if(M.wrapper.length===0){M.wrapper=M._wrapInput(H)}M._activeInput(H);M.toggle(M.options.enabled);var K=M._ns=s+"-"+p.guid();H.closest("form").on("submit"+K,a.proxy(M._onParentFormSubmit,M)).on("reset"+K,a.proxy(M._onParentFormReset,M));if(M.options.async.saveUrl){M._module=M._supportsFormData()?new f(M):new m(M);M._async=true;var J=M.options.files;if(J.length>0){M._renderInitialFiles(J)}}else{M._module=new B(M)}if(M._supportsDrop()){M._setupDropZone()}M.wrapper.on("click",".k-upload-action",a.proxy(M._onFileAction,M)).on("click",".k-upload-selected",a.proxy(M._onUploadSelected,M))},events:[x,F,A,e,d,c,t,u],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,template:"",files:[],async:{removeVerb:"POST",autoUpload:true},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(I){var J=this,H=J.element;G.fn.setOptions.call(J,I);J.multiple=J.options.multiple;H.attr("multiple",J._supportsMultiple()?J.multiple:false);J.toggle(J.options.enabled)},enable:function(H){H=typeof(H)==="undefined"?true:H;this.toggle(H)},disable:function(){this.toggle(false)},toggle:function(H){H=typeof(H)==="undefined"?H:!H;this.wrapper.toggleClass("k-state-disabled",H);this.element.prop("disabled",H)},destroy:function(){var H=this;a(document).add(a(".k-dropzone",H.wrapper)).add(H.wrapper.closest("form")).off(H._ns);a(H.element).off(s);G.fn.destroy.call(H)},_addInput:function(I){if(!I[0].nodeType){return}var J=this,H=I.clone().val("");H.insertAfter(J.element).data("kendoUpload",J);a(J.element).hide().removeAttr("id").off(s);J._activeInput(H)},_activeInput:function(H){var I=this,J=I.wrapper;I.element=H;H.attr("multiple",I._supportsMultiple()?I.multiple:false).attr("autocomplete","off").on("click"+s,function(K){if(J.hasClass("k-state-disabled")){K.preventDefault()}}).on("focus"+s,function(){a(this).parent().addClass("k-state-focused")}).on("blur"+s,function(){a(this).parent().removeClass("k-state-focused")}).on("change"+s,a.proxy(I._onInputChange,I))},_onInputChange:function(H){var K=this,I=a(H.target),J=K.trigger(x,{files:n(I)});if(J){K._addInput(I);I.remove()}else{K._module.onSelect(H)}},_onDrop:function(J){var I=J.originalEvent.dataTransfer,L=this,H=I.files;y(J);if(H.length>0){var K=L.trigger(x,{files:g(H)});if(!K){L._module.onSelect({target:a(".k-dropzone",L.wrapper)},H)}}},_renderInitialFiles:function(J){var L=this;var K=0;for(K=0;K<J.length;K++){var H=J[K];var I=L._enqueueFile(H.name,{fileNames:[H]});I.addClass("k-file-success").data("files",[J[K]]);a(".k-progress",I).width("100%");a(".k-upload-status",I).prepend("<span class='k-upload-pct'>100%</span>");L._fileAction(I,u)}},_prepareTemplateData:function(K,H){var I=H.fileNames,L={},M=0,J=0;for(J=0;J<I.length;J++){M+=I[J].size}L.name=K;L.size=M;L.files=H.fileNames;return L},_prepareDefaultFileEntryTemplate:function(K,H){var J="";var I=a("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+K+"'>"+K+"</span><strong class='k-upload-status'></strong></li>");if(H.fileNames.length==1&&!!H.fileNames[0].extension){J=H.fileNames[0].extension.substring(1);a(".k-icon",I).addClass("k-i-"+J)}return I},_enqueueFile:function(L,H){var P=this;var I;var J;var K=a(".k-upload-files",P.wrapper);var M=P.options;var N=M.template;var O;if(K.length===0){K=a("<ul class='k-upload-files k-reset'></ul>").appendTo(P.wrapper);if(!P.options.showFileList){K.hide()}P.wrapper.removeClass("k-upload-empty")}I=a(".k-file",K);if(!N){J=P._prepareDefaultFileEntryTemplate(L,H)}else{O=P._prepareTemplateData(L,H);N=p.template(N);J=a("<li class='k-file'>"+N(O)+"</li>");J.find(".k-upload-action").addClass("k-button k-button-bare")}J.appendTo(K).data(H);if(!P._async){a(".k-progress",J).width("100%")}if(!P.multiple&&I.length>0){P._module.onRemove({target:a(I,P.wrapper)})}return J},_removeFileEntry:function(J){var L=this;var K=J.closest(".k-upload-files");var I;var H;J.remove();I=a(".k-file",K);H=a(".k-file-success, .k-file-error",K);if(H.length===I.length){this._hideUploadButton()}if(I.length===0){K.remove();L.wrapper.addClass("k-upload-empty");L._hideHeaderUploadstatus()}},_fileAction:function(J,H){var I={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};var K={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!I.hasOwnProperty(H)){return}this._clearFileAction(J);if(!this.options.template){J.find(".k-upload-status .k-upload-action").remove();J.find(".k-upload-status").append(this._renderAction(I[H],this.localization[H],K[H]))}else{J.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+K[H]+" "+I[H]+"' title='"+this.localization[H]+"'></span>").show()}},_fileState:function(I,K){var J=this.localization,L={uploading:{text:J.statusUploading},uploaded:{text:J.statusUploaded},failed:{text:J.statusFailed}},H=L[K];if(H){a(".k-icon:not(.k-delete, .k-cancel, .k-retry)",I).text(H.text)}},_renderAction:function(H,I,J){if(H!==""){return a("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+J+" "+H+"' title='"+I+"'></span></button>")}else{return a("<button type='button' class='k-button'>"+I+"</button>")}},_clearFileAction:function(H){a(".k-upload-action",H).empty().hide()},_onFileAction:function(I){var M=this;if(!M.wrapper.hasClass("k-state-disabled")){var H=a(I.target).closest(".k-upload-action"),L=H.find(".k-icon"),K=H.closest(".k-file"),J={files:K.data("fileNames")};if(L.hasClass("k-delete")){if(!M.trigger(u,J)){M._module.onRemove({target:a(K,M.wrapper)},J.data)}}else{if(L.hasClass("k-cancel")){M.trigger(c,J);M._module.onCancel({target:a(K,M.wrapper)});this._checkAllComplete();M._updateHeaderUploadStatus()}else{if(L.hasClass("k-retry")){a(".k-warning",K).remove();M._module.onRetry({target:a(K,M.wrapper)})}}}}return false},_onUploadSelected:function(){this._module.onSaveSelected();return false},_onFileProgress:function(H,I){var J;if(!this.options.template){J=a(".k-upload-pct",H.target);if(J.length===0){a(".k-upload-status",H.target).prepend("<span class='k-upload-pct'></span>")}a(".k-upload-pct",H.target).text(I+"%");a(".k-progress",H.target).width(I+"%")}else{a(".k-progress",H.target).width(I+"%")}this.trigger(t,{files:i(H).data("fileNames"),percentComplete:I})},_onUploadSuccess:function(H,J,K){var I=i(H);this._fileState(I,"uploaded");I.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(A,{files:I.data("fileNames"),response:J,operation:"upload",XMLHttpRequest:K});if(this._supportsRemove()){this._fileAction(I,u)}else{this._clearFileAction(I)}this._checkAllComplete()},_onUploadError:function(H,K){var I=i(H);var J=a(".k-upload-pct",I);this._fileState(I,"failed");I.removeClass("k-file-progress").addClass("k-file-error");a(".k-progress",I).width("100%");if(J.length>0){J.empty().removeClass("k-upload-pct").addClass("k-icon k-warning")}else{a(".k-upload-status",I).prepend("<span class='k-icon k-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(I,"retry");this.trigger(e,{operation:"upload",files:I.data("fileNames"),XMLHttpRequest:K});q("Server response: "+K.responseText);this._checkAllComplete()},_showUploadButton:function(){var H=a(".k-upload-selected",this.wrapper);if(H.length===0){H=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(H)},_hideUploadButton:function(){a(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var J=this.localization;var H=a(".k-dropzone",this.wrapper);var I=a(".k-upload-status-total",this.wrapper);if(I.length!==0){I.remove()}I='<strong class="k-upload-status k-upload-status-total">'+J.headerStatusUploading+'<span class="k-icon k-loading">'+J.statusUploading+"</span></strong>";if(H.length>0){H.append(I)}else{a(".k-upload-button",this.wrapper).after(I)}},_updateHeaderUploadStatus:function(){var H=a(".k-file",this.wrapper).not(".k-file-success, .k-file-error");if(H.length===0){var I=a(".k-upload-status-total",this.wrapper);var J=a(".k-icon",I).removeClass("k-loading").addClass("k-warning").text(this.localization.statusUploaded);I.text(this.localization.headerStatusUploaded).append(J)}},_hideHeaderUploadstatus:function(){a(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var J=this,H=J.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!H.value){var I=a(H);I.attr("disabled","disabled");window.setTimeout(function(){I.removeAttr("disabled")},0)}},_onParentFormReset:function(){a(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var H=this._userAgent().indexOf("Windows")>-1;return !p.support.browser.opera&&!(p.support.browser.safari&&H)},_supportsDrop:function(){var K=this._userAgent().toLowerCase(),H=/chrome/.test(K),I=!H&&/safari/.test(K),J=I&&/windows/.test(K);return !J&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var J=this;a(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var I=J._ns;var H=a(".k-dropzone",J.wrapper).append(a("<em>"+J.localization.dropFilesHere+"</em>")).on("dragenter"+I,y).on("dragover"+I,function(K){K.preventDefault()}).on("drop"+I,a.proxy(this._onDrop,this));b(H,I,function(){H.addClass("k-dropzone-hovered")},function(){H.removeClass("k-dropzone-hovered")});b(a(document),I,function(){H.addClass("k-dropzone-active");H.closest(".k-upload").removeClass("k-upload-empty")},function(){H.removeClass("k-dropzone-active");if(a("li.k-file",H.closest(".k-upload")).length===0){H.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(I,H,K,J){var N=this,M=N.options.async.removeField||"fileNames",L=a.extend(H,h());L[M]=I;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:r,url:this.options.async.removeUrl,traditional:true,data:L,success:K,error:J})},_wrapInput:function(H){var J=this;var I=J.options;H.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>");if(!I.async.saveUrl){H.closest(".k-upload").addClass("k-upload-sync")}H.closest(".k-upload").addClass("k-upload-empty");H.closest(".k-button").append("<span>"+this.localization.select+"</span>");return H.closest(".k-upload")},_checkAllComplete:function(){if(a(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(d)}}});var B=function(H){this.name="syncUploadModule";this.element=H.wrapper;this.upload=H;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};B.prototype={onSelect:function(H){var K=this.upload;var J=a(H.target);K._addInput(J);var I=K._enqueueFile(l(J),{relatedInput:J,fileNames:n(J)});K._fileAction(I,u)},onRemove:function(H){var I=i(H);I.data("relatedInput").remove();this.upload._removeFileEntry(I)}};var m=function(H){this.name="iframeUploadModule";this.element=H.wrapper;this.upload=H;this.iframes=[]};E._frameId=0;m.prototype={onSelect:function(H){var K=this.upload,J=a(H.target);var I=this.prepareUpload(J);if(K.options.async.autoUpload){this.performUpload(I)}else{if(K._supportsRemove()){this.upload._fileAction(I,u)}K._showUploadButton()}},prepareUpload:function(M){var N=this.upload;var H=a(N.element);var L=N.options.async.saveField||M.attr("name");N._addInput(M);M.attr("name",L);var K=this.createFrame(N.name+"_"+E._frameId++);this.registerFrame(K);var J=this.createForm(N.options.async.saveUrl,K.attr("name")).append(H);var I=N._enqueueFile(l(M),{frame:K,relatedInput:H,fileNames:n(M)});K.data({form:J,file:I});return I},performUpload:function(J){var I={files:J.data("fileNames")},L=J.data("frame"),N=this.upload;if(!N.trigger(F,I)){N._hideUploadButton();N._showHeaderUploadStatus();L.appendTo(document.body);var K=L.data("form").attr("action",N.options.async.saveUrl).appendTo(document.body);I.data=a.extend({},I.data,h());for(var M in I.data){var H=K.find("input[name='"+M+"']");if(H.length===0){H=a("<input>",{type:"hidden",name:M}).appendTo(K)}H.val(I.data[M])}N._fileAction(J,c);N._fileState(J,"uploading");a(J).addClass("k-file-progress");L.one("load",a.proxy(this.onIframeLoad,this));K[0].submit()}else{N._removeFileEntry(L.data("file"));this.cleanupFrame(L);this.unregisterFrame(L)}},onSaveSelected:function(){var H=this;a(".k-file",this.element).each(function(){var I=a(this),J=o(I);if(!J){H.performUpload(I)}})},onIframeLoad:function(H){var J=a(H.target),K;try{K=J.contents().text()}catch(I){K="Error trying to get server response: "+I}this.processResponse(J,K)},processResponse:function(J,L){var I=J.data("file"),K=this,H={responseText:L};C(L,function(M){a.extend(H,{statusText:"OK",status:"200"});K.upload._onFileProgress({target:a(I,K.upload.wrapper)},100);K.upload._onUploadSuccess({target:a(I,K.upload.wrapper)},M,H);K.cleanupFrame(J);K.unregisterFrame(J)},function(){a.extend(H,{statusText:"error",status:"500"});K.upload._onUploadError({target:a(I,K.upload.wrapper)},H)})},onCancel:function(H){var I=a(H.target).data("frame");this.stopFrameSubmit(I);this.cleanupFrame(I);this.unregisterFrame(I);this.upload._removeFileEntry(I.data("file"))},onRetry:function(H){var I=i(H);this.performUpload(I)},onRemove:function(I,H){var J=i(I);var K=J.data("frame");if(K){this.unregisterFrame(K);this.upload._removeFileEntry(J);this.cleanupFrame(K)}else{v(J,this.upload,H)}},onAbort:function(){var H=this.element,I=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(H);I.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(H){return a("<iframe name='"+H+"' id='"+H+"' style='display:none;' />")},createForm:function(H,I){return a("<form enctype='multipart/form-data' method='POST' action='"+H+"' target='"+I+"'/>")},stopFrameSubmit:function(H){if(typeof(H.stop)!="undefined"){H.stop()}else{if(H.document){H.document.execCommand("Stop")}}},registerFrame:function(H){this.iframes.push(H)},unregisterFrame:function(H){this.iframes=a.grep(this.iframes,function(I){return I.attr("name")!=H.attr("name")})},cleanupFrame:function(I){var H=I.data("form");I.data("file").data("frame",null);setTimeout(function(){H.remove();I.remove()},1)}};var f=function(H){this.name="formDataUploadModule";this.element=H.wrapper;this.upload=H};f.prototype={onSelect:function(H,L){var N=this.upload,K=this,M=a(H.target),J=L?g(L):this.inputFiles(M),I=this.prepareUpload(M,J);a.each(I,function(){if(N.options.async.autoUpload){K.performUpload(this)}else{if(N._supportsRemove()){N._fileAction(this,u)}N._showUploadButton()}})},prepareUpload:function(J,I){var H=this.enqueueFiles(I);if(J.is("input")){a.each(H,function(){a(this).data("relatedInput",J)});J.data("relatedFileEntries",H);this.upload._addInput(J)}return H},enqueueFiles:function(K){var O=this.upload,N,M,L=K.length,H,J,I=[];if(O.options.async.batch===true){N=a.map(K,function(P){return P.name}).join(", ");J=O._enqueueFile(N,{fileNames:K});J.data("files",K);I.push(J)}else{for(M=0;M<L;M++){H=K[M];N=H.name;J=O._enqueueFile(N,{fileNames:[H]});J.data("files",[H]);I.push(J)}}return I},inputFiles:function(H){return n(H)},performUpload:function(I){var L=this.upload,J=this.createFormData(I.data("files")),M=new XMLHttpRequest(),H={files:I.data("fileNames"),XMLHttpRequest:M};if(!L.trigger(F,H)){L._fileAction(I,c);L._hideUploadButton();L._showHeaderUploadStatus();H.data=a.extend({},H.data,h());for(var K in H.data){J.append(K,H.data[K])}L._fileState(I,"uploading");a(I).addClass("k-file-progress");this.postFormData(L.options.async.saveUrl,J,I,M)}else{this.removeFileEntry(I)}},onSaveSelected:function(){var H=this;a(".k-file",this.element).each(function(){var I=a(this),J=o(I);if(!J){H.performUpload(I)}})},onCancel:function(H){var I=i(H);this.stopUploadRequest(I);this.removeFileEntry(I)},onRetry:function(H){var I=i(H);this.performUpload(I)},onRemove:function(I,H){var J=i(I);if(J.hasClass("k-file-success")){v(J,this.upload,H)}else{this.removeFileEntry(J)}},postFormData:function(K,H,I,L){var J=this;I.data("request",L);L.addEventListener("load",function(M){J.onRequestSuccess.call(J,M,I)},false);L.addEventListener(e,function(M){J.onRequestError.call(J,M,I)},false);L.upload.addEventListener("progress",function(M){J.onRequestProgress.call(J,M,I)},false);L.open("POST",K,true);L.withCredentials="true";L.send(H)},createFormData:function(H){var I=new FormData(),L=this.upload,J,K=H.length;for(J=0;J<K;J++){I.append(L.options.async.saveField||L.name,H[J].rawFile)}return I},onRequestSuccess:function(H,I){var L=H.target,J=this;function K(){J.upload._onUploadError({target:a(I,J.upload.wrapper)},L)}if(L.status>=200&&L.status<=299){C(L.responseText,function(M){J.upload._onFileProgress({target:a(I,J.upload.wrapper)},100);J.upload._onUploadSuccess({target:a(I,J.upload.wrapper)},M,L);J.cleanupFileEntry(I)},K)}else{K()}},onRequestError:function(H,I){var J=H.target;this.upload._onUploadError({target:a(I,this.upload.wrapper)},J)},cleanupFileEntry:function(H){var I=H.data("relatedInput"),J=true;if(I){a.each(I.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=H[0]){J=J&&this.hasClass("k-file-success")}});if(J){I.remove()}}},removeFileEntry:function(H){this.cleanupFileEntry(H);this.upload._removeFileEntry(H)},onRequestProgress:function(H,I){var J=Math.round(H.loaded*100/H.total);this.upload._onFileProgress({target:a(I,this.upload.wrapper)},J)},stopUploadRequest:function(H){H.data("request").abort()}};function l(H){return a.map(n(H),function(I){return I.name}).join(", ")}function n(H){var I=H[0];if(I.files){return g(I.files)}else{return[{name:z(I.value),extension:j(I.value),size:null}]}}function g(H){return a.map(H,function(I){return k(I)})}function k(I){var H=I.name||I.fileName;return{name:p.htmlEncode(H),extension:j(H),size:I.size||I.fileSize,rawFile:I}}function j(H){var I=H.match(w);return I?I[0]:""}function z(H){var I=H.lastIndexOf("\\");return(I!=-1)?H.substr(I+1):H}function v(I,N,H){if(!N._supportsRemove()){return}var K=I.data("fileNames");var J=a.map(K,function(O){return O.name});N._submitRemove(J,H,function M(O,P,Q){N._removeFileEntry(I);N.trigger(A,{operation:"remove",files:K,response:O,XMLHttpRequest:Q})},function L(O){N.trigger(e,{operation:"remove",files:K,XMLHttpRequest:O});q("Server response: "+O.responseText)})}function C(I,L,K){var M=false,J="";try{J=a.parseJSON(r(I));M=true}catch(H){K()}if(M){L(J)}}function r(H){if(typeof H==="undefined"||H===""){H="{}"}return H}function y(H){H.stopPropagation();H.preventDefault()}function b(H,K,L,M){var I,J;H.on("dragenter"+K,function(){L();J=new Date();if(!I){I=setInterval(function(){var N=new Date()-J;if(N>100){M();clearInterval(I);I=null}},100)}}).on("dragover"+K,function(){J=new Date()})}function o(H){return H.is(".k-file-progress, .k-file-success, .k-file-error")}function i(H){return a(H.target).closest(".k-file")}function h(){var J={},I=a("meta[name=csrf-token]").attr("content"),H=a("meta[name=csrf-param]").attr("content");a("input[name^='__RequestVerificationToken']").each(function(){J[this.name]=this.value});if(H!==D&&I!==D){J[H]=I}return J}p.ui.plugin(E)})(window.kendo.jQuery);kendo_module({id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop"]});(function(a,R){var t=window.kendo,T=t.ui.Widget,k=t.ui.Draggable,r=a.isPlainObject,c=t._activeElement,K=a.proxy,o=a.extend,m=a.each,O=t.template,d="body",P,G=".kendoWindow",z=".k-window",C=".k-window-title",D=C+"bar",A=".k-window-content",B=".k-resize-handle",w=".k-overlay",s="k-content-frame",E="k-loading",v="k-state-hover",u="k-state-focused",S=":visible",p="hidden",g="cursor",H="open",b="activate",h="deactivate",e="close",L="refresh",M="resize",l="dragstart",j="dragend",n="error",I="overflow",X="zIndex",F=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",x=".k-i-pin",y=".k-i-unpin",J=x+","+y,Q=".k-window-titlebar .k-window-action",q=t.isLocalUrl;function i(Y){return(typeof Y!="undefined")}function f(aa,Z,Y){return Math.max(Math.min(parseInt(aa,10),Y===Infinity?Y:parseInt(Y,10)),parseInt(Z,10))}function N(Y,Z){return function(){var ac=this,ad=ac.wrapper,ab=ad[0].style,aa=ac.options;if(aa.isMaximized||aa.isMinimized){return}ac.restoreOptions={width:ab.width,height:ab.height};ad.find(B).hide().end().find(F).parent().hide().eq(0).before(P.action({name:"Restore"}));Z.call(ac);if(Y=="maximize"){ac.wrapper.find(D).find(J).parent().hide()}else{ac.wrapper.find(D).find(J).parent().show()}return ac}}var U=T.extend({init:function(aa,ae){var ag=this,aj,ad={},ah,Z,ac=false,Y,ai,af=ae&&ae.actions&&!ae.actions.length,ab;T.fn.init.call(ag,aa,ae);ae=ag.options;aa=ag.element;Y=ae.content;if(af){ae.actions=[]}ag.appendTo=a(a(ae.appendTo)[0]||document.body);ag._animations();if(Y&&!r(Y)){Y=ae.content={url:Y}}aa.find("script").filter(function(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}).remove();if(!aa.parent().is(ag.appendTo)&&(ae.position.top===R||ae.position.left===R)){if(aa.is(S)){ad=aa.offset();ac=true}else{ah=aa.css("visibility");Z=aa.css("display");aa.css({visibility:p,display:""});ad=aa.offset();aa.css({visibility:ah,display:Z})}}if(!i(ae.visible)||ae.visible===null){ae.visible=aa.is(S)}aj=ag.wrapper=aa.closest(z);if(!aa.is(".k-content")||!aj[0]){aa.addClass("k-window-content k-content");ag._createWindow(aa,ae);aj=ag.wrapper=aa.closest(z);ag._dimensions()}aj.css({top:ae.position.top||ad.top||"",left:ae.position.left||ad.left||""});if(ae.pinned){ag.pin(true)}if(Y){ag.refresh(Y)}if(ae.visible){ag.toFront()}ai=aj.children(A);ag._tabindex(ai);if(ae.visible&&ae.modal){ag._overlay(aj.is(S)).css({opacity:0.5})}aj.on("mouseenter"+G,Q,function(){a(this).addClass(v)}).on("mouseleave"+G,Q,function(){a(this).removeClass(v)}).on("click"+G,Q,K(ag._windowActionHandler,ag));ai.on("keydown"+G,K(ag._keydown,ag)).on("focus"+G,function(){aj.addClass(u)}).on("blur"+G,function(){aj.removeClass(u)});this._resizable();this._draggable();ab=aa.attr("id");if(ab){ab=ab+"_wnd_title";aj.find(D).children(C).attr("id",ab);ai.attr({role:"dialog","aria-labelledby":ab})}aj.add(aj.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+G,K(ag.toFront,ag));ag.touchScroller=t.touchScroller(aa);ag._resizeHandler=function(ak){return ag._onDocumentResize(ak)};a(window).on("resize",ag._resizeHandler);if(ae.visible){ag.trigger(H);ag.trigger(b)}t.notify(ag)},_dimensions:function(){var ab=this,ad=ab.wrapper,aa=ab.options,ac=aa.width,Y=aa.height,Z=aa.maxHeight;ab.title(aa.title);m(["minWidth","minHeight","maxWidth","maxHeight"],function(ae,af){var ag=aa[af];if(ag&&ag!=Infinity){ad.css(af,ag)}});if(Z&&Z!=Infinity){ab.element.css("maxHeight",Z)}if(ac){if(ac.toString().indexOf("%")>0){ad.width(ac)}else{ad.width(f(ac,aa.minWidth,aa.maxWidth))}}if(Y){if(Y.toString().indexOf("%")>0){ad.height(Y)}else{ad.height(f(Y,aa.minHeight,aa.maxHeight))}}if(!aa.visible){ad.hide()}},_animations:function(){var Y=this.options;if(Y.animation===false){Y.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_resizable:function(){var Y=this.options.resizable;var Z=this.wrapper;if(Y){Z.on("dblclick"+G,D,K(function(aa){if(!a(aa.target).closest(".k-window-action").length){this.toggleMaximization()}},this));m("n e s w se sw ne nw".split(" "),function(ab,aa){Z.append(P.resizeHandle(aa))});this.resizing=new W(this)}else{if(this.resizing){Z.off("dblclick"+G).find(B).remove();this.resizing.destroy();this.resizing=null}}},_draggable:function(){var Y=this.options.draggable;if(Y){this.dragging=new V(this,Y.dragHandle||D)}else{if(this.dragging){this.dragging.destroy();this.dragging=null}}},setOptions:function(Y){T.fn.setOptions.call(this,Y);this._animations();this._dimensions();this._resizable();this._draggable()},events:[H,b,h,e,L,M,l,j,n],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,position:{},content:null,visible:null,height:null,width:null},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(Y){return Y.toLowerCase()}))>-1},_keydown:function(Z){var ai=this,ah=ai.options,ad=t.keys,ac=Z.keyCode,aj=ai.wrapper,ag,aa,Y=10,ab=ai.options.isMaximized,af,ae;if(Z.target!=Z.currentTarget||ai._closing){return}if(ac==ad.ESC&&ai._closable()){ai._close(true)}if(ah.draggable&&!Z.ctrlKey&&!ab){ag=t.getOffset(aj);if(ac==ad.UP){aa=aj.css("top",ag.top-Y)}else{if(ac==ad.DOWN){aa=aj.css("top",ag.top+Y)}else{if(ac==ad.LEFT){aa=aj.css("left",ag.left-Y)}else{if(ac==ad.RIGHT){aa=aj.css("left",ag.left+Y)}}}}}if(ah.resizable&&Z.ctrlKey&&!ab){if(ac==ad.UP){aa=true;ae=aj.height()-Y}else{if(ac==ad.DOWN){aa=true;ae=aj.height()+Y}}if(ac==ad.LEFT){aa=true;af=aj.width()-Y}else{if(ac==ad.RIGHT){aa=true;af=aj.width()+Y}}if(aa){aj.css({width:f(af,ah.minWidth,ah.maxWidth),height:f(ae,ah.minHeight,ah.maxHeight)});ai.trigger(M)}}if(aa){Z.preventDefault()}},_overlay:function(Z){var Y=this.appendTo.children(w),aa=this.wrapper;if(!Y.length){Y=a("<div class='k-overlay' />")}Y.insertBefore(aa[0]).toggle(Z).css(X,parseInt(aa.css(X),10)-1);return Y},_windowActionHandler:function(Y){var Z=a(Y.target).closest(".k-window-action").find(".k-icon"),aa=this;if(aa._closing){return}m({"k-i-close":function(){aa._close(true)},"k-i-maximize":aa.maximize,"k-i-minimize":aa.minimize,"k-i-restore":aa.restore,"k-i-refresh":aa.refresh,"k-i-pin":aa.pin,"k-i-unpin":aa.unpin},function(ab,ac){if(Z.hasClass(ab)){Y.preventDefault();ac.call(aa);return false}})},_modals:function(){var Y=this;return a(z).filter(function(){var aa=a(this);var Z=Y._object(aa).options;return Z.modal&&Z.visible&&aa.is(S)}).sort(function(Z,aa){return +a(Z).css("zIndex")-+a(aa).css("zIndex")})},_object:function(Z){var Y=Z.children(A);return Y.data("kendoWindow")||Y.data("kendo"+this.options.name)},center:function(){var Z=this,aa=Z.wrapper,Y=a(window);if(Z.options.isMaximized){return Z}aa.css({left:Y.scrollLeft()+Math.max(0,(Y.width()-aa.width())/2),top:Y.scrollTop()+Math.max(0,(Y.height()-aa.height())/2)});return Z},title:function(Z){var aa=this,ae=aa.wrapper,Y=aa.options,ac=ae.find(D),ab=ac.children(C),ad=ac.outerHeight();if(!arguments.length){return ab.text()}if(Z===false){ae.addClass("k-window-titleless");ac.remove()}else{if(!ac.length){ae.prepend(P.titlebar(o(P,Y)))}ae.css("padding-top",ad);ac.css("margin-top",-ad)}ab.text(Z);return aa},content:function(Z){var Y=this.wrapper.children(A),aa=Y.children(".km-scroll-container");Y=aa[0]?aa:Y;if(!Z){return Y.html()}t.destroy(this.element.children());Y.html(Z);return this},open:function(){var ae=this,af=ae.wrapper,aa=ae.options,ad=aa.animation.open,Y=af.children(A),Z=Y.css(I),ab;if(!ae.trigger(H)){if(ae._closing){af.kendoStop(true,true)}ae._closing=false;ae.toFront();if(aa.autoFocus){ae.element.focus()}aa.visible=true;if(aa.modal){ab=ae._overlay(false);ab.kendoStop(true,true);if(ad.duration&&t.effects.Fade){var ac=t.fx(ab).fadeIn();ac.duration(ad.duration||0);ac.endValue(0.5);ac.play()}else{ab.css("opacity",0.5)}ab.show()}if(!af.is(S)){Y.css(I,p);af.show().kendoStop().kendoAnimate({effects:ad.effects,duration:ad.duration,complete:function(){if(aa.autoFocus){ae.element.focus()}ae.trigger(b);Y.css(I,Z)}})}}if(aa.isMaximized){ae._documentScrollTop=a(document).scrollTop();a("html, body").css(I,p)}return ae},_removeOverlay:function(ae){var aa=this._modals();var ab=this.options;var Z=ab.modal&&!aa.length;var ac=ab.modal?this._overlay(true):a(R);var Y=ab.animation.close;if(Z){if(!ae&&Y.duration&&t.effects.Fade){var ad=t.fx(ac).fadeOut();ad.duration(Y.duration||0);ad.startValue(0.5);ad.play()}else{this._overlay(false).remove()}}else{if(aa.length){this._object(aa.last())._overlay(true)}}},_close:function(ac){var ab=this,ad=ab.wrapper,Z=ab.options,aa=Z.animation.open,Y=Z.animation.close;if(ad.is(S)&&!ab.trigger(e,{userTriggered:!!ac})){ab._closing=true;Z.visible=false;a(z).each(function(ag,af){var ae=a(af).find(A);if(af!=ad&&ae.find("> ."+s).length>0){ae.children(w).remove()}});this._removeOverlay();ad.kendoStop().kendoAnimate({effects:Y.effects||aa.effects,reverse:Y.reverse===true,duration:Y.duration,complete:function(){ad.hide().css("opacity","");ab.trigger(h);var ae=ab._object(ab._modals().last());if(ae){ae.toFront()}}})}if(ab.options.isMaximized){a("html, body").css(I,"");if(ab._documentScrollTop&&ab._documentScrollTop>0){a(document).scrollTop(ab._documentScrollTop)}}},close:function(){this._close(false);return this},_actionable:function(Y){return a(Y).is(Q+","+Q+" .k-icon,:input,a")},_shouldFocus:function(aa){var Y=c(),Z=this.element;return this.options.autoFocus&&!a(Y).is(Z)&&!this._actionable(aa)&&(!Z.find(Y).length||!Z.find(aa).length)},toFront:function(Z){var ad=this,af=ad.wrapper,Y=af[0],ag=+af.css(X),aa=ag,ac=(Z&&Z.target)||null;a(z).each(function(aj,ai){var ak=a(ai),al=ak.css(X),ah=ak.find(A);if(!isNaN(al)){ag=Math.max(+al,ag)}if(ai!=Y&&ah.find("> ."+s).length>0){ah.append(P.overlay)}});if(!af[0].style.zIndex||aa<ag){af.css(X,ag+2)}ad.element.find("> .k-overlay").remove();if(ad._shouldFocus(ac)){ad.element.focus();var ab=a(window).scrollTop(),ae=parseInt(af.position().top,10);if(ae>0&&ae<ab){if(ab>0){a(window).scrollTop(ae)}else{af.css("top",ab)}}}return ad},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var ab=this;var Z=ab.options;var Y=Z.minHeight;var aa=ab.restoreOptions;if(!Z.isMaximized&&!Z.isMinimized){return}if(Y&&Y!=Infinity){ab.wrapper.css("min-height",Y)}ab.wrapper.css({position:Z.pinned?"fixed":"absolute",left:aa.left,top:aa.top,width:aa.width,height:aa.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(F).parent().show().end().end().find(J).parent().show();a("html, body").css(I,"");if(this._documentScrollTop&&this._documentScrollTop>0){a(document).scrollTop(this._documentScrollTop)}Z.isMaximized=Z.isMinimized=false;ab.trigger(M);return ab},maximize:N("maximize",function(){var Z=this,aa=Z.wrapper,Y=aa.position();o(Z.restoreOptions,{left:Y.left,top:Y.top});aa.css({left:0,top:0,position:"fixed"});this._documentScrollTop=a(document).scrollTop();a("html, body").css(I,p);Z.options.isMaximized=true;Z._onDocumentResize()}),minimize:N("minimize",function(){var Y=this;Y.wrapper.css({height:"",minHeight:""});Y.element.hide();Y.options.isMinimized=true}),pin:function(Y){var aa=this,ac=a(window),ad=aa.wrapper,ab=parseInt(ad.css("top"),10),Z=parseInt(ad.css("left"),10);if(Y||!aa.options.pinned&&!aa.options.isMaximized){ad.css({position:"fixed",top:ab-ac.scrollTop(),left:Z-ac.scrollLeft()});ad.find(D).find(x).addClass("k-i-unpin").removeClass("k-i-pin");aa.options.pinned=true}},unpin:function(){var Z=this,ab=a(window),ac=Z.wrapper,aa=parseInt(ac.css("top"),10),Y=parseInt(ac.css("left"),10);if(Z.options.pinned&&!Z.options.isMaximized){ac.css({position:"",top:aa+ab.scrollTop(),left:Y+ab.scrollLeft()});ac.find(D).find(y).addClass("k-i-pin").removeClass("k-i-unpin");Z.options.pinned=false}},_onDocumentResize:function(){var Y=this,aa=Y.wrapper,Z=a(window);if(!Y.options.isMaximized){return}aa.css({width:Z.width(),height:Z.height()-parseInt(aa.css("padding-top"),10)});Y.trigger(M)},refresh:function(ab){var ad=this,aa=ad.options,Y=a(ad.element),Z,ac,ae;if(!r(ab)){ab={url:ab}}ab=o({},aa.content,ab);ac=i(aa.iframe)?aa.iframe:ab.iframe;ae=ab.url;if(ae){if(!i(ac)){ac=!q(ae)}if(!ac){ad._ajaxRequest(ab)}else{Z=Y.find("."+s)[0];if(Z){Z.src=ae||Z.src}else{Y.html(P.contentFrame(o({},aa,{content:ab})))}Y.find("."+s).unbind("load"+G).on("load"+G,function(){ad.trigger(L)})}}else{if(ab.template){ad.content(O(ab.template)({}))}ad.trigger(L)}return ad},_ajaxRequest:function(aa){var ac=this,Y=aa.template,ab=ac.wrapper.find(".k-window-titlebar .k-i-refresh"),Z=setTimeout(function(){ab.addClass(E)},100);a.ajax(o({type:"GET",dataType:"html",cache:false,error:function(ae,ad){ac.trigger(n,{status:ad,xhr:ae})},complete:function(){clearTimeout(Z);ab.removeClass(E)},success:function(ad){if(Y){ad=O(Y)(ad||{})}ac.content(ad);ac.element.prop("scrollTop",0);ac.trigger(L)}},aa))},destroy:function(){var Y=this.wrapper;T.fn.destroy.call(this);t.destroy(Y);if(this.resizing){this.resizing.destroy()}if(this.dragging){this.dragging.destroy()}this.element.children("iframe").remove();Y.find(".k-resize-handle,.k-window-titlebar").off(G);Y.remove().off(G);a(window).off("resize",this._resizeHandler);this._removeOverlay(true)},_createWindow:function(){var ac=this,Y=ac.element,ab=ac.options,Z,ad,aa=t.support.isRtl(Y);if(ab.scrollable===false){Y.attr("style","overflow:hidden;")}ad=a(P.wrapper(ab));if(ab.title!==false){ad.append(P.titlebar(o(P,ab)))}Z=Y.find("iframe:not(.k-content)").map(function(){var ae=this.getAttribute("src");this.src="";return ae});ad.toggleClass("k-rtl",aa).appendTo(ac.appendTo).append(Y).find("iframe:not(.k-content)").each(function(ae){this.src=Z[ae]});ad.find(".k-window-title").css(aa?"left":"right",ad.find(".k-window-actions").outerWidth()+10);Y.show();Y.find("[data-role=editor]").each(function(){var ae=a(this).data("kendoEditor");if(ae){ae.refresh()}})}});P={wrapper:O("<div class='k-widget k-window' />"),action:O("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:O("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:O("<iframe frameborder='0' title='#= title #' class='"+s+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:O("<div class='k-resize-handle k-resize-#= data #'></div>")};function W(Z){var Y=this;Y.owner=Z;Y._draggable=new k(Z.wrapper,{filter:B,group:Z.wrapper.id+"-resizing",dragstart:K(Y.dragstart,Y),drag:K(Y.drag,Y),dragend:K(Y.dragend,Y)})}W.prototype={dragstart:function(Y){var Z=this,aa=Z.owner,ab=aa.wrapper;Z.elementPadding=parseInt(aa.wrapper.css("padding-top"),10);Z.initialCursorPosition=t.getOffset(ab,"position");Z.resizeDirection=Y.currentTarget.prop("className").replace("k-resize-handle k-resize-","");Z.initialSize={width:ab.width(),height:ab.height()};Z.containerOffset=t.getOffset(aa.appendTo);ab.append(P.overlay).find(B).not(Y.currentTarget).hide();a(d).css(g,Y.currentTarget.css(g))},drag:function(aa){var ag=this,aj=ag.owner,ak=aj.wrapper,af=aj.options,Z=ag.resizeDirection,Y=ag.containerOffset,ab=ag.initialCursorPosition,ac=ag.initialSize,ae,ad,ah,ai,al=Math.max(aa.x.location,Y.left),am=Math.max(aa.y.location,Y.top);if(Z.indexOf("e")>=0){ae=al-ab.left;ak.width(f(ae,af.minWidth,af.maxWidth))}else{if(Z.indexOf("w")>=0){ai=ab.left+ac.width;ae=f(ai-al,af.minWidth,af.maxWidth);ak.css({left:ai-ae-Y.left,width:ae})}}if(Z.indexOf("s")>=0){ad=am-ab.top-ag.elementPadding;ak.height(f(ad,af.minHeight,af.maxHeight))}else{if(Z.indexOf("n")>=0){ah=ab.top+ac.height;ad=f(ah-am,af.minHeight,af.maxHeight);ak.css({top:ah-ad-Y.top,height:ad})}}aj.trigger(M)},dragend:function(Y){var Z=this,aa=Z.owner,ab=aa.wrapper;ab.find(w).remove().end().find(B).not(Y.currentTarget).show();a(d).css(g,"");if(aa.touchScroller){aa.touchScroller.reset()}if(Y.keyCode==27){ab.css(Z.initialCursorPosition).css(Z.initialSize)}return false},destroy:function(){this._draggable.destroy()}};function V(aa,Y){var Z=this;Z.owner=aa;Z._draggable=new k(aa.wrapper,{filter:Y,group:aa.wrapper.id+"-moving",dragstart:K(Z.dragstart,Z),drag:K(Z.drag,Z),dragend:K(Z.dragend,Z),dragcancel:K(Z.dragcancel,Z)})}V.prototype={dragstart:function(aa){var ac=this.owner,ab=ac.element,Y=ab.find(".k-window-actions"),Z=t.getOffset(ac.appendTo);ac.trigger(l);ac.initialWindowPosition=t.getOffset(ac.wrapper,"position");ac.startPosition={left:aa.x.client-ac.initialWindowPosition.left,top:aa.y.client-ac.initialWindowPosition.top};if(Y.length>0){ac.minLeftPosition=Y.outerWidth()+parseInt(Y.css("right"),10)-ab.outerWidth()}else{ac.minLeftPosition=20-ab.outerWidth()}ac.minLeftPosition-=Z.left;ac.minTopPosition=-Z.top;ac.wrapper.append(P.overlay).find(B).hide();a(d).css(g,aa.currentTarget.css(g))},drag:function(Z){var aa=this.owner,Y={left:Math.max(Z.x.client-aa.startPosition.left,aa.minLeftPosition),top:Math.max(Z.y.client-aa.startPosition.top,aa.minTopPosition)};a(aa.wrapper).css(Y)},_finishDrag:function(){var Y=this.owner;Y.wrapper.find(B).toggle(!Y.options.isMinimized).end().find(w).remove();a(d).css(g,"")},dragcancel:function(Y){this._finishDrag();Y.currentTarget.closest(z).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(j);return false},destroy:function(){this._draggable.destroy()}};t.ui.plugin(U)})(window.kendo.jQuery);kendo_module({id:"scheduler.view",name:"Scheduler View",category:"web",description:"The Scheduler Common View",depends:["core"],hidden:true});(function(a){var r=window.kendo,J=r.ui,K=J.Widget,s=r.keys,v=".kendoSchedulerView",u=Math;function t(O,M){var N=[];function L(P,S){S=S[M];if(S){var R=N[P]=N[P]||[];for(var Q=0;Q<S.length;Q++){R.push(S[Q]);L(P+1,S[Q])}}}L(0,O);return N}function e(){if(r.support.cssBorderSpacing){return""}return'cellspacing="0"'}function E(M,L){if(!M.length){return""}return"<table "+e()+' class="'+a.trim("k-scheduler-table "+(L||""))+'"><tr>'+M.join("</tr><tr>")+"</tr></table>"}function d(M,L){if(!M.length){return""}return"<div style='position:relative'>"+E(M,L)+"</div>"}function G(M,L,O){var P=[];if(O>0){for(var N=0;N<M;N++){P.push("<th></th>")}}if(L){P.push('<th class="k-scheduler-times-all-day">'+L.text+"</th>")}if(O<1){return a()}return a('<div class="k-scheduler-times">'+E(P)+"</div>")}function l(R,O,L){var S=[];var P;for(var Q=0;Q<R.length;Q++){var U=R[Q];var W=[];var N=O/U.length;for(P=0;P<U.length;P++){W.push('<th colspan="'+N+'" class="'+(U[P].className||"")+'">'+U[P].text+"</th>")}S.push(W.join(""))}var M=[];if(L){var T=R[R.length-1];var V=[];for(P=0;P<T.length;P++){V.push('<td class="'+(T[P].className||"")+'">&nbsp;</th>')}M.push(V.join(""))}return a('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+E(S)+d(M,"k-scheduler-header-all-day")+"</div></div>")}function F(R,N){var S=new Array(N).join().split(",");var O=[];var P;for(var Q=0;Q<R.length;Q++){var M=R[Q];var T=N/M.length;var L;for(P=0;P<M.length;P++){L=M[P].className||"";if(M[P].allDay){L="k-scheduler-times-all-day"}S[T*P]+='<th class="'+L+'" rowspan="'+T+'">'+M[P].text+"</th>"}}for(P=0;P<N;P++){O.push(S[P])}if(N<1){return a()}return a('<div class="k-scheduler-times">'+E(O)+"</div>")}function h(){return a('<div class="k-scheduler-content"><table '+e()+' class="k-scheduler-table"/></div>')}var q='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';r.ui.scheduler={};var x=r.Class.extend({init:function(L){this._index=L;this._timeSlotCollections=[];this._daySlotCollections=[]},addTimeSlotCollection:function(M,L){return this._addCollection(M,L,this._timeSlotCollections)},addDaySlotCollection:function(M,L){return this._addCollection(M,L,this._daySlotCollections)},_addCollection:function(O,N,M){var L=new C(O,N,this._index,M.length);M.push(L);return L},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(L,M){return this._slotByPosition(L,M,this._daySlotCollections)},timeSlotByPosition:function(L,M){return this._slotByPosition(L,M,this._timeSlotCollections)},_slotByPosition:function(Q,R,N){for(var M=0;M<N.length;M++){var L=N[M];for(var P=0;P<L.count();P++){var O=L.at(P);if(Q>=O.offsetLeft&&Q<O.offsetLeft+O.clientWidth&&R>=O.offsetTop&&R<O.offsetTop+O.clientHeight){return O}}}},refresh:function(){var L;for(L=0;L<this._daySlotCollections.length;L++){this._daySlotCollections[L].refresh()}for(L=0;L<this._timeSlotCollections.length;L++){this._timeSlotCollections[L].refresh()}},timeSlotRanges:function(P,N){var L=this._timeSlotCollections;var O=this._startSlot(P,L);var M=O;if(P<N){M=this._endSlot(N,L)}return this._continuousRange(I,L,O,M)},daySlotRanges:function(Q,N,O){var L=this._daySlotCollections;var P=this._startSlot(Q,L,O);var M=P;if(Q<N){M=this._endSlot(N,L,O)}return this._continuousRange(n,L,P,M)},_continuousRange:function(U,N,W,O){var Y=W.slot;var Q=O.slot;var X=Y.collectionIndex;var P=Q.collectionIndex;var V=[];for(var M=X;M<=P;M++){var L=N[M];var R=L.first();var T=L.last();var S=false;var Z=false;if(M==X){Z=!W.inRange}if(M==P){S=!O.inRange}if(R.start<Y.start){R=Y}if(T.start>Q.start){T=Q}if(X<P){if(M==X){S=true}else{if(M==P){Z=true}else{S=Z=true}}}V.push(new U({start:R,end:T,collection:L,head:S,tail:Z}))}return V},slotRanges:function(M,N){var O=r.date.toUtcTime(M.start);var L=r.date.toUtcTime(M.end);if(N===undefined){N=M.isMultiDay()}if(N){return this.daySlotRanges(O,L,M.isAllDay)}if(M.startTime){O=r.date.getMilliseconds(M.startTime)+r.date.toUtcTime(r.date.getDate(M.start))}if(M.endTime){L=r.date.getMilliseconds(M.endTime)+r.date.toUtcTime(r.date.getDate(M.end))}return this.timeSlotRanges(O,L)},ranges:function(O,L,N,M){if(typeof O!="number"){O=r.date.toUtcTime(O)}if(typeof L!="number"){L=r.date.toUtcTime(L)}if(N){return this.daySlotRanges(O,L,M)}return this.timeSlotRanges(O,L)},_startCollection:function(O,N){for(var M=0;M<N.length;M++){var L=N[M];if(L.startInRange(O)){return L}}return null},_endCollection:function(O,N){for(var M=0;M<N.length;M++){var L=N[M];if(L.endInRange(O)){return L}}return null},_getCollections:function(L){return L?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(P,O){var N=O?-1:1;var M=this._getCollections(P.isDaySlot);var L=M[P.collectionIndex+N];return L?L[O?"last":"first"]():undefined},firstSlot:function(){var L=this._getCollections(this.daySlotCollectionCount());return L[0].first()},lastSlot:function(){var L=this._getCollections(this.daySlotCollectionCount());return L[L.length-1].last()},upSlot:function(N,L){var O=this;var M=function(R,P,Q){var S=Q===0;if(!L&&!R&&S&&O.daySlotCollectionCount()){return O._daySlotCollections[0].at(P)}};if(!this.timeSlotCollectionCount()){L=true}return this._verticalSlot(N,-1,M)},downSlot:function(N,L){var O=this;var M=function(R,P,Q){if(!L&&R&&O.timeSlotCollectionCount()){return O._timeSlotCollections[Q].at(0)}};if(!this.timeSlotCollectionCount()){L=true}return this._verticalSlot(N,1,M)},leftSlot:function(L){return this._horizontalSlot(L,-1)},rightSlot:function(L){return this._horizontalSlot(L,1)},_horizontalSlot:function(Q,R){var O=Q.index;var P=Q.isDaySlot;var M=Q.collectionIndex;var N=this._getCollections(P);if(P){O+=R}else{M+=R}var L=N[M];return L?L.at(O):undefined},_verticalSlot:function(Q,R,S){var O=Q.index;var P=Q.isDaySlot;var M=Q.collectionIndex;var N=this._getCollections(P);Q=S(P,M,O);if(Q){return Q}if(P){M+=R}else{O+=R}var L=N[M];return L?L.at(O):undefined},_collection:function(M,N){var L=N?this._daySlotCollections:this._timeSlotCollections;return L[M]},_startSlot:function(Q,M,O){var L=this._startCollection(Q,M);var N=true;if(!L){L=M[0];N=false}var P=L.slotByStartDate(Q,O);if(!P){P=L.first();N=false}return{slot:P,inRange:N}},_endSlot:function(Q,M,O){var L=this._endCollection(Q,M);var N=true;if(!L){L=M[M.length-1];N=false}var P=L.slotByEndDate(Q,O);if(!P){P=L.last();N=false}return{slot:P,inRange:N}},getSlotCollection:function(L,M){return this[M?"getDaySlotCollection":"getTimeSlotCollection"](L)},getTimeSlotCollection:function(L){return this._timeSlotCollections[L]},getDaySlotCollection:function(L){return this._daySlotCollections[L]}});var D=r.Class.extend({init:function(L){a.extend(this,L)},innerHeight:function(){var L=this.collection;var P=this.start.index;var M=this.end.index;var N=0;for(var O=P;O<=M;O++){N+=L.at(O).offsetHeight}return N},events:function(){return this.collection.events()},addEvent:function(L){this.events().push(L)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var I=D.extend({innerHeight:function(){var L=this.collection;var P=this.start.index;var M=this.end.index;var N=0;for(var O=P;O<=M;O++){N+=L.at(O).offsetHeight}return N}});var n=D.extend({innerWidth:function(){var L=this.collection;var P=this.start.index;var M=this.end.index;var N=0;var Q=P!==M?"offsetWidth":"clientWidth";for(var O=P;O<=M;O++){N+=L.at(O)[Q]}return N}});var C=r.Class.extend({init:function(O,M,N,L){this._slots=[];this._events=[];this._start=r.date.toUtcTime(O);this._end=r.date.toUtcTime(M);this._groupIndex=N;this._collectionIndex=L},refresh:function(){var L=[];for(var Q=0;Q<this._slots.length;Q++){var P=this._slots[Q];var O=P.offsetTop;P.refresh();L[Q]=P.offsetTop-O}for(var N=0;N<this._events.length;N++){var M=this._events[N];M.element.css({top:M.element[0].offsetTop+L[M.slotIndex]})}},startInRange:function(L){return this._start<=L&&L<this._end},endInRange:function(L){return this._start<L&&L<=this._end},slotByStartDate:function(L){var O=L;if(typeof O!="number"){O=r.date.toUtcTime(L)}for(var N=0;N<this._slots.length;N++){var M=this._slots[N];if(M.startInRange(O)){return M}}return null},slotByEndDate:function(M,L){var P=M;if(typeof P!="number"){P=r.date.toUtcTime(M)}if(L){return this.slotByStartDate(M,false)}for(var O=0;O<this._slots.length;O++){var N=this._slots[O];if(N.endInRange(P)){return N}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(L,O,M){var N=new H(L,O,M,this._groupIndex,this._collectionIndex,this._slots.length);this._slots.push(N)},addDaySlot:function(L,P,M,N){var O=new m(L,P,M,this._groupIndex,this._collectionIndex,this._slots.length,N);this._slots.push(O)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(L){return this._slots[L]}});var B=r.Class.extend({init:function(M,Q,N,O,L,P){this.element=M;this.clientWidth=M.clientWidth;this.clientHeight=M.clientHeight;this.offsetWidth=M.offsetWidth;this.offsetHeight=M.offsetHeight;this.offsetTop=M.offsetTop;this.offsetLeft=M.offsetLeft;this.start=Q;this.end=N;this.element=M;this.groupIndex=O;this.collectionIndex=L;this.index=P;this.isDaySlot=false},startDate:function(){var L=new Date(this.start);return r.timezone.apply(L,"Etc/UTC")},endDate:function(){var L=new Date(this.end);return r.timezone.apply(L,"Etc/UTC")},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end}});var H=B.extend({refresh:function(){this.offsetTop=this.element.offsetTop},offsetX:function(M,L){if(M){return this.offsetLeft+L}else{return this.offsetLeft+L}},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end}});var m=B.extend({init:function(M,R,N,P,L,Q,O){B.fn.init.apply(this,arguments);this.eventCount=O;this.isDaySlot=true;this.firstChildHeight=this.element.firstChild.offsetHeight+3},refresh:function(){this.clientHeight=this.element.clientHeight;this.offsetTop=this.element.offsetTop},startDate:function(){var L=new Date(this.start);return r.timezone.apply(L,"Etc/UTC")},endDate:function(){var L=new Date(this.end);return r.timezone.apply(L,"Etc/UTC")},startInRange:function(L){return this.start<=L&&L<this.end},endInRange:function(L){return this.start<L&&L<=this.end}});var z;function y(){z=z?z:r.support.scrollbar();return z}r.ui.SchedulerView=K.extend({init:function(L,M){K.fn.init.call(this,L,M);this._scrollbar=y();this._isRtl=r.support.isRtl(L);this._resizeHint=a();this._moveHint=a();this._cellId=r.guid();this._resourcesForGroups()},_addResourceView:function(){var L=new x(this.groups.length);this.groups.push(L);return L},dateForTitle:function(){return r.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(N,M){var L=M?"prevGroupSlot":"nextGroupSlot";var O=this[L](N.start,N.groupIndex,N.isAllDay);if(O){N.groupIndex+=M?-1:1}return O},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_horizontalSlots:function(S,Q,P,R){var O=R?"leftSlot":"rightSlot";var U=Q[0].start;var M=Q[Q.length-1].end;var N=this.groups[S.groupIndex];if(!P){var T=this._normalizeHorizontalSelection(S,Q,R);if(T){U=M=T}}U=N[O](U);M=N[O](M);if(!P&&!this._isVerticallyGrouped()&&(!U||!M)){U=M=this._changeGroup(S,R)}var L;if(!U||!M){L=this._continuousSlot(S,Q,R);L=this._changeGroupContinuously(S,L,P,R);if(L){U=M=L}}return{startSlot:U,endSlot:M}},_verticalSlots:function(R,P,O,Q){var T=P[0].start;var L=P[P.length-1].end;var M=this.groups[R.groupIndex];if(!O){var S=this._normalizeVerticalSelection(R,P,Q);if(S){T=L=S}}var N=Q?"upSlot":"downSlot";T=M[N](T,O);L=M[N](L,O);if(!O&&this._isVerticallyGrouped()&&(!T||!L)){T=L=this._changeGroup(R,Q)}return{startSlot:T,endSlot:L}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(N,L,M){var O;if(M){O=L[0].start}else{O=L[L.length-1].end}return O},_continuousSlot:function(){return null},constrainSelection:function(L){if(!this.inRange(L)){var M=this.groups[0].firstSlot();L.isAllDay=M.isDaySlot;L.start=M.startDate();L.end=M.endDate()}},move:function(S,P,T){var O=false;var N=this.groups[S.groupIndex];if(!N.timeSlotCollectionCount()){S.isAllDay=true}var Q=N.ranges(S.start,S.end,S.isAllDay,false);var V,M,R,U;if(P===s.DOWN||P===s.UP){O=true;R=P===s.UP;this._updateDirection(S,Q,T,R,true);U=this._verticalSlots(S,Q,T,R);if(!U.startSlot&&!T&&this._changeViewPeriod(S,R,true)){return O}}else{if(P===s.LEFT||P===s.RIGHT){O=true;R=P===s.LEFT;this._updateDirection(S,Q,T,R,false);U=this._horizontalSlots(S,Q,T,R);if(!U.startSlot&&!T&&this._changeViewPeriod(S,R,false)){return O}}}if(O){V=U.startSlot;M=U.endSlot;if(T){var L=S.backward;if(L&&V){S.start=V.startDate()}else{if(!L&&M){S.end=M.endDate()}}}else{if(V&&M){S.isAllDay=V.isDaySlot;S.start=V.startDate();S.end=M.endDate()}}S.events=[]}return O},moveToEventInGroup:function(O,U,T,S){var M=O._continuousEvents||[];var N,L;var R=S?-1:1;var Q=M.length;var P=S?Q-1:0;while(P<Q&&P>-1){L=M[P];if((!S&&L.start.startDate()>=U.startDate())||(S&&L.start.startDate()<=U.startDate())){if(T.length){L=M[P+R]}if(L&&a.inArray(L.uid,T)===-1){N=!!L;break}}P+=R}return L},moveToEvent:function(S,R){var O=S.groupIndex;var N=this.groups[O];var T=N.ranges(S.start,S.end,S.isAllDay,false)[0].start;var P=this.groups.length;var Q=R?-1:1;var M=S.events;var L;while(O<P&&O>-1){L=this.moveToEventInGroup(N,T,M,R);O+=Q;N=this.groups[O];if(!N||L){break}M=[];if(R){T=N.lastSlot()}else{T=N.firstSlot(true)}}if(L){S.events=[L.uid];S.start=L.start.startDate();S.end=L.end.endDate();S.isAllDay=L.start.isDaySlot;S.groupIndex=L.start.groupIndex}return !!L},current:function(L){if(L!==undefined){this._current=L;this._scrollTo(L,this.content[0])}else{return this._current}},select:function(L){this.clearSelection();if(!this._selectEvents(L)){this._selectSlots(L)}},_selectSlots:function(S){var O=S.isAllDay;var N=this.groups[S.groupIndex];if(!N.timeSlotCollectionCount()){O=true}var R=N.ranges(S.start,S.end,O,false);var M;for(var Q=0;Q<R.length;Q++){var P=R[Q];var L=P.collection;for(var T=P.start.index;T<=P.end.index;T++){M=L.at(T).element;M.setAttribute("aria-selected",true);c(M)}}if(S.backward){M=R[0].start.element}this.current(M)},_selectEvents:function(R){var M=false;var L=R.events;var N=this.groups[R.groupIndex]._continuousEvents||[];var O,P=N.length;if(!L[0]||!N[0]){return M}var Q=a();for(O=0;O<P;O++){if(a.inArray(N[O].uid,L)>-1){Q=Q.add(N[O].element)}}if(Q[0]){Q.addClass("k-state-selected").attr("aria-selected",true);this.current(Q.last()[0]);M=true}return M},inRange:function(N){var P=this.startDate();var M=r.date.addDays(this.endDate(),1);var O=N.start;var L=N.end;return P<=O&&O<M&&P<L&&L<=M},_scrollbarOffset:function(M,L){if(!this._isRtl||(L&&!this._isVerticallyGrouped())||!r.support.browser.webkit){return M}return this._scrollbarWidth+M},_resourceValue:function(M,L){if(M.valuePrimitive){L=r.getter(M.dataValueField)(L)}return L},_resourceBySlot:function(R){var O=this.groupedResources;var P={};if(O.length){var N=R.groupIndex;for(var L=O.length-1;L>=0;L--){var M=O[L];var S=this._resourceValue(M,M.dataSource.at(N%M.dataSource.total()));if(M.multiple){S=[S]}var Q=r.setter(M.field);Q(P,S);N=Math.floor(N/M.dataSource.total())}}return P},_createResizeHint:function(M,N,O,L){return a(q).css({left:M,top:N,width:O,height:L})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=a()},_removeMoveHint:function(){this._moveHint.remove();this._moveHint=a()},_scrollTo:function(P,M){var Q=P.offsetTop,R=P.offsetHeight,O=M.scrollTop,N=M.clientHeight,L=Q+R,S=0;if(O>Q){S=Q}else{if(L>(O+N)){if(R<=N){S=(L-N)}else{S=Q}}else{S=O}}M.scrollTop=S},_shouldInverseResourceColor:function(N){var O=new g(N.color).isDark();var L=this.element.css("color");var M=new g(L).isDark();return(O==M)},eventResources:function(N){var W=[],S=this.options;if(!S.resources){return W}for(var R=0;R<S.resources.length;R++){var T=S.resources[R];var Q=T.field;var P=r.getter(Q)(N);if(!P){continue}if(!T.multiple){P=[P]}var L=T.dataSource.view();for(var V=0;V<P.length;V++){var O=null;var X=P[V];if(!T.valuePrimitive){X=r.getter(T.dataValueField)(X)}for(var M=0;M<L.length;M++){if(L[M].get(T.dataValueField)==X){O=L[M];break}}if(O!=null){var U=r.getter(T.dataColorField)(O);W.push({text:r.getter(T.dataTextField)(O),value:X,color:U})}}}return W},createLayout:function(P){var L=-1;if(!P.rows){P.rows=[]}for(var O=0;O<P.rows.length;O++){if(P.rows[O].allDay){L=O;break}}var M=P.rows[L];if(L>=0){P.rows.splice(L,1)}var N=this.columnLevels=t(P,"columns");var R=this.rowLevels=t(P,"rows");this.table=a("<table "+e()+' class="k-scheduler-layout k-scheduler-'+this.name+'view">');var Q=R[R.length-1].length;this.table.append(this._topSection(N,M,Q));this.table.append(this._bottomSection(N,R,Q));this.element.append(this.table);this._scroller()},refreshLayout:function(){var T=this,V=T.element.find(">.k-scheduler-toolbar"),O=T.element.innerHeight(),R=this._scrollbar,N=0,Q=this._isRtl?"left":"right";if(V.length){O-=V.outerHeight()}if(T.datesHeader){N=T.datesHeader.outerHeight()}if(T.timesHeader&&T.timesHeader.outerHeight()>N){N=T.timesHeader.outerHeight()}if(T.datesHeader&&T.timesHeader){var M=T.datesHeader.find("table:first tr");T.timesHeader.find("tr").height(function(W){a(this).height(M.eq(W).height())})}if(N){O-=N}if(T.footer){O-=T.footer.outerHeight()}var P=function(W){var X,Y;if(W[0].style.height){return true}else{X=W.height()}W.height("auto");Y=W.height();if(X!=Y){W.height("");return true}W.height("");return false};var L=T.content[0],S=!r.support.kineticScrollNeeded?R:0;this._scrollbarWidth=0;if(P(T.element)){if(O>R*2){T.content.height(O)}else{T.content.height(R*2+1)}T.times.height(L.clientHeight);var U=T.times.find("table");if(U.length){U.height(T.content.find("table")[0].clientHeight)}}if(L.offsetWidth-L.clientWidth>0){T.table.addClass("k-scrollbar-v");T.datesHeader.css("padding-"+Q,S-parseInt(T.datesHeader.children().css("border-"+Q+"-width"),10));this._scrollbarWidth=S}if(L.offsetHeight-L.clientHeight>0||L.clientHeight>T.content.children(".k-scheduler-table").height()){T.table.addClass("k-scrollbar-h")}},_topSection:function(N,L,O){this.timesHeader=G(N.length,L,O);var M=N[N.length-1].length;this.datesHeader=l(N,M,L);return a("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(L,N,M){this.times=F(N,M);this.content=h(L[L.length-1],N[N.length-1]);return a("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var L=this;this.content.bind("scroll"+v,function(){L.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);L.times.scrollTop(this.scrollTop)});var M=r.touchScroller(this.content,{avoidScrolling:function(N){return a(N.event.target).closest(".k-event.k-state-selected").length>0}});if(M&&M.movable){this._touchScroller=M;this.content=M.scrollElement;M.movable.bind("change",function(N){L.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-N.sender.x);L.times.scrollTop(-N.sender.y)})}},_resourcesForGroups:function(){var R=[];var N=this.options.group;var Q=this.options.resources;N=N&&N.resources?N.resources:[];if(Q&&N.length){for(var O=0,P=Q.length;O<P;O++){for(var L=0,M=N.length;L<M;L++){if(Q[O].name===N[L]){R.push(Q[O])}}}}this.groupedResources=R},_createColumnsLayout:function(M,L){return j("columns",M,L)},_groupOrientation:function(){var L=this.options.group;return L&&L.resources?L.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(M,L){return j("rows",M,L)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var L=this;K.fn.destroy.call(this);if(L.table){r.destroy(L.table);L.table.remove()}},calendarInfo:function(){return r.getCulture().calendars.standard},prevGroupSlot:function(M,O,P){var L;var N=this.groups[O];var Q=N.ranges(M,M,P,false)[0].start;if(O<=0){return}if(this._isVerticallyGrouped()){if(!N.timeSlotCollectionCount()){L=N._collection(N.daySlotCollectionCount()-1,true);return L.at(Q.index)}else{L=N._collection(P?Q.index:Q.collectionIndex,false);return L.last()}}else{if(!N.timeSlotCollectionCount()){L=N._collection(Q.collectionIndex,true);return L.last()}else{L=N._collection(P?0:N.timeSlotCollectionCount()-1,P);return P?L.last():L.at(Q.index)}}},nextGroupSlot:function(M,O,P){var L;var N=this.groups[O];var Q=N.ranges(M,M,P,false)[0].start;if(O>=this.groups.length-1){return}if(this._isVerticallyGrouped()){if(!N.timeSlotCollectionCount()){L=N._collection(0,true);return L.at(Q.index)}else{L=N._collection(0,N.daySlotCollectionCount());return P?L.last():L.at(Q.collectionIndex)}}else{if(!N.timeSlotCollectionCount()){L=N._collection(Q.collectionIndex,true);return L.first()}else{L=N._collection(0,P);return P?L.first():L.at(Q.index)}}}});function f(L,R,M){var O,P,S,Q,N;for(O=L.length-1;O>=0;O--){P=w(L[O]);S=P.start;N=P.end;Q=S<=R&&N>=R;if(Q||(S>=R&&N<=M)||(R<=S&&M>=S)){if(S<R){R=S}if(N>M){M=N}}}return o(L,R,M)}function w(L){return{start:L.start,end:L.end}}function o(L,Q,P){var N=[];for(var O=0;O<L.length;O++){var M=w(L[O]);if((M.start<Q&&M.end>Q)||(M.start>=Q&&M.end<=P)){N.push(L[O])}}return N}function i(L){return b(L)}function k(L){return b(L)}var g=function(S){var M=this,N=g.formats,R,Q,P,O,L;if(arguments.length===1){S=M.resolveColor(S);for(O=0;O<N.length;O++){R=N[O].re;Q=N[O].process;P=R.exec(S);if(P){L=Q(P);M.r=L[0];M.g=L[1];M.b=L[2]}}}else{M.r=arguments[0];M.g=arguments[1];M.b=arguments[2]}M.r=M.normalizeByte(M.r);M.g=M.normalizeByte(M.g);M.b=M.normalizeByte(M.b)};g.prototype={resolveColor:function(L){L=L||"#000";if(L.charAt(0)=="#"){L=L.substr(1,6)}L=L.replace(/ /g,"");L=L.toLowerCase();L=g.namedColors[L]||L;return L},normalizeByte:function(L){return(L<0||isNaN(L))?0:((L>255)?255:L)},percBrightness:function(){var L=this;return u.sqrt(0.241*L.r*L.r+0.691*L.g*L.g+0.06800000000000001*L.b*L.b)},isDark:function(){var M=this;var L=M.percBrightness();return L<180}};g.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(L){return[parseInt(L[1],10),parseInt(L[2],10),parseInt(L[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(L){return[parseInt(L[1],16),parseInt(L[2],16),parseInt(L[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(L){return[parseInt(L[1]+L[1],16),parseInt(L[2]+L[2],16),parseInt(L[3]+L[3],16)]}}];g.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function b(Q){var N=[];for(var S=0;S<Q.length;S++){var P=Q[S];var R=w(P);var L=null;for(var T=0,M=N.length;T<M;T++){var O=R.start>N[T].end;if(R.start<N[T].start||O){L=N[T];if(L.end<R.end){L.end=R.end}break}}if(!L){L={start:R.start,end:R.end,events:[]};N.push(L)}L.events.push(P)}return N}function j(P,S,O){var R=S[0];if(R){var L=[];var M=R.dataSource.view();for(var N=0;N<M.length;N++){var Q={text:r.getter(R.dataTextField)(M[N]),className:"k-slot-cell"};Q[P]=j(P,S.slice(1),O);L.push(Q)}return L}return O}function p(L){return function(N){if(a.isArray(N)||N instanceof r.data.ObservableArray){for(var M=0;M<N.length;M++){if(N[M]==L){return true}}return false}return N==L}}var A=/\s*k-state-selected/;function c(L){L.className=L.className.replace(A,"")+" k-state-selected"}a.extend(J.SchedulerView,{createColumns:i,createRows:k,rangeIndex:w,collidingEvents:f,groupEqFilter:p})})(window.kendo.jQuery);kendo_module({id:"scheduler.dayview",name:"Scheduler Day View",category:"web",description:"The Scheduler Day View",depends:["scheduler.view"],hidden:true});(function(a,w){var m=window.kendo,v=m.ui,t=m.date.setTime,s=v.SchedulerView,h=a.extend,r=a.proxy,i=m.date.getDate,o=m.date.MS_PER_MINUTE,n=m.date.MS_PER_DAY,j=m.date.getMilliseconds,q=".kendoMultiDayView";var f=m.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),e=m.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),d=m.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),c='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',g='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';function u(x){var y=new Date(1980,1,1,0,0,0);t(y,j(x));return y}function k(C,y,x){var A=y.getTime(),z=x.getTime(),B;B=C.getTime();return B>=A&&B<=z}function l(A,y,x,z){z=z?A<=x:A<x;return A>y&&z}function b(z,D,x,B){var y=z._continuousEvents;var C=y[y.length-1];var E=i(D.start.startDate()).getTime();if(B&&C&&i(C.start.startDate()).getTime()==E){var A=y.length-1;for(;A>-1;A--){if(y[A].isAllDay||i(y[A].start.startDate()).getTime()<E){break}}y.splice(A+1,0,{element:x,isAllDay:true,uid:x.attr(m.attr("uid")),start:D.start,end:D.end})}else{y.push({element:x,isAllDay:B,uid:x.attr(m.attr("uid")),start:D.start,end:D.end})}}var p=s.extend({init:function(x,y){var z=this;s.fn.init.call(z,x,y);z.title=z.options.title||z.options.name;z._templates();z._editable();z.calculateDateRange();z._groups()},_updateResizeHint:function(z,J,y){var E=z.isMultiDay();var B=this.groups[y.groupIndex];var H=B.ranges(J.start,z.isAllDay?y.start:y.end,E,z.isAllDay);this._removeResizeHint();for(var G=0;G<H.length;G++){var F=H[G];var I=F.startSlot();var K=I.offsetWidth;var C=I.clientHeight;if(E){K=F.innerWidth()}else{C=F.innerHeight()}var D=s.fn._createResizeHint.call(this,this._scrollbarOffset(I.offsetLeft,E),I.offsetTop,K,C);this._resizeHint=this._resizeHint.add(D)}var A="t";var x=this.content;if(E){A="M/dd";x=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!x.length){x=this.content}}this._resizeHint.appendTo(x);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(m.toString(J.startDate(),A));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(m.toString(y.endDate(),A))},_updateMoveHint:function(C,F,z){var G=C.isMultiDay();var D=this.groups[z.groupIndex];var A=z.start-F.start;var K=m.date.toUtcTime(C.start)+A;var B=K+C.duration();var J=D.ranges(K,B,G,C.isAllDay);K=m.timezone.apply(new Date(K),"Etc/UTC");B=m.timezone.apply(new Date(B),"Etc/UTC");this._removeMoveHint();if(!G&&(j(B)===0||j(B)<j(this.startTime()))){if(J.length>1){J.pop()}}for(var I=0;I<J.length;I++){var H=J[I];var L=H.start;var E=this._createEventElement(C.clone({start:K,startTime:K,end:B,endTime:B}),!G);E.addClass("k-event-drag-hint");var y={left:L.offsetLeft+2,top:L.offsetTop};if(this._isRtl){y.left=L.clientWidth*0.1+this._scrollbarOffset(L.offsetLeft)+2}if(G){y.width=H.innerWidth()-4}else{y.height=H.innerHeight()-3;y.width=L.clientWidth*0.9-4}E.css(y);this._moveHint=this._moveHint.add(E)}var x=this.content;if(G){x=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!x.length){x=this.content}}this._moveHint.appendTo(x)},_slotByPosition:function(D,E){var C;var B;if(this._isVerticallyGrouped()){B=this.content.offset();E+=this.content[0].scrollTop;D+=this.content[0].scrollLeft}else{B=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(B){D-=B.left;E-=B.top}D=Math.ceil(D);E=Math.ceil(E);var z;var A;for(A=0;A<this.groups.length;A++){z=this.groups[A];C=z.daySlotByPosition(D,E);if(C){return C}}if(B){D+=B.left;E+=B.top}B=this.content.offset();D-=B.left;E-=B.top;if(!this._isVerticallyGrouped()){E+=this.content[0].scrollTop;D+=this.content[0].scrollLeft}D=Math.ceil(D);E=Math.ceil(E);for(A=0;A<this.groups.length;A++){z=this.groups[A];C=z.timeSlotByPosition(D,E);if(C){return C}}return null},_groupCount:function(){var x=this.groupedResources;if(x.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(x.length-1)}else{return this._columnCountForLevel(x.length)/this._columnOffsetForResource(x.length)}}return 1},_columnCountInResourceView:function(){var x=this.groupedResources;if(!x.length||this._isVerticallyGrouped()){return this._columnCountForLevel(0)}return this._columnOffsetForResource(x.length)},_timeSlotGroups:function(I,D){var K=this._timeSlotInterval();var P=this.content.find("tr:not(.k-scheduler-header-all-day)");P.attr("role","row");var L=P.length;if(this._isVerticallyGrouped()){L=Math.floor(L/I)}for(var J=0;J<I;J++){var N=0;if(this._isVerticallyGrouped()){N=J}var M=N*L;var Q;var z=0;if(!this._isVerticallyGrouped()){z=J}while(M<(N+1)*L){var A=P[M].children;var H=this.groups[J];if(M%L===0){Q=j(new Date(+this.startTime()))}for(var y=z*D;y<(z+1)*D;y++){var x=A[y];var C=y%D;var B=H.getTimeSlotCollection(C);var E=this._dates[C];var F=Date.UTC(E.getFullYear(),E.getMonth(),E.getDate());var O=F+Q;var G=O+K;x.setAttribute("role","gridcell");x.setAttribute("aria-selected",false);B.addTimeSlot(x,O,G)}Q+=K;M++}}},_daySlotGroups:function(G,D){var K;if(this._isVerticallyGrouped()){K=this.element.find(".k-scheduler-header-all-day")}else{K=this.element.find(".k-scheduler-header-all-day tr")}K.attr("role","row");for(var H=0;H<G;H++){var I=0;if(this._isVerticallyGrouped()){I=H}var F=this.groups[H];var C=F.getDaySlotCollection(0);var B=K[I].children;var A=0;if(!this._isVerticallyGrouped()){A=H}var y=0;for(var z=A*D;z<(A+1)*D;z++){var x=B[z];if(z%D===0){y=0}var J=m.date.addDays(this.startDate(),y);var E=Date.UTC(J.getFullYear(),J.getMonth(),J.getDate());y++;x.setAttribute("role","gridcell");x.setAttribute("aria-selected",false);C.addDaySlot(x,E,E+m.date.MS_PER_DAY)}}},_groups:function(){var z=this._groupCount();var x=this._columnCountInResourceView();this.groups=[];for(var A=0;A<z;A++){var B=this._addResourceView(A);for(var y=0;y<x;y++){B.addTimeSlotCollection(this._dates[y],m.date.addDays(this._dates[y],1))}B.addDaySlotCollection(this._dates[0],this._dates[this._dates.length-1])}this._timeSlotGroups(z,x);if(this.options.allDaySlot){this._daySlotGroups(z,x)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:true,workDay:false,title:"",startTime:m.date.today(),endTime:m.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",eventTemplate:f,allDayEventTemplate:e,dateHeaderTemplate:d,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var x=this.options,y=h({},m.Template,x.templateSettings);this.eventTemplate=this._eventTmpl(x.eventTemplate,g);this.allDayEventTemplate=this._eventTmpl(x.allDayEventTemplate,c);this.majorTimeHeaderTemplate=m.template(x.majorTimeHeaderTemplate,y);this.minorTimeHeaderTemplate=m.template(x.minorTimeHeaderTemplate,y);this.dateHeaderTemplate=m.template(x.dateHeaderTemplate,y)},_editable:function(){if(this.options.editable){if(m.support.mobileOS){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var x=this;x.element.on("click"+q,".k-event a:has(.k-si-close)",function(y){x.trigger("remove",{uid:a(this).closest(".k-event").attr(m.attr("uid"))});y.preventDefault()});if(x.options.editable.create!==false){x.element.on("dblclick"+q,".k-scheduler-content td",function(y){if(!a(this).parent().hasClass("k-scheduler-header-all-day")){var A=x._slotByPosition(y.pageX,y.pageY);if(A){var z=x._resourceBySlot(A);x.trigger("add",{eventInfo:h({start:A.startDate(),end:A.endDate()},z)})}y.preventDefault()}}).on("dblclick"+q,".k-scheduler-header-all-day td",function(y){var A=x._slotByPosition(y.pageX,y.pageY);if(A){var z=x._resourceBySlot(A);x.trigger("add",{eventInfo:h({},{isAllDay:true,start:m.date.getDate(A.startDate()),end:m.date.getDate(A.startDate())},z)})}y.preventDefault()})}if(x.options.editable.update!==false){x.element.on("dblclick"+q,".k-event",function(y){x.trigger("edit",{uid:a(this).closest(".k-event").attr(m.attr("uid"))});y.preventDefault()})}},_touchEditable:function(){var x=this;x._closeUserEvents=new m.UserEvents(x.element,{filter:".k-event a:has(.k-si-close)",tap:function(y){x.trigger("remove",{uid:a(y.target).closest(".k-event").attr(m.attr("uid"))});y.preventDefault()}});if(x.options.editable.create!==false){x._addUserEvents=new m.UserEvents(x.element,{filter:".k-scheduler-content td",tap:function(y){if(!a(y.target).parent().hasClass("k-scheduler-header-all-day")){var A=x._slotByPosition(y.x.location,y.y.location);if(A){var z=x._resourceBySlot(A);x.trigger("add",{eventInfo:h({start:A.startDate(),end:A.endDate()},z)})}y.preventDefault()}}});x._allDayUserEvents=new m.UserEvents(x.element,{filter:".k-scheduler-header-all-day td",tap:function(y){var A=x._slotByPosition(y.x.location,y.y.location);if(A){var z=x._resourceBySlot(A);x.trigger("add",{eventInfo:h({},{isAllDay:true,start:m.date.getDate(A.startDate()),end:m.date.getDate(A.endDate())},z)})}y.preventDefault()}})}if(x.options.editable.update!==false){x._editUserEvents=new m.UserEvents(x.element,{filter:".k-event.k-state-selected",tap:function(y){if(a(y.event.target).closest("a:has(.k-si-close)").length===0){x.trigger("edit",{uid:a(y.target).closest(".k-event").attr(m.attr("uid"))});y.preventDefault()}}})}},_layout:function(z){var y=[];var D=[];var B=this.options;var E=this;for(var A=0;A<z.length;A++){var x={};x.text=E.dateHeaderTemplate({date:z[A]});if(m.date.isToday(z[A])){x.className="k-today"}y.push(x)}if(B.allDaySlot){D.push({text:B.messages.allDay,allDay:true})}this._forTimeRange(this.startTime(),this.endTime(),function(F,H,I,G){var K=H?E.majorTimeHeaderTemplate:E.minorTimeHeaderTemplate;var J={text:K({date:F}),className:G?"k-slot-cell":""};D.push(J)});var C=this.groupedResources;if(C.length){if(this._groupOrientation()==="vertical"){D=this._createRowsLayout(C,D)}else{y=this._createColumnsLayout(C,y)}}return{columns:y,rows:D}},_footer:function(){var z=this.options;if(z.footer!==false){var y='<div class="k-header k-scheduler-footer">';var x=z.footer.command;if(x&&x==="workDay"){y+='<ul class="k-reset k-header k-toolbar">';y+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';y+=(z.workDay?z.messages.showFullDay:z.messages.showWorkDay)+"</a></li>";y+="</ul>"}else{y+="&nbsp;"}y+="</div>";this.footer=a(y).appendTo(this.element);var A=this;this.footer.on("click"+q,".k-scheduler-fullday",function(B){B.preventDefault();A.trigger("navigate",{view:A.name||z.name,date:A.startDate(),isWorkDay:!z.workDay})})}},_forTimeRange:function(H,G,x,y){H=u(H);G=u(G);var Q=this,M=j(H),L=j(G),I=Q.options.minorTickCount,K=Q.options.majorTick*o,J=K/I||1,O=new Date(+H),P=O.getDate(),N,A=0,E,z="";E=n/J;if(M!=L){if(M>L){L+=n}E=((L-M)/J)}E=Math.round(E);for(;A<E;A++){var F=A%(K/J),C=F===0,D=F<I-1,B=F===I-1;z+=x(O,C,D,B);t(O,J,false)}if(L){N=j(O);if(P<O.getDate()){N+=n}if(N>L){O=new Date(+G)}}if(y){z+=y(O)}return z},_content:function(A){var J=this;var E=J.options;var I=J.startTime();var B=this.endTime();var C=1;var G=1;var z=A.length;var D="";var F=this.groupedResources;var x="";if(F.length){if(J._groupOrientation()==="vertical"){G=this._rowCountForLevel(this.rowLevels.length-2);if(E.allDaySlot){x='<tr class="k-scheduler-header-all-day">'+new Array(A.length+1).join("<td>&nbsp;</td>")+"</tr>"}}else{C=this._columnCountForLevel(this.columnLevels.length-2)}}D+="<tbody>";var y=function(L,P){var K="",N,O;K="<tr"+(P?' class="k-middle-row"':"")+">";for(var M=0;M<C;M++){for(N=0,O=z;N<O;N++){K+="<td"+(m.date.isToday(A[N])?' class="k-today"':"")+">";K+="&nbsp;</td>"}}K+="</tr>";return K};for(var H=0;H<G;H++){D+=x;D+=this._forTimeRange(I,B,y)}D+="</tbody>";this.content.find("table").append(D)},_render:function(y){var z=this;y=y||[];this._dates=y;this._startDate=y[0];this._endDate=y[(y.length-1)||0];this.createLayout(this._layout(y));this._content(y);this._footer();this.refreshLayout();var x=this.element.find(".k-scheduler-header-all-day td");if(x.length){this._allDayHeaderHeight=x.first()[0].clientHeight}z.datesHeader.on("click"+q,".k-nav-day",function(A){var D=a(A.currentTarget).closest("th");var B=D.offset();var C=z._slotByPosition(B.left,B.top+D.outerHeight());z.trigger("navigate",{view:"day",date:C.startDate()})})},startTime:function(){var x=this.options;return x.workDay?x.workDayStart:x.startTime},endTime:function(){var x=this.options;return x.workDay?x.workDayEnd:x.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(x){var y=j(this.endTime())||n;if(x){y=0}return new Date(this._endDate.getTime()+y)},nextDate:function(){return m.date.nextDay(this.endDate())},previousDate:function(){return m.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var x=this;if(x.datesHeader){x.datesHeader.off(q)}if(x.element){x.element.off(q)}s.fn.destroy.call(this);if(x.footer){x.footer.remove()}if(m.support.mobileOS){x._closeUserEvents.destroy();if(x.options.editable.create!==false){x._addUserEvents.destroy();x._allDayUserEvents.destroy()}if(x.options.editable.update!==false){x._editUserEvents.destroy()}}},selectionByElement:function(x){var y=x.offset();return this._slotByPosition(y.left,y.top)},_timeSlotInterval:function(){var x=this.options;return(x.majorTick/x.minorTickCount)*o},_columnCountInGroup:function(){var x=this.groupedResources;if(!x.length){return 0}return this._columnOffsetForResource(x.length)},_rowCountInGroup:function(){var y=this.groupedResources;if(!y.length){return 0}var x=this.options.allDaySlot?this._rowCountForLevel(y.length-1):0;return(this._rowCountForLevel(y.length)-x)/this._rowCountForLevel(y.length-1)},_timeSlotIndex:function(x){var z=this.options;var y=j(x);var A=j(this.startTime());var B=((z.majorTick/z.minorTickCount)*o);return(y-A)/(B)},_collectionIndex:function(x,y){if(y){return 0}return this._dateSlotIndex(x,true)},_slotIndex:function(x,y){if(y){return this._dateSlotIndex(x)}return this._timeSlotIndex(x)},_dateIndex:function(x){var y;var z;var B=this._dates||[];var C;var A;for(y=0,z=B.length;y<z;y++){C=m.date.getDate(B[y]);A=new Date(m.date.getDate(B[y]).getTime()+n-1);if(k(x,C,A)){return y}}return -1},_dateSlotIndex:function(x,B){var y;var z;var D=this._dates||[];var E;var C;var A=1;for(y=0,z=D.length;y<z;y++){E=m.date.getDate(D[y]);C=new Date(m.date.getDate(D[y]).getTime()+n-(B?0:1));if(k(x,E,C)){return y*A}}return -1},_positionAllDayEvent:function(z,K){var L=K.innerWidth();var N=K.start.index;var A=K.end.index;var x=s.collidingEvents(K.events(),N,A);var y=this._headerColumnCount||0;var F=2;var H=N!==A?5:4;var B=this._allDayHeaderHeight;var M=K.startSlot();z.css({left:this._scrollbarOffset(M.offsetLeft+F,true),width:L-H});K.addEvent({start:N,end:A,element:z});x.push({start:N,end:A,element:z});var J=s.createRows(x);if(J.length&&J.length>y){this._updateAllDayHeaderHeight(B*J.length+B);this._headerColumnCount=J.length}var O=K.start.offsetTop;for(var D=0,G=J.length;D<G;D++){var I=J[D].events;for(var E=0,C=I.length;E<C;E++){a(I[E].element).css({top:O+D*B})}}},_arrangeColumns:function(A,J){var L=J.start.index;var B=J.end.index;A={element:A,start:L,end:B};var y,K=J.start.clientWidth,E=K*0.1,x,C=J.events(),I=s.collidingEvents(C,A.start,A.end);J.addEvent(A);I.push(A);y=s.createColumns(I);var z=(K-E)/y.length;for(var F=0,H=y.length;F<H;F++){x=y[F].events;for(var G=0,D=x.length;G<D;G++){x[G].element[0].style.width=z-4+"px";x[G].element[0].style.left=(this._isRtl?this._scrollbarOffset(E):0)+J.start.offsetLeft+F*z+2+"px"}}},_positionEvent:function(z,y,A){var x=4;y.css({height:A.innerHeight()-x,top:A.start.offsetTop});this._arrangeColumns(y,A)},_eventTmpl:function(C,F){var y=this.options,A=h({},m.Template,y.templateSettings),z=A.paramName,x="",E=typeof C,B={storage:{},count:0};if(E==="function"){B.storage["tmpl"+B.count]=C;x+="#=this.tmpl"+B.count+"("+z+")#";B.count++}else{if(E==="string"){x+=C}}var D=m.template(m.format(F,x),A);if(B.count>0){D=r(D,B.storage)}return D},_createEventElement:function(A,F,E,N){var O=F?this.eventTemplate:this.allDayEventTemplate;var H=this.options;var x=H.editable;var K=x&&x.destroy!==false;var I=x&&x.resize!==false;var L=i(this.startDate());var y=i(this.endDate());var M=j(this.startTime());var z=j(this.endTime());var D=j(A.startTime||A.start);var C=j(A.endTime||A.end);var G;if(M>=z){z=j(new Date(this.endTime().getTime()+n-1))}if(!F&&!A.isAllDay){y=new Date(y.getTime()+n)}var B=A.end;if(A.isAllDay){B=i(A.end)}if((!k(i(A.start),L,y)&&!k(B,L,y))||(F&&D<M&&C>z)){G=true}else{if(i(A.start)<L||(F&&D<M)){N=true}else{if((B>y&&!F)||(F&&C>z)){E=true}}}var J=this.eventResources(A);return a(O(h({},{ns:m.ns,resizable:I,showDelete:K,middle:G,head:E,tail:N,singleDay:this._dates.length==1,resources:J,inverseColor:J&&J[0]?this._shouldInverseResourceColor(J[0]):false},A,{start:A.startTime||A.start,end:A.endTime||A.end})))},_isInTimeSlot:function(y){var B=this.startTime(),A=this.endTime(),C=y.startTime||y.start,x=y.endTime||y.end;if(j(A)===j(m.date.getDate(A))){A=m.date.getDate(A);t(A,n-1)}if(m.date.getDate(x)>m.date.getDate(C)){x=m.date.getDate(x);t(x,n-1)}x=j(x);C=j(C);A=j(A);B=j(B);if(B===C&&C===x){return true}var z=true;return l(C,B,A,z)||l(x,B,A,z)||l(B,C,x)||l(A,C,x)},_isInDateSlot:function(x){var z=this.startDate();var y=new Date(this.endDate().getTime()+n-1);return(k(x.start,z,y)||k(x.end,z,y)||k(z,x.start,x.end)||k(y,x.start,x.end))&&(!k(x.end,z,z)||k(x.end,x.start,x.start)||x.isAllDay)},_updateAllDayHeaderHeight:function(z){var x=this.element.find(".k-scheduler-header-all-day td");if(x.length){x.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(z);for(var y=0;y<this.groups.length;y++){this.groups[y].refresh()}}},_renderEvents:function(C,E){var x=this.datesHeader.find(".k-scheduler-header-wrap > div");var B;var G;var I;for(G=0,I=C.length;G<I;G++){B=C[G];if(this._isInDateSlot(B)){var H=B.isAllDay||B.end.getTime()-B.start.getTime()>=n;var y=H&&!this._isVerticallyGrouped()?x:this.content;var z;var N;var D;if(!H){if(this._isInTimeSlot(B)){D=this.groups[E];if(!D._continuousEvents){D._continuousEvents=[]}N=D.slotRanges(B);var L=N.length;for(var M=0;M<L;M++){var K=N[M];var O=B.start;var A=B.end;if(L>1){if(M===0){A=K.end.endDate()}else{if(M==L-1){O=K.start.startDate()}else{O=K.start.startDate();A=K.end.endDate()}}}var J=B.clone({start:O,end:A});if(this._isInTimeSlot(J)){var F=K.head;z=this._createEventElement(B,!H,F,K.tail);this._positionEvent(J,z,K);b(D,K,z,false);z.appendTo(y)}}}}else{if(this.options.allDaySlot){D=this.groups[E];if(!D._continuousEvents){D._continuousEvents=[]}N=D.slotRanges(B);z=this._createEventElement(B,!H);this._positionAllDayEvent(z,N[0]);b(D,N[0],z,true);z.appendTo(y)}}}}},render:function(x){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();this._updateAllDayHeaderHeight(this._allDayHeaderHeight);x=new m.data.Query(x).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var y=this.groupedResources;if(y.length){this._renderGroups(x,y,0)}else{this._renderEvents(x,0,0)}this.refreshLayout();this.trigger("activate")},_renderGroups:function(x,C,A){var B=C[0];if(B){var E=B.dataSource.view();for(var z=0;z<E.length;z++){var D=this._resourceValue(B,E[z]);var y=new m.data.Query(x).filter({field:B.field,operator:s.groupEqFilter(D)}).toArray();if(C.length>1){A=this._renderGroups(y,C.slice(1),A++)}else{this._renderEvents(y,A++)}}}return A},_columnOffsetForResource:function(x){return this._columnCountForLevel(x)/this._columnCountForLevel(x-1)},_columnCountForLevel:function(y){var x=this.columnLevels[y];return x?x.length:0},_rowCountForLevel:function(x){var y=this.rowLevels[x];return y?y.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(C,A,z,B,E){var y=C.isAllDay;var D=A[0].start;var x=A[A.length-1].end;if(z){if(E){if(!y&&D.index===x.index&&D.collectionIndex===x.collectionIndex){C.backward=B}}else{if((y&&D.index===x.index)||(!y&&D.collectionIndex===x.collectionIndex)){C.backward=B}}}},_changeViewPeriod:function(B,A,D){if(!D){var x=A?this.previousDate():this.nextDate();var C=B.start;var y=B.end;B.start=new Date(x);B.end=new Date(x);var z=B.isAllDay?n:j(y);t(B.start,j(C));t(B.end,z);if(!this._isVerticallyGrouped()){B.groupIndex=A?this.groups.length-1:0}B.events=[];return true}}});h(true,v,{MultiDayView:p,DayView:p.extend({options:{title:"Day"},name:"day"}),WeekView:p.extend({options:{title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var A=this.options.date,B=m.date.dayOfWeek(A,this.calendarInfo().firstDay,-1),y,z,x=[];for(y=0,z=7;y<z;y++){x.push(B);B=m.date.nextDay(B)}this._render(x)}})})})(window.kendo.jQuery);kendo_module({id:"scheduler.agendaview",name:"Scheduler Agenda View",category:"web",description:"The Scheduler Agenda View",depends:["scheduler.view"],hidden:true});(function(a){var d=window.kendo,h=d.ui,e=".kendoAgendaView";h.AgendaView=h.SchedulerView.extend({init:function(i,j){h.SchedulerView.fn.init.call(this,i,j);j=this.options;if(j.editable){j.editable=a.extend({"delete":true},j.editable,{create:false,update:false})}this.title=j.title;this.name="agenda";this._eventTemplate=d.template(j.eventTemplate);this._dateTemplate=d.template(j.eventDateTemplate);this._groupTemplate=d.template(j.eventGroupTemplate);this._timeTemplate=d.template(j.eventTimeTemplate);this.element.on("mouseenter"+e,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+e,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+e,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove");this._renderLayout(j.date)},_mouseenter:function(i){a(i.currentTarget).addClass("k-state-hover")},_mouseleave:function(i){a(i.currentTarget).removeClass("k-state-hover")},_remove:function(i){i.preventDefault();this.trigger("remove",{uid:a(i.currentTarget).closest(".k-task").attr(d.attr("uid"))})},nextDate:function(){return d.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return d.date.previousDay(this.startDate())},_renderLayout:function(i){this._startDate=i;this._endDate=d.date.addDays(i,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var i=[{text:this.options.messages.date,className:"k-scheduler-datecolumn"},{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];var l=this.groupedResources;if(l.length){var j=[];for(var k=0;k<l.length;k++){j.push({text:"",className:"k-scheduler-groupcolumn"})}i=j.concat(i)}return{columns:i}},_tasks:function(m){var q=[];for(var n=0;n<m.length;n++){var k=m[n];var o=k.start;var j=k.end;if(k.isAllDay){j=d.date.nextDay(j)}var l=Math.ceil((j-o)/d.date.MS_PER_DAY);if(!k.isAllDay&&l===1&&d.date.getDate(j).getTime()!==d.date.getDate(o).getTime()){l+=1}var p=k.clone();p.startDate=d.date.getDate(o);if(p.startDate>=this.startDate()){q.push(p)}if(l>1){p.end=d.date.nextDay(o);p.head=true;for(var i=1;i<l;i++){o=p.end;p=k.clone();p.start=o;p.startDate=d.date.getDate(o);p.end=d.date.nextDay(o);if(i==l-1){p.end=new Date(p.start.getFullYear(),p.start.getMonth(),p.start.getDate(),j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());p.tail=true}else{p.isAllDay=true;p.middle=true}if(p.end<=this.endDate()&&p.start>=this.startDate()){q.push(p)}}}}return new d.data.Query(q).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(t,k){var o=[];var j=this.options.editable;var m=j&&j.destroy!==false;for(var q=0;q<t.length;q++){var i=t[q].value;var s=t[q].items;var u=d.date.isToday(i);for(var r=0;r<s.length;r++){var p=s[r];var n=[];if(q===0&&r===0&&k.length){for(var l=0;l<k.length;l++){n.push(d.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',k[l].rowSpan,this._groupTemplate({value:k[l].text}),k[l].className))}}if(r===0){n.push(d.format('<td class="k-scheduler-datecolumn{2}" rowspan="{0}">{1}</td>',s.length,this._dateTemplate({date:i}),q==t.length-1&&!k.length?" k-last":""))}if(p.head){p.format="{0:t}"}else{if(p.tail){p.format="{1:t}"}else{p.format="{0:t}-{1:t}"}}p.resources=this.eventResources(p);n.push(d.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',p.tail||p.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(p.clone({start:p.startTime||p.start,end:p.endTime||p.end})),p.head||p.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(p.clone({showDelete:m}))));o.push('<tr role="row" aria-selected="false"'+(u?' class="k-today">':">")+n.join("")+"</tr>")}}return o.join("")},render:function(i){var l=this.content.find("table").empty();var j=[];if(i.length>0){var k=this.groupedResources;if(k.length){j=this._createGroupConfiguration(i,k,null);this._renderGroups(j,l,[])}else{j=this._tasks(i);l.append(this._renderTaskGroups(j,[]))}}this._eventsList=c(j);this.refreshLayout();this.trigger("activate")},_renderGroups:function(i,n,l){for(var j=0,k=i.length;j<k;j++){var m=l.splice(0);m.push(i[j]);if(i[j].groups){this._renderGroups(i[j].groups,n,m)}else{n.append(this._renderTaskGroups(i[j].items,m))}}},_createGroupConfiguration:function(m,q,o){var p=q[0];var j=[];var k=p.dataSource.view();for(var l=0;l<k.length;l++){var u=f(p,k[l]);var t=new d.data.Query(m).filter({field:p.field,operator:h.SchedulerView.groupEqFilter(u)}).toArray();if(t.length){var s=this._tasks(t);var i=o?"":" k-first";if(l===k.length-1&&(!o||o.className.indexOf("k-last")>-1)){i+=" k-last"}var n={text:d.getter(p.dataTextField)(k[l]),value:u,rowSpan:0,className:i};if(q.length>1){n.groups=this._createGroupConfiguration(t,q.slice(1),n);if(o){o.rowSpan+=n.rowSpan}}else{n.items=s;var r=g(n.items);n.rowSpan=r;if(o){o.rowSpan+=r}}j.push(n)}}return j},selectionByElement:function(i){i=a(i);if(i.hasClass("k-scheduler-datecolumn")){return}var k=i.parent().index();var j=this._eventsList[k];return{index:k,start:j.start,end:j.end,isAllDay:j.isAllDay,uid:j.uid}},select:function(j){this.clearSelection();var i=this.table.find(".k-task").eq(j.index).closest("tr").addClass("k-state-selected")[0];if(i){this._scrollTo(i,this.content[0])}},move:function(m,l){var j=false;var k=m.index;if(l==d.keys.UP){k--;j=true}else{if(l==d.keys.DOWN){k++;j=true}}if(j){var i=this._eventsList[k];if(i){m.start=i.start;m.end=i.end;m.isAllDay=i.isAllDay;m.events=[i.uid];m.index=k}}return j},moveToEvent:function(){return false},constrainSelection:function(j){var i=this._eventsList[0];if(i){j.start=i.start;j.end=i.end;j.isAllDay=i.isAllDay;j.events=[i.uid];j.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(e)}h.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:'<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',eventTimeTemplate:"#if(data.isAllDay) {#all day#} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time"}}});function g(l){var k=0;for(var i=0,j=l.length;i<j;i++){k+=l[i].items.length}return k}function f(j,i){if(j.valuePrimitive){i=d.getter(j.dataValueField)(i)}return i}function c(i){var j=0,l=i.length,k,m=[];for(;j<l;j++){k=i[j];if(k.groups){k=b(k.groups);m=m.concat(k)}else{m=m.concat(b(k.items))}}return m}function b(i){var k=[].concat(i),j=k.shift(),m=[],l=[].push;while(j){if(j.groups){l.apply(k,j.groups)}else{if(j.items){l.apply(k,j.items)}else{l.call(m,j)}}j=k.shift()}return m}})(window.kendo.jQuery);kendo_module({id:"scheduler.monthview",name:"Scheduler Month View",category:"web",description:"The Scheduler Month View",depends:["scheduler.view"],hidden:true});(function(a){var i=window.kendo,r=i.ui,p=r.SchedulerView,l=".kendoMonthView",e=a.extend,o=a.proxy,g=i.date.getDate,k=i.date.MS_PER_DAY,n=6,m=7,b=i.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),d='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',c=i.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');var j=i.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');r.MonthView=p.extend({init:function(s,t){var u=this;p.fn.init.call(u,s,t);u.title=u.options.title;u.name="month";u._templates();u._editable();u._renderLayout(u.options.date);u._groups()},_updateDirection:function(y,w,v,x,B){if(v){var z=w[0].start;var s=w[w.length-1].end;var u=z.index===s.index;var t=z.collectionIndex===s.collectionIndex;var A;if(B){A=(u&&t)||t}else{A=u&&t}if(A){y.backward=x}}},_changeViewPeriod:function(u,t,v){var s=v?7:1;if(t){s*=-1}u.start=i.date.addDays(u.start,s);u.end=i.date.addDays(u.end,s);if(!v||(v&&this._isVerticallyGrouped())){u.groupIndex=t?this.groups.length-1:0}u.events=[];return true},_continuousSlot:function(w,u,v){var t=w.backward?0:u.length-1;var s=this.groups[w.groupIndex];return s.continuousSlot(u[t].start,v)},_changeGroupContinuously:function(y,s,w,x){if(!w){var u=y.groupIndex;var v=this.groups.length-1;var z=this._isVerticallyGrouped();var t=this.groups[u];if(!s&&z){s=t[x?"lastSlot":"firstSlot"]();u+=(x?-1:1)}else{if(s&&!z){u=x?v:0}}if(u<0||u>v){u=x?v:0;s=null}y.groupIndex=u}return s},_normalizeHorizontalSelection:function(u,s,t){var v;if(t){v=s[0].start}else{v=s[s.length-1].end}return v},_normalizeVerticalSelection:function(t,s){var u;if(t.backward){u=s[0].start}else{u=s[s.length-1].end}return u},_templates:function(){var s=this.options,t=e({},i.Template,s.templateSettings);this.eventTemplate=this._eventTmpl(s.eventTemplate);this.dayTemplate=i.template(s.dayTemplate,t)},dateForTitle:function(){return i.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return i.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return i.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(s){var t=this;this._firstDayOfMonth=i.date.firstDayOfMonth(s);this._lastDayOfMonth=i.date.lastDayOfMonth(s);this._startDate=f(s,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+l,".k-nav-day,.k-more-events",function(u){var v=a(u.currentTarget).offset();var w=t._slotByPosition(v.left,v.top);u.preventDefault();t.trigger("navigate",{view:"day",date:w.startDate()})})},_editable:function(){if(this.options.editable){if(i.support.mobileOS){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var s=this;s.element.on("click"+l,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(t){s.trigger("remove",{uid:a(this).closest(".k-event").attr(i.attr("uid"))});t.preventDefault()});if(s.options.editable.create!==false){s.element.on("dblclick"+l,".k-scheduler-monthview .k-scheduler-content td",function(t){var u=a(t.currentTarget).offset();var w=s._slotByPosition(u.left,u.top);if(w){var v=s._resourceBySlot(w);s.trigger("add",{eventInfo:e({isAllDay:true,start:w.startDate(),end:w.startDate()},v)})}t.preventDefault()})}if(s.options.editable.update!==false){s.element.on("dblclick"+l,".k-scheduler-monthview .k-event",function(t){s.trigger("edit",{uid:a(this).closest(".k-event").attr(i.attr("uid"))});t.preventDefault()})}},_touchEditable:function(){var s=this;s._closeUserEvents=new i.UserEvents(s.element,{filter:".k-scheduler-monthview .k-event a:has(.k-si-close)",tap:function(t){s.trigger("remove",{uid:a(t.target).closest(".k-event").attr(i.attr("uid"))});t.preventDefault()}});if(s.options.editable.create!==false){s._addUserEvents=new i.UserEvents(s.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(t){var u=a(t.target).offset();var w=s._slotByPosition(u.left,u.top);if(w){var v=s._resourceBySlot(w);s.trigger("add",{eventInfo:e({isAllDay:true,start:w.startDate(),end:w.endDate()},v)})}t.preventDefault()}})}if(s.options.editable.update!==false){s._editUserEvents=new i.UserEvents(s.element,{filter:".k-scheduler-monthview .k-event.k-state-selected",tap:function(t){if(a(t.event.target).closest("a:has(.k-si-close)").length===0){s.trigger("edit",{uid:a(t.target).closest(".k-event").attr(i.attr("uid"))});t.preventDefault()}}})}},selectionByElement:function(s){var t=a(s).offset();return this._slotByPosition(t.left,t.top)},_columnCountForLevel:function(t){var s=this.columnLevels[t];return s?s.length:0},_rowCountForLevel:function(s){var t=this.rowLevels[s];return t?t.length:0},_content:function(){var s="<tbody>";var u=1;var t=this.groupedResources;if(t.length){if(this._isVerticallyGrouped()){u=this._rowCountForLevel(t.length-1)}}for(var v=0;v<u;v++){s+=this._createCalendar()}s+="</tbody>";this.content.find("table").html(s)},_createCalendar:function(){var z=this.startDate();var s=m*n;var t=m;var B=[z];var w="";var v=1;var x=this.groupedResources;if(x.length){if(!this._isVerticallyGrouped()){v=this._columnCountForLevel(x.length-1)}}this._slotIndices={};for(var y=0;y<s/t;y++){w+="<tr>";B.push(z);var A=y*t;for(var u=0;u<v;u++){w+=this._createRow(z,A,t)}z=i.date.addDays(z,t);w+="</tr>"}this._weekStartDates=B;this._endDate=i.date.previousDay(z);return w},_createRow:function(z,A,t){var y=this._firstDayOfMonth;var x=this._lastDayOfMonth;var v=this.dayTemplate;var u="";var w="";for(var s=0;s<t;s++){u="";if(i.date.isToday(z)){u+="k-today"}if(!i.date.isInDateRange(z,y,x)){u+=" k-other-month"}w+="<td ";if(u!==""){w+='class="'+u+'"'}w+=">";w+=v({date:z});w+="</td>";this._slotIndices[g(z).getTime()]=A+s;z=i.date.nextDay(z)}return w},_layout:function(){var s=this.calendarInfo();var w=q(s.days.names,s.firstDay);var t=a.map(w,function(z){return{text:z}});var x=this.groupedResources;var y;if(x.length){if(this._isVerticallyGrouped()){var v=[];for(var u=0;u<6;u++){v.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}y=this._createRowsLayout(x,v)}else{t=this._createColumnsLayout(x,t)}}return{columns:t,rows:y}},_eventTmpl:function(x){var t=this.options,v=e({},i.Template,t.templateSettings),u=v.paramName,s="",z=typeof x,w={storage:{},count:0};if(z==="function"){w.storage["tmpl"+w.count]=x;s+="#=this.tmpl"+w.count+"("+u+")#";w.count++}else{if(z==="string"){s+=x}}var y=i.template(i.format(d,s),v);if(w.count>0){y=o(y,w.storage)}return y},_createEventElement:function(t){var u=this.options;var s=u.editable;t.showDelete=s&&s.destroy!==false;t.resizable=s&&s.resize!==false;t.ns=i.ns;t.resources=this.eventResources(t);t.inverseColor=t.resources&&t.resources[0]?this._shouldInverseResourceColor(t.resources[0]):false;return a(this.eventTemplate(t))},_isInDateSlot:function(s){var u=this.startDate(),t=new Date(this.endDate().getTime()+k-1);return h(s.start,u,t)||h(s.end,u,t)||h(u,s.start,s.end)||h(t,s.start,s.end)},_slotIndex:function(s){return this._slotIndices[g(s).getTime()]},_positionEvent:function(J,t,A){var w=this.options.eventHeight;var L=J.start;if(J.start.offsetLeft>J.end.offsetLeft){L=J.end}var K=J.start.index;var u=J.end.index;var v=L.eventCount;var y=p.collidingEvents(J.events(),K,u);var E=K!==u?5:4;y.push({element:t,start:K,end:u});var G=p.createRows(y);for(var B=0,D=Math.min(G.length,v);B<D;B++){var F=G[B].events;var z=L.offsetTop+L.firstChildHeight+B*w+3*B+"px";for(var C=0,x=F.length;C<x;C++){F[C].element[0].style.top=z}}if(G.length>v){for(var I=K;I<=u;I++){var s=J.collection;var H=s.at(I);if(H.more){return}H.more=a(j({ns:i.ns,start:I,end:I,width:H.clientWidth-2,left:this._scrollbarOffset(H.offsetLeft+2),top:H.offsetTop+H.firstChildHeight+v*w+3*v}));this.content[0].appendChild(H.more[0])}}else{J.addEvent({element:t,start:K,end:u,groupIndex:L.groupIndex});t[0].style.width=J.innerWidth()-E+"px";t[0].style.left=this._scrollbarOffset(L.offsetLeft+2)+"px";t[0].style.height=w+"px";A._continuousEvents.push({element:t,uid:t.attr(i.attr("uid")),start:J.start,end:J.end});this.content[0].appendChild(t[0])}},_slotByPosition:function(v,w){var t=this.content.offset();v-=t.left;w-=t.top;w+=this.content[0].scrollTop;v+=this.content[0].scrollLeft;v=Math.ceil(v);w=Math.ceil(w);for(var s=0;s<this.groups.length;s++){var u=this.groups[s].daySlotByPosition(v,w);if(u){return u}}return null},_createResizeHint:function(v){var u=v.startSlot().offsetLeft;u=this._scrollbarOffset(u);var w=v.start.offsetTop;var x=v.innerWidth();var s=v.start.clientHeight-2;var t=p.fn._createResizeHint.call(this,u,w,x,s);t.appendTo(this.content);this._resizeHint=this._resizeHint.add(t)},_updateResizeHint:function(t,x,s){this._removeResizeHint();var u=this.groups[s.groupIndex];var w=u.ranges(x.startDate(),t.isAllDay?s.startDate():s.endDate(),true,t.isAllDay);for(var v=0;v<w.length;v++){this._createResizeHint(w[v])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(i.toString(x.startDate(),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(i.toString(s.startDate(),"M/dd"))},_updateMoveHint:function(w,z,s){var t=s.start-z.start;var D=i.date.toUtcTime(w.start)+t;var u=D+w.duration();var x=this.groups[s.groupIndex];var C=x.ranges(D,u,true,w.isAllDay);this._removeMoveHint();for(var B=0;B<C.length;B++){var A=C[B];var E=A.startSlot();var v=A.endSlot();var y=this._createEventElement(w.clone({head:A.head,tail:A.tail}));y.css({left:E.offsetLeft+2,top:E.offsetTop+E.firstChildHeight,height:this.options.eventHeight,width:A.innerWidth()-(E.index!==v.index?5:4)});y.addClass("k-event-drag-hint");y.appendTo(this.content);this._moveHint=this._moveHint.add(y)}},_groups:function(){var D=this._groupCount();var z=m;var G=n;this.groups=[];for(var F=0;F<D;F++){this._addResourceView(F)}var L=this.content[0].getElementsByTagName("tr");for(var E=0;E<D;E++){var t=0;var I=0;if(this._isVerticallyGrouped()){I=E}for(var H=I*G;H<(I+1)*G;H++){var C=this.groups[E];var y=C.addDaySlotCollection(i.date.addDays(this.startDate(),t),i.date.addDays(this.startDate(),t+z));var K=L[H];var w=K.children;var v=0;K.setAttribute("role","row");if(!this._isVerticallyGrouped()){v=E}for(var u=v*z;u<(v+1)*z;u++){var s=w[u];var x=s.clientHeight;var B=s.firstChild.offsetHeight+3;var J=i.date.toUtcTime(i.date.addDays(this.startDate(),t));t++;var A=Math.floor((x-B)/(this.options.eventHeight+3));s.setAttribute("role","gridcell");s.setAttribute("aria-selected",false);y.addDaySlot(s,J,J+i.date.MS_PER_DAY,A)}}}},render:function(s){this.content.children(".k-event,.k-more-events").remove();this._groups();s=new i.data.Query(s).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;if(t.length){this._renderGroups(s,t,0,1)}else{this._renderEvents(s,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(u,w){var t;var x;var y;for(x=0,y=u.length;x<y;x++){t=u[x];if(this._isInDateSlot(t)){var v=this.groups[w];if(!v._continuousEvents){v._continuousEvents=[]}var D=v.slotRanges(t,true);var B=D.length;for(var C=0;C<B;C++){var A=D[C];var E=t.start;var s=t.end;if(B>1){if(C===0){s=A.end.endDate()}else{if(C==B-1){E=A.start.startDate()}else{E=A.start.startDate();s=A.end.endDate()}}}var z=t.clone({start:E,end:s,head:A.head,tail:A.tail});this._positionEvent(A,this._createEventElement(z),v)}}}},_renderGroups:function(t,x,v,s){var w=x[0];if(w){var A=w.dataSource.view();for(var u=0;u<A.length;u++){var z=this._resourceValue(w,A[u]);var y=new i.data.Query(t).filter({field:w.field,operator:p.groupEqFilter(z)}).toArray();if(x.length>1){v=this._renderGroups(y,x.slice(1),v++,s+1)}else{this._renderEvents(y,v++)}}}return v},_groupCount:function(){var s=this.groupedResources;if(s.length){if(this._isVerticallyGrouped()){return this._rowCountForLevel(s.length-1)}else{return this._columnCountForLevel(s.length)/this._columnOffsetForResource(s.length)}}return 1},_removeOffset:function(z,v){var x=this.groupedResources;var w=0;if(x.length){if(this._isVerticallyGrouped()){w=m*n*v}else{var t=this._columnOffsetForResource(x.length);var u=this._groupCount();var s=t*u;var y=Math.floor(z/s);w=(t*(u-1)*y);w+=t*v}}return z-w},_applyOffset:function(z,u){var w=this.groupedResources;var v=0;var s=m;var x=n;if(w.length){if(this._isVerticallyGrouped()){v=s*x*u}else{var y=Math.floor(z/s);var t=this._columnOffsetForResource(w.length);v=(t*(this._groupCount()-1)*y);v+=t*u}}return z+v},_groupIndex:function(y){var w=this.groupedResources;if(w.length){if(this._isVerticallyGrouped()){return Math.floor(y/(m*n))}else{var t=this._columnOffsetForResource(w.length);var u=this._groupCount();var s=t*u;var x=Math.floor(y/s);var v=(t*u*x);return Math.floor((y-v)/t)}}return 0},_columnOffsetForResource:function(s){return this._columnCountForLevel(s)/this._columnCountForLevel(s-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(l)}if(this.element){this.element.off(l)}p.fn.destroy.call(this);if(i.support.mobileOS){this._closeUserEvents.destroy();if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,editable:true,selectedDateFormat:"{0:y}",dayTemplate:b,eventTemplate:c}});function q(s,t){return s.slice(t).concat(s.slice(0,t))}function f(t,s){var u=s.firstDay,v=new Date(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());while(v.getDay()!=u){i.date.setTime(v,-1*k)}return v}function h(x,t,s){var v=t.getTime(),u=s.getTime(),w;w=x.getTime();return w>=v&&w<=u}})(window.kendo.jQuery);kendo_module({id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox"],hidden:true});(function(a,ae){var z=window.kendo,ab=z.timezone,e=z.Class,ac=z.ui,an=ac.Widget,h=z.date,aa=h.setTime,Z=h.setDayOfWeek,b=h.adjustDST,r=h.firstDayOfMonth,t=h.getMilliseconds,k=[0,31,60,91,121,152,182,213,244,274,305,335,366],l=[0,31,59,90,120,151,181,212,243,273,304,334,365],F=[31,28,30,31,30,31,30,31,30,31,30,31],af={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},ag={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},i=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],S=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],T=S.length,B={months:function(aq,ar,av){var at=av.months,au=U(at,aq.getMonth()+1),ap=false;if(au!==null){if(au.length){aq.setMonth(au[0]-1,1)}else{aq.setFullYear(aq.getFullYear()+1,at[0]-1,1)}ap=true}return ap},monthDays:function(aq,at,ay){var aw,av,ar,ap=false,au=aq.getHours(),ax=function(az){if(az<0){az=aw+az}return az};while(aq<=at){av=aq.getMonth();aw=u(aq);ar=U(ay.monthDays,aq.getDate(),ax);if(ar===null){return ap}ap=true;if(ar.length){aq.setMonth(av,ar.sort(J)[0]);b(aq,au);if(av===aq.getMonth()){break}}else{aq.setMonth(av+1,1)}}return ap},yearDays:function(aq,ar,av){var aw,ax,ap=false,at=aq.getHours(),au=function(ay){if(ay<0){ay=aw+ay}return ay};while(aq<ar){aw=A(aq)?366:365;ax=U(av.yearDays,j(aq),au);if(ax===null){return ap}ap=true;aw=aq.getFullYear();if(ax.length){aq.setFullYear(aw,0,ax.sort(J)[0]);b(aq,at);break}else{aq.setFullYear(aw+1,0,1)}}return ap},weeks:function(aq,at,aw){var ay=aw.weekStart,az,ax,ar,ap=false,au=aq.getHours(),av=function(aA){if(aA<0){aA=53+aA}return aA};while(aq<at){ax=U(aw.weeks,al(aq,ay),av);if(ax===null){return ap}ap=true;az=aq.getFullYear();if(ax.length){ar=(ax.sort(J)[0]*7)-1;aq.setFullYear(az,0,ar);Z(aq,ay,-1);b(aq,au);break}else{aq.setFullYear(az+1,0,1)}}return ap},weekDays:function(ap,ar,av){var ay=av.weekDays,az=av.weekStart,ax=V(ay,ap,az),au=av.interval,at=ap.getHours(),aw,aq;if(ax===null){return false}aw=ax[0];if(!aw){aw=ay[0];Z(ap,az);if(av._weekDayFound&&au>1){ap.setDate(ap.getDate()+((au-1)*7));b(ap,at)}}aq=aw.day;av._weekDayFound=true;if(aw.offset){while(ap<=ar&&!y(ap,aw,az)){if(ak(ap,az)===I(ap,az)){ap.setMonth(ap.getMonth()+1,1);b(ap,at)}else{ap.setDate(ap.getDate()+7);b(ap,at);Z(ap,az,-1)}}}if(ap.getDay()!==aq){Z(ap,aq)}return true},hours:function(aq,ar,av){var at=av.hours,ax=av._startTime,aw=ax.getHours(),au=U(at,aw),ap=false;if(au!==null){ap=true;aq.setHours(aw);b(aq,aw);if(au.length){au=au[0];aq.setHours(au)}else{au=aq.getHours();aq.setDate(aq.getDate()+1);b(aq,au);au=at[0];aq.setHours(au);b(aq,au)}if(av.minutes){aq.setMinutes(0)}ax.setHours(au,aq.getMinutes())}return ap},minutes:function(ar,at,ax){var av=ax.minutes,aq=ar.getMinutes(),aw=U(av,aq),au=ax._startTime.getHours(),ap=false;if(aw!==null){ap=true;if(aw.length){aw=aw[0]}else{au+=1;aw=av[0]}if(ax.seconds){ar.setSeconds(0)}ar.setHours(au,aw);au=au%24;b(ar,au);ax._startTime.setHours(au,aw,ar.getSeconds())}return ap},seconds:function(aq,ar,av){var aw=av.seconds,at=av._startTime.getHours(),ax=U(aw,aq.getSeconds()),au=aq.getMinutes(),ap=false;if(ax!==null){ap=true;if(ax.length){aq.setSeconds(ax[0])}else{au+=1;aq.setMinutes(au,aw[0]);if(au>59){au=au%60;at=(at+1)%24}}av._startTime.setHours(at,au,aq.getSeconds())}return ap}},d=e.extend({next:function(ap,at){var av=at._startTime,aq=av.getDate(),ar,au;if(at.seconds){au=ap.getSeconds()+1;ap.setSeconds(au);av.setSeconds(au);av.setDate(aq)}else{if(at.minutes){ar=ap.getMinutes()+1;ap.setMinutes(ar);av.setMinutes(ar);av.setDate(aq)}else{return false}}return true},normalize:function(ap){var aq=ap.rule;if(ap.idx===4&&aq.hours){aq._startTime.setHours(0);this._hour(ap.date,aq)}},limit:function(ap,ar,aw){var ax,at,av,au,aq;while(ap<=ar){av=at=ae;aq=ap.getDate();for(au=0;au<T;au++){ax=S[au];if(aw[ax]){av=B[ax](ap,ar,aw);if(at!==ae&&av){break}else{at=av}}if(av){this.normalize({date:ap,rule:aw,day:aq,idx:au})}}if(au===T){break}}},_hour:function(ap,at,ar){var au=at._startTime,aq=au.getHours();if(ar){aq+=ar}ap.setHours(aq);aq=aq%24;au.setHours(aq);b(ap,aq)},_date:function(ap,at,ar){var aq=ap.getHours();ap.setDate(ap.getDate()+ar);if(!b(ap,aq)){this._hour(ap,at)}}}),v=d.extend({next:function(ap,aq){if(!d.fn.next(ap,aq)){this._hour(ap,aq,aq.interval)}},normalize:function(ap){var aq=ap.rule;if(ap.idx===4){aq._startTime.setHours(0);this._hour(ap.date,aq)}}}),g=d.extend({next:function(ap,aq){if(!d.fn.next(ap,aq)){if(aq.hours){this._hour(ap,aq,1)}else{this._date(ap,aq,aq.interval)}}}}),am=d.extend({next:function(ap,aq){if(!d.fn.next(ap,aq)){if(aq.hours){this._hour(ap,aq,1)}else{this._date(ap,aq,1)}}},setup:function(aq,ap){if(!aq.weekDays){aq.weekDays=[{day:ap.getDay(),offset:0}]}}}),E=d.extend({next:function(ap,at){var aq,ar;if(!d.fn.next(ap,at)){if(at.hours){this._hour(ap,at,1)}else{if(at.monthDays||at.weekDays||at.yearDays||at.weeks){this._date(ap,at,1)}else{aq=ap.getDate();ar=ap.getHours();ap.setMonth(ap.getMonth()+1);b(ap,ar);while(ap.getDate()!==aq){ap.setDate(aq);b(ap,ar)}this._hour(ap,at)}}}},normalize:function(ar){var at=ar.rule,ap=ar.date,aq=ap.getHours();if(ar.idx===0&&!at.monthDays&&!at.weekDays){ap.setDate(ar.day);b(ap,aq)}else{d.fn.normalize(ar)}},setup:function(ar,aq,ap){if(!ar.monthDays&&!ar.weekDays){ap.setDate(aq.getDate())}}}),ao=E.extend({next:function(ap,at){var aq,ar=ap.getHours();if(!d.fn.next(ap,at)){if(at.hours){this._hour(ap,at,1)}else{if(at.monthDays||at.weekDays||at.yearDays||at.weeks){this._date(ap,at,1)}else{if(at.months){aq=ap.getDate();ap.setMonth(ap.getMonth()+1);b(ap,ar);while(ap.getDate()!==aq){ap.setDate(aq);b(ap,ar)}this._hour(ap,at)}else{ap.setFullYear(ap.getFullYear()+1);b(ap,ar);this._hour(ap,at)}}}}},setup:function(){}}),s={hourly:new v(),daily:new g(),weekly:new am(),monthly:new E(),yearly:new ao()};function j(ap){var ar=ap.getMonth(),aq=A(ap)?k[ar]:l[ar];return aq+ap.getDate()}function al(ap,ar){var at,aq;ap=new Date(ap.getFullYear(),ap.getMonth(),ap.getDate());b(ap,0);at=ap.getFullYear();if(ar!==ae){Z(ap,ar,-1);ap.setDate(ap.getDate()+4)}else{ap.setDate(ap.getDate()+(4-(ap.getDay()||7)))}b(ap,0);aq=Math.floor((ap.getTime()-new Date(at,0,1,-6))/86400000);return 1+Math.floor(aq/7)}function ak(ap,at){var aq=r(ap).getDay(),ar=Math.abs(7-(aq+7-(at||7)))||7;return Math.ceil((ap.getDate()-ar)/7)+1}function G(ap,aq,ar){if(aq<0){aq=I(ap,ar)+(aq+1)}return aq}function I(ap,aq){return ak(new Date(ap.getFullYear(),ap.getMonth()+1,0),aq)}function y(ap,ar,au){var aq=ar.offset,at=ak(ap,au);if(!c(ap,ar,au)){at-=1}return at===G(ap,aq,au)}function c(aq,av,aw){var ar=av.day,au=av.offset,at,ap;if(!au){return true}at=r(aq).getDay();if(at<aw){at+=aw}if(ar<aw){ar+=aw}ap=ar>=at;if(!ap&&au<0&&G(aq,au,aw)!==1){ap=true}return ap}function V(ay,aq,aA){var ap=aq.getDay(),au=ay.length,ax,ar,av,az,aw=[],at=0;if(ap<aA){ap+=7}for(;at<au;at++){ax=ay[at];av=ax.offset;ar=ax.day;if(ar<aA){ar+=7}az=ak(aq,aA);if(!c(aq,ax,aA)){az-=1}av=av?G(aq,av,aA):az;if(az<av){aw.push(ax)}else{if(az===av){if(ap<ar){aw.push(ax)}else{if(ap===ar){return null}}}}}return aw}function U(au,aw,at){var aq=0,ar=au.length,ap=[],av;for(;aq<ar;aq++){av=au[aq];if(at){av=at(av)}if(aw===av){return null}else{if(aw<av){ap.push(av)}}}return ap}function p(aq,au){var av=[],at=au.length,ar=0,ap;for(;ar<at;ar++){ap=aq[au[ar]-1];if(ap){av.push(ap)}}return av}function K(ar,at){var ap=0,aq=ar.length,au;for(;ap<aq;ap++){au=parseInt(ar[ap],10);if(isNaN(au)||au<at.start||au>at.end||(au===0&&at.start<0)){return null}ar[ap]=au}return ar.sort(J)}function P(at){var aq=0,ar=at.length,au,av,ap;for(;aq<ar;aq++){au=at[aq];av=au.length;ap=au.substring(av-2).toUpperCase();ap=ag[ap];if(ap===ae){return null}at[aq]={offset:parseInt(au.substring(0,av-2),10)||0,day:ap}}return at}function Y(ar){var ap=0,aq=ar.length,au,av,at=[];for(;ap<aq;ap++){au=ar[ap];if(typeof au==="string"){av=au}else{av=""+af[au.day];if(au.offset){av=au.offset+av}}at.push(av)}return at.toString()}function u(ap){var aq=ap.getMonth();if(aq===1){if(new Date(ap.getFullYear(),1,29).getMonth()===1){return 29}return 28}return F[aq]}function A(ap){ap=ap.getFullYear();return((ap%4===0)&&(ap%100!==0))||(ap%400===0)}function J(ap,aq){return ap-aq}function M(ar,av){var at=0,au,ap,aq=[];if(ar){ar=ar.split(";");au=ar.length;for(;at<au;at++){ap=O(ar[at],av);if(ap){aq.push(ap)}}}return aq}function x(at,ap,aw){var aq=a.isArray(at)?at:M(at,aw),ar=ap.getTime()-ap.getMilliseconds(),au=0,av=aq.length;for(;au<av;au++){if(aq[au].getTime()===ar){return true}}return false}function q(aw,aK,at,aO){var aG=N(aw.recurrenceRule),aM,av,au,aE,aF,aJ,ar,aL,aI,aH,aN,aD,aB,aA,az,ay,ap,aC,aq=1,ax=[];if(!aG){return[aw]}aI=aG.start;aH=aG.end;if(aI||aH){aw=aw.clone({start:aI?new Date(aI.value):ae,end:aH?new Date(aH.value):ae})}ay=aw.start;az=ay.getTime();aA=t(ay);aB=M(aw.recurrenceException,aO);aL=aK=new Date(aK);at=new Date(at);aD=aG.freq;aC=s[aD];ap=aG.count;if(aG.until&&aG.until<at){at=new Date(aG.until)}aN=aD==="yearly"||aD==="monthly"||aD==="weekly";if(aK<az||ap||aG.interval>1||aN){aK=new Date(az)}else{aE=aK.getHours();aF=aK.getMinutes();aJ=aK.getSeconds();if(!aG.hours){aE=ay.getHours()}if(!aG.minutes){aF=ay.getMinutes()}if(!aG.seconds){aJ=ay.getSeconds()}aK.setHours(aE,aF,aJ,ay.getMilliseconds())}ar=aw.duration();aG._startTime=aM=z.date.toInvariantTime(aK);if(aC.setup){aC.setup(aG,ay,aK)}aC.limit(aK,at,aG);while(aK<=at){if(aK>=aL&&!x(aB,aK,aO)){au=new Date(aK);aa(au,ar);av=new Date(aG._startTime);aa(av,ar);if(az!==aK.getTime()||aA!==t(aM)){ax.push(aw.toOccurrence({start:new Date(aK),startTime:new Date(aM),end:au,endTime:av}))}else{aw.startTime=aM;aw.endTime=av;ax.push(aw)}}if(ap&&ap===aq){break}aq++;aC.next(aK,aG);aC.limit(aK,at,aG)}if(aG.setPositions){ax=p(ax,aG.setPositions)}return ax}function O(ap,aq){ap=z.parseDate(ap,i);if(ap&&aq){ap=ab.convert(ap,ap.getTimezoneOffset(),aq)}return ap}function L(ap,ay){var au=ap.split(";");var at;var av;var ax;var aw;for(var aq=0,ar=au.length;aq<ar;aq++){at=au[aq].split(":");av=at[0];ax=at[1];if(av.indexOf("TZID")!==-1){aw=av.substring(av.indexOf("TZID")).split("=")[1]}if(ax){ax=O(ax,aw||ay)}}if(ax){return{value:ax,tzid:aw}}}function N(ax,aD){var aq={},ap=0,ar,az,aA,aw,aC,aB,ay,at,au,av=function(aE,aF){var aG=aE.day,aH=aF.day;if(aG<aC){aG+=aC}if(aH<aC){aH+=aC}return aG-aH};if(!ax){return null}au=ax.split("\n");if(!au[1]&&(ax.indexOf("DTSTART")!==-1||ax.indexOf("DTEND")!==-1)){au=ax.split(" ")}for(ap=0,ar=au.length;ap<ar;ap++){at=au[ap];if(at.indexOf("DTSTART")!==-1){aq.start=L(at,aD)}else{if(at.indexOf("DTEND")!==-1){aq.end=L(at,aD)}else{if(at.indexOf("RRULE")!==-1){ay=at.substring(6)}else{ay=at}}}}ay=ay.split(";");for(ap=0,ar=ay.length;ap<ar;ap++){aw=ay[ap];az=aw.split("=");aA=a.trim(az[1]).split(",");switch(a.trim(az[0]).toUpperCase()){case"FREQ":aq.freq=aA[0].toLowerCase();break;case"UNTIL":aq.until=O(aA[0],aD);break;case"COUNT":aq.count=parseInt(aA[0],10);break;case"INTERVAL":aq.interval=parseInt(aA[0],10);break;case"BYSECOND":aq.seconds=K(aA,{start:0,end:60});break;case"BYMINUTE":aq.minutes=K(aA,{start:0,end:59});break;case"BYHOUR":aq.hours=K(aA,{start:0,end:23});break;case"BYMONTHDAY":aq.monthDays=K(aA,{start:-31,end:31});break;case"BYYEARDAY":aq.yearDays=K(aA,{start:-366,end:366});break;case"BYMONTH":aq.months=K(aA,{start:1,end:12});break;case"BYDAY":aq.weekDays=aB=P(aA);break;case"BYSETPOS":aq.setPositions=K(aA,{start:1,end:366});break;case"BYWEEKNO":aq.weeks=K(aA,{start:-53,end:53});break;case"WKST":aq.weekStart=aC=ag[aA[0]];break}if(aq.freq===ae||(aq.count!==ae&&aq.until)){return null}if(!aq.interval){aq.interval=1}if(aC===ae){aq.weekStart=aC=z.culture().calendar.firstDay}if(aB){aq.weekDays=aB.sort(av)}}return aq}function X(ap,at){var ar=ap.value;var aq=ap.tzid||"";ar=ab.convert(ar,aq||at||ar.getTimezoneOffset(),"Etc/UTC");if(aq){aq=";TZID="+aq}return aq+":"+z.toString(ar,"yyyyMMddTHHmmssZ")+" "}function W(aq,aw){var av=aq.weekStart,ar="FREQ="+aq.freq.toUpperCase(),au=aq.until,at=aq.start||"",ap=aq.end||"";if(aq.interval>1){ar+=";INTERVAL="+aq.interval}if(aq.count){ar+=";COUNT="+aq.count}if(au){au=ab.convert(au,aw||au.getTimezoneOffset(),"Etc/UTC");ar+=";UNTIL="+z.toString(au,"yyyyMMddTHHmmssZ")}if(aq.months){ar+=";BYMONTH="+aq.months}if(aq.weeks){ar+=";BYWEEKNO="+aq.weeks}if(aq.yearDays){ar+=";BYYEARDAY="+aq.yearDays}if(aq.monthDays){ar+=";BYMONTHDAY="+aq.monthDays}if(aq.weekDays){ar+=";BYDAY="+Y(aq.weekDays)}if(aq.hours){ar+=";BYHOUR="+aq.hours}if(aq.minutes){ar+=";BYMINUTE="+aq.minutes}if(aq.seconds){ar+=";BYSECOND="+aq.seconds}if(aq.setPositions){ar+=";BYSETPOS="+aq.setPositions}if(av!==ae){ar+=";WKST="+af[av]}if(at){at="DTSTART"+X(at,aw)}if(ap){ap="DTEND"+X(ap,aw)}if(at||ap){ar=at+ap+"RRULE:"+ar}return ar}z.recurrence={rule:{parse:N,serialize:W},expand:q,dayInYear:j,weekInYear:al,weekInMonth:ak,numberOfWeeks:I,isException:x};var w='<div class="k-edit-label"><label>{0}</label></div><div class="k-edit-field"><input class="k-recur-interval" />{1}</div>';var m='<input class="k-recur-count" />{0}';var o='<input class="k-recur-until" />';var n='<div class="k-edit-label"><label>{0}</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />{1}</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />{2}</label>{3}</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />{4}</label>{5}</li></ul></div>';var R='<div class="k-edit-label"><label>{0}</label></div><div class="k-edit-field">{1}</div>';var ad='<ul class="k-reset">{0}</ul>';var D='<li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />{0}</label><input class="k-recur-monthday" /></li>';var ah='<li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-offset" /><input class="k-recur-weekday" /></li>';var C='<li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li>';var ai='<li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-offset" /><input class="k-recur-weekday" />{0}<input class="k-recur-month" /></li>';var aj=function(ap){var au=z.culture().calendar.days.namesShort,ar=au.length,at="",aq=0,av=[];for(;aq<ar;aq++){av.push(aq)}au=au.slice(ap).concat(au.slice(0,ap));av=av.slice(ap).concat(av.slice(0,ap));for(aq=0;aq<ar;aq++){at+='<label><input class="k-recur-weekday-checkbox" type="checkbox" value="'+av[aq]+'" /> '+au[aq]+"</label>"}return at};var H=".kendoRecurrenceEditor",f="click"+H;var Q=an.extend({init:function(ap,aq){var at=this,ar;an.fn.init.call(at,ap,aq);at.wrapper=at.element;aq=at.options;aq.start=ar=aq.start||h.today();if(typeof ar==="string"){aq.start=z.parseDate(ar,"yyyyMMddTHHmmss")}if(aq.firstWeekDay===null){aq.firstWeekDay=z.culture().calendar.firstDay}at._frequencyChooser();at._container();at._views();at._value={};at.value(aq.value)},options:{name:"RecurrenceEditor",frequencies:["never","daily","weekly","monthly","yearly"],firstWeekDay:null,timezone:"",start:"",value:"",messages:{frequencies:{never:"Never",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},end:{endLabel:"End:",endNever:"Never",endCountAfter:"After ",endCountOccurrence:" occurrence(s)",endUntilOn:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},daily:{repeatEvery:"Repeat every: ",days:" day(s)"},weekly:{weeks:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",months:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",years:" year(s)",of:" of "}}},events:["change"],destroy:function(){this.ddlFrequency.destroy();this.container.find("input[type=radio],input[type=checkbox]").off(f);z.destroy(this.container);an.fn.destroy.call(this)},value:function(ar){var ap=this,aq=ap.options.timezone;if(ar===ae){if(!ap._value.freq){return""}return W(ap._value,aq)}ap._value=N(ar,aq)||{};ap.ddlFrequency.value(ap._value.freq||"");ap.setView(ap.ddlFrequency.value())},setView:function(aq){var au=this,ap=this.container,ar=this["_"+aq]||"",at=au._value;z.destroy(ap);ap.html(ar);if(!ar){au._value={};return}at.freq=aq;au._interval();if(aq==="weekly"){if(!at.weekDays){at.weekDays=[{day:this.options.start.getDay(),offset:0}]}au._weekDays()}else{if(aq==="monthly"){au._monthDay();au._weekDay();au._setMonthRule()}else{if(aq==="yearly"){au._month();au._monthDay();au._weekDay();au._setYearRule()}}}au._count();au._until();au._setEndRule()},_interval:function(){var ar=this,ap=ar.container.find(".k-recur-interval"),aq=ar._value;ap.kendoNumericTextBox({value:aq.interval||1,decimals:0,format:"#",min:1,change:function(){aq.interval=this.value();ar.trigger("change")}})},_weekDay:function(){var av=this,at=av.options.messages.offsetPositions,ar=av.container.find(".k-recur-offset"),ay=av.container.find(".k-recur-weekday"),au=av._value,aw=au.weekDays,aq,ax,ap;if(ay[0]){av.weekDayOffsetDDL=aq=new z.ui.DropDownList(ar,{dataTextField:"text",dataValueField:"value",dataSource:[{text:at.first,value:"1"},{text:at.second,value:"2"},{text:at.third,value:"3"},{text:at.fourth,value:"4"},{text:at.last,value:"-1"}],change:function(){au.weekDays=[{offset:Number(aq.value()),day:Number(ax.value())}];av.trigger("change")}});ap=a.map(z.culture().calendar.days.names,function(az,aA){return{text:az,value:aA}});av.weekDayNameDDL=ax=new z.ui.DropDownList(ay,{dataTextField:"text",dataValueField:"value",dataSource:ap,change:function(){au.weekDays=[{offset:Number(aq.value()),day:Number(ax.value())}];av.trigger("change")}});if(aw){aw=aw[0];aq.value(aw.offset||"");ax.value(aw.day)}}},_weekDays:function(){var av=this,au=av._value,ax=av.container.find(".k-recur-weekday-checkbox");if(ax[0]){ax.on(f,function(){au.weekDays=a.map(ax.filter(":checked"),function(ay){return{day:Number(ay.value),offset:0}});av.trigger("change")});if(au.weekDays){var aq,aw;var ap=0,ar=ax.length;var at=au.weekDays.length;for(;ap<ar;ap++){aw=ax[ap];for(aq=0;aq<at;aq++){if(aw.value==au.weekDays[aq].day){aw.checked=true}}}}}},_monthDay:function(){var ar=this,aq=ar._value,ap=ar.container.find(".k-recur-monthday");if(ap[0]){ar.monthDayNumericTextBox=new z.ui.NumericTextBox(ap,{min:1,max:31,decimals:0,format:"#",value:aq.monthDays?aq.monthDays[0]:ar.options.start.getDate(),change:function(){var at=this.value();if(at){at=[at]}aq.monthDays=at;ar.trigger("change")}})}},_month:function(){var ax=this,av=ax._value,aw=ax.options.start,ap=av.months||[aw.getMonth()+1],at=ax.container.find(".k-recur-month"),au,aq,ar;if(at[0]){au=a.map(z.culture().calendar.months.names,function(az,ay){return{text:az,value:ay+1}});ax.monthDDL1=aq=new z.ui.DropDownList(at[0],{dataTextField:"text",dataValueField:"value",dataSource:au,change:function(){av.months=[Number(this.value())];ax.trigger("change")}});ax.monthDDL2=ar=new z.ui.DropDownList(at[1],{dataTextField:"text",dataValueField:"value",dataSource:au,change:function(){av.months=[Number(this.value())];ax.trigger("change")}});if(ap){ap=ap[0];aq.value(ap);ar.value(ap)}}},_count:function(){var ar=this,ap=ar.container.find(".k-recur-count"),aq=ar._value;ar.countNumericTextBox=ap.kendoNumericTextBox({value:aq.count||1,decimals:0,format:"#",min:1,change:function(){aq.count=this.value();ar.trigger("change")}}).data("kendoNumericTextBox")},_until:function(){var at=this,ap=at.container.find(".k-recur-until"),ar=at.options.start,aq=at._value,au=aq.until;at.untilDatePicker=ap.kendoDatePicker({min:au&&au<ar?au:ar,value:au||ar,change:function(){aq.until=this.value();at.trigger("change")}}).data("kendoDatePicker")},_setEndRule:function(){var at=this,ar=at._value,aq=at.container,ap=function(au){at._toggleEndRule(au.currentTarget.value);at.trigger("change")};at.radioButtonNever=aq.find(".k-recur-end-never").on(f,ap);at.radioButtonCount=aq.find(".k-recur-end-count").on(f,ap);at.radioButtonUntil=aq.find(".k-recur-end-until").on(f,ap);if(ar.count){at._toggleEndRule("count")}else{if(ar.until){at._toggleEndRule("until")}else{at._toggleEndRule()}}},_setMonthRule:function(){var at=this,ar=at._value,ap=function(au){at._toggleMonthDayRule(au.currentTarget.value);at.trigger("change")},aq=at.container.find(".k-recur-month-radio").on(f,ap);at.radioButtonMonthDay=aq.eq(0);at.radioButtonWeekDay=aq.eq(1);if(ar.weekDays){at._toggleMonthDayRule("weekday")}else{at._toggleMonthDayRule("monthday")}},_setYearRule:function(){var at=this,ar=at._value,ap=function(au){at._toggleYearRule(au.currentTarget.value);at.trigger("change")},aq=at.container.find(".k-recur-year-radio").on(f,ap);at.radioButtonMonthDay=aq.eq(0);at.radioButtonWeekDay=aq.eq(1);if(ar.weekDays){at._toggleYearRule("weekday")}else{at._toggleYearRule("monthday")}},_toggleEndRule:function(ap){var ar=this,aq=ar._value;if(ap==="count"){ar.radioButtonCount.prop("checked",true);ar.untilDatePicker.enable(false);ar.countNumericTextBox.enable(true);aq.count=ar.countNumericTextBox.value();aq.until=null}else{if(ap==="until"){ar.radioButtonUntil.prop("checked",true);ar.untilDatePicker.enable(true);ar.countNumericTextBox.enable(false);aq.count=null;aq.until=ar.untilDatePicker.value()}else{ar.radioButtonNever.prop("checked",true);ar.untilDatePicker.enable(false);ar.countNumericTextBox.enable(false);aq.count=null;aq.until=null}}},_toggleMonthDayRule:function(ap){var ar=this,aq=ar._value;if(ap==="monthday"){ar.radioButtonMonthDay.prop("checked",true);ar.monthDayNumericTextBox.enable(true);ar.weekDayNameDDL.enable(false);ar.weekDayOffsetDDL.enable(false);aq.weekDays=null;aq.monthDays=[ar.monthDayNumericTextBox.value()]}else{ar.radioButtonWeekDay.prop("checked",true);ar.monthDayNumericTextBox.enable(false);ar.weekDayOffsetDDL.enable(true);ar.weekDayNameDDL.enable(true);aq.monthDays=null;aq.weekDays=[{offset:Number(ar.weekDayOffsetDDL.value()),day:Number(ar.weekDayNameDDL.value())}]}},_toggleYearRule:function(ar){var aq=this,ap;if(ar==="monthday"){aq.monthDDL1.enable(true);aq.monthDDL2.enable(false);ap=aq.monthDDL1.value()}else{aq.monthDDL1.enable(false);aq.monthDDL2.enable(true);ap=aq.monthDDL2.value()}aq._value.months=[ap];aq._toggleMonthDayRule(ar)},_container:function(){var ar=this.element,ap=a('<div class="k-recur-view" />'),aq=ar.parent(".k-edit-field");if(aq[0]){ap.insertAfter(aq)}else{ar.append(ap)}this.container=ap},_frequencyChooser:function(){var av=this,au=av.options,aq=au.frequencies,at=au.messages.frequencies,ap=a("<input />"),ar;aq=a.map(aq,function(aw){return{text:at[aw],value:aw}});ar=aq[0];if(ar&&ar.value==="never"){ar.value=""}av.element.append(ap);av.ddlFrequency=new z.ui.DropDownList(ap,{dataTextField:"text",dataValueField:"value",dataSource:aq,change:function(){av._value={};av.setView(av.ddlFrequency.value());av.trigger("change")}})},_views:function(){var ay=this,ax=ay.options,au=ax.messages,ar=au.end,aq=au.daily,aA=au.weekly,aw=au.monthly,aC=au.yearly,ap=z.format(m,ar.endCountOccurrence),at=z.format(n,ar.endLabel,ar.endNever,ar.endCountAfter,ap,ar.endUntilOn,o),az=z.format(R,aA.repeatOn,aj(ax.firstWeekDay)),av=z.format(R,aw.repeatOn,z.format(ad,z.format(D,aw.day)+ah)),aB=z.format(R,aC.repeatOn,z.format(ad,C+z.format(ai,aC.of)));ay._daily=z.format(w,aq.repeatEvery,aq.days)+at;ay._weekly=z.format(w,aA.repeatEvery,aA.weeks)+az+at;ay._monthly=z.format(w,aw.repeatEvery,aw.months)+av+at;ay._yearly=z.format(w,aC.repeatEvery,aC.years)+aB+at}});ac.plugin(Q)})(window.kendo.jQuery);kendo_module({id:"scheduler",name:"Scheduler",category:"web",description:"The Scheduler is an event calendar.",depends:["dropdownlist","editable","multiselect","window","datepicker","scheduler.recurrence","scheduler.view"],features:[{id:"scheduler-dayview",name:"Scheduler Day View",description:"Scheduler Day View",depends:["scheduler.dayview"]},{id:"scheduler-agendaview",name:"Scheduler Agenda View",description:"Scheduler Agenda View",depends:["scheduler.agendaview"]},{id:"scheduler-monthview",name:"Scheduler Month View",description:"Scheduler Month View",depends:["scheduler.monthview"]}]});(function(a,ad){var B=window.kendo,k=B.date,E=k.MS_PER_DAY,w=k.getDate,J=B.recurrence,C=B.keys,ac=B.ui,ae=ac.Widget,T="string",H=ac.Popup,d=ac.Calendar,j=B.data.DataSource,A=a.isPlainObject,v=a.extend,I=a.proxy,aa=Object.prototype.toString,z=a.isArray,G=".kendoScheduler",g="click",f="change",e="cancel",N="remove",O="save",b="add",s="edit",X=w(new Date()),L="recurrenceException",K="yyyyMMddTHHmmssZ",p="Are you sure you want to delete this event?",q="Do you want to delete only this event occurrence or the whole series?",t="Do you want to edit only this event occurrence or the whole series?",h='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',Z=B.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),m=function(ai,aj){var ah={name:aj.field};c(ah,aj);a('<input type="text" required '+B.attr("type")+'="date" '+B.attr("role")+'="datetimepicker" '+B.attr("bind")+'="value:'+aj.field+',invisible:isAllDay" />').attr(ah).appendTo(ai);a('<input type="text" required '+B.attr("type")+'="date" '+B.attr("role")+'="datepicker" '+B.attr("bind")+'="value:'+aj.field+',visible:isAllDay" />').attr(ah).appendTo(ai);a("<span "+B.attr("bind")+'="text: '+aj.field+'Timezone"></span>').appendTo(ai);if(aj.field==="end"){a("<span "+B.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(ai)}a("<span "+B.attr("for")+'="'+aj.field+'" class="k-invalid-msg"/>').hide().appendTo(ai)},x=B.date.getMilliseconds,M=function(ah,ai){a("<div "+B.attr("bind")+'="value:'+ai.field+'" />').attr({name:ai.field}).appendTo(ah).kendoRecurrenceEditor({start:ai.model.start,timezone:ai.timezone,messages:ai.messages})},W=function(ah,ai){a('<a href="#" class="k-button">'+ai.messages.timezoneEditorButton+"<a/>").click(ai.click).appendTo(ah)},V=function(ah,ai){a("<div "+B.attr("bind")+'="value:'+ai.field+'" />').attr({name:ai.field}).toggle(ai.visible).appendTo(ah).kendoTimezoneEditor()};function c(ah,aj){var ak=aj.model.fields[aj.field].validation;if(ak){var ai=ak.dateCompare;if(ai&&A(ai)&&ai.message){ah[B.attr("dateCompare-msg")]=ai.message}}}function af(ah,ai){return function(aj){aj=ah(aj);i(aj,"apply",ai);return aj||[]}}function ag(ah,ai){return function(aj){if(aj){if(aa.call(aj)!=="[object Array]"&&!(aj instanceof B.data.ObservableArray)){aj=[aj]}}i(aj,"remove",ai,true);aj=ah(aj);return aj||[]}}function i(ah,al,an,am){var ai,aj,ak;ah=ah||[];for(aj=0,ak=ah.length;aj<ak;aj++){ai=ah[aj];if(am){if(ai.startTimezone||ai.endTimezone){if(an){ai.start=B.timezone.convert(ai.start,ai.startTimezone||ai.endTimezone,an);ai.end=B.timezone.convert(ai.end,ai.endTimezone||ai.startTimezone,an);ai.start=B.timezone[al](ai.start,an);ai.end=B.timezone[al](ai.end,an)}else{ai.start=B.timezone[al](ai.start,ai.startTimezone||ai.endTimezone);ai.end=B.timezone[al](ai.end,ai.endTimezone||ai.startTimezone)}}else{if(an){ai.start=B.timezone[al](ai.start,an);ai.end=B.timezone[al](ai.end,an)}}}else{if(ai.startTimezone||ai.endTimezone){ai.start=B.timezone[al](ai.start,ai.startTimezone||ai.endTimezone);ai.end=B.timezone[al](ai.end,ai.endTimezone||ai.startTimezone);if(an){ai.start=B.timezone.convert(ai.start,ai.startTimezone||ai.endTimezone,an);ai.end=B.timezone.convert(ai.end,ai.endTimezone||ai.startTimezone,an)}}else{if(an){ai.start=B.timezone[al](ai.start,an);ai.end=B.timezone[al](ai.end,an)}}}if(am){delete ai.uid}}return ah}function y(ah,al){var ak=ah.length,aj=0,ai;for(;aj<ak;aj++){ai=ah[aj];if(ai.uid===al){return ai}}}function Y(ah){var ai=new Date(1980,0,1);ai.setHours(ah.getHours(),ah.getMinutes(),ah.getSeconds(),ah.getMilliseconds());return ai}var Q=B.Class.extend({init:function(ai,ah){var aj=ai.timezone;this.reader=ah;if(ah.model){this.model=ah.model}this.timezone=aj;this.data=af(a.proxy(this.data,this),aj);this.serialize=ag(a.proxy(this.serialize,this),aj)},errors:function(ah){return this.reader.errors(ah)},parse:function(ah){return this.reader.parse(ah)},data:function(ah){return this.reader.data(ah)},total:function(ah){return this.reader.total(ah)},groups:function(ah){return this.reader.groups(ah)},aggregates:function(ah){return this.reader.aggregates(ah)},serialize:function(ah){return this.reader.serialize(ah)}});function l(ak){if(ak.filter("[name=end]").length){var ah=ak.closest(".k-scheduler-edit-form");var al=ah.find("[name=start]:visible");var ai=ah.find("[name=end]:visible");if(ai.length&&al.length){var am=B.widgetInstance(al,B.ui);var aj=B.widgetInstance(ai,B.ui);if(am&&aj){return am.value()<=aj.value()}}}return true}var S=B.data.Model.define({init:function(ai){var ah=this;B.data.Model.fn.init.call(ah,ai)},clone:function(ai,ak){var aj=this.uid,ah=new this.constructor(a.extend({},this.toJSON(),ai));if(!ak){ah.uid=aj}return ah},duration:function(){var ah=this.end;var aj=this.start;var ai=(ah.getTimezoneOffset()-aj.getTimezoneOffset())*B.date.MS_PER_MINUTE;return ah-aj-ai},expand:function(ai,ah,aj){return J?J.expand(this,ai,ah,aj):[this]},update:function(ah){for(var ai in ah){this.set(ai,ah[ai])}this.set("startTime",Y(this.start));this.set("endTime",Y(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=B.date.MS_PER_DAY},isException:function(){return this.id&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return !!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return !!(this.id&&this.recurrenceRule)},toOccurrence:function(ah){ah=a.extend(ah,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId,id:this.defaults.id});ah[this.idField]=this.defaults.id;return this.clone(ah,true)},toJSON:function(){var ah=B.data.Model.fn.toJSON.call(this);ah.uid=this.uid;delete ah.startTime;delete ah.endTime;return ah},set:function(aj,am){var ai=this.isAllDay||false;B.data.Model.fn.set.call(this,aj,am);if(aj=="isAllDay"&&am!=ai){var al=B.date.getDate(this.start);var ah=new Date(this.end);var ak=B.date.getMilliseconds(ah);if(ak===0&&am){ak=E}this.set("start",al);if(am===true){B.date.setTime(ah,-ak);if(ah<al){ah=al}}else{B.date.setTime(ah,E-ak)}this.set("end",ah)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:l,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var R=j.extend({init:function(ah){j.fn.init.call(this,v(true,{},{schema:{modelBase:S,model:S}},ah));this.reader=new Q(this.options.schema,this.reader)},expand:function(ak,ai){var ah=this.view(),aj={};if(ak&&ai){ai=new Date(ai.getTime()+E-1);aj={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:ak},{field:"end",operator:"gte",value:ak},{field:"start",operator:"lte",value:ai}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(ak.getTime()+E-1)},{field:"end",operator:"gte",value:ak}]}]};ah=new B.data.Query(u(ah,ak,ai,this.reader.timezone)).filter(aj).toArray()}return ah},cancelChanges:function(ah){if(ah&&ah.isOccurrence()){this._removeExceptionDate(ah)}j.fn.cancelChanges.call(this,ah)},insert:function(ai,aj){if(!aj){return}if(!(aj instanceof S)){var ah=aj;aj=this._createNewModel();aj.accept(ah)}if(aj.isRecurrenceHead()||aj.recurrenceId){aj=aj.recurrenceId?aj:aj.toOccurrence();this._addExceptionDate(aj)}return j.fn.insert.call(this,ai,aj)},remove:function(ah){if(ah.isRecurrenceHead()){this._removeExceptions(ah)}else{if(ah.isRecurring()){this._addExceptionDate(ah)}}return j.fn.remove.call(this,ah)},_removeExceptions:function(ak){var ah=this.data().slice(0),aj=ah.shift(),ai=ak.id;while(aj){if(aj.recurrenceId===ai){j.fn.remove.call(this,aj)}aj=ah.shift()}ak.set(L,"")},_removeExceptionDate:function(aj){if(aj.recurrenceId){var ai=this.get(aj.recurrenceId);if(ai){var ak=aj.start;ak=B.timezone.convert(ak,this.reader.timezone||ak.getTimezoneOffset(),"Etc/UTC");var ah=B.toString(ak,K)+";";ai.set(L,ai.recurrenceException.replace(ah,""))}}},_addExceptionDate:function(ai){var ak=ai.start;var al=this.reader.timezone;var ah=this.get(ai.recurrenceId);var aj=ah.recurrenceException||"";if(!J.isException(aj,ak,al)){ak=B.timezone.convert(ak,al||ak.getTimezoneOffset(),"Etc/UTC");aj+=B.toString(ak,K)+";";ah.set(L,aj)}}});function u(aj,am,ai,an){var al=aj.length,ah=[],ak=0;for(;ak<al;ak++){ah=ah.concat(aj[ak].expand(am,ai,an))}return ah}R.create=function(aj){aj=aj&&aj.push?{data:aj}:aj;var ai=aj||{},ah=ai.data;ai.data=ah;if(!(ai instanceof R)&&ai instanceof B.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return ai instanceof R?ai:new R(ai)};v(true,B.data,{SchedulerDataSource:R,SchedulerDataReader:Q,SchedulerEvent:S});var n={update:{text:"Save",className:"k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-scheduler-delete",iconClass:"k-icon"}};function ab(ah){delete ah.name;delete ah.prefix;delete ah.remove;delete ah.edit;delete ah.add;delete ah.navigate;return ah}function r(ah){return function(ai){a(B.format('<select data-{0}bind="value:{1}">',B.ns,ah.field)).appendTo(ai).kendoDropDownList({dataTextField:ah.dataTextField,dataValueField:ah.dataValueField,dataSource:ah.dataSource,valuePrimitive:ah.valuePrimitive,optionLabel:"None",template:B.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',ah.dataColorField,ah.dataTextField)})}}function F(ah){return function(ai){a(B.format('<select data-{0}bind="value:{1}">',B.ns,ah.field)).appendTo(ai).kendoMultiSelect({dataTextField:ah.dataTextField,dataValueField:ah.dataValueField,dataSource:ah.dataSource,valuePrimitive:ah.valuePrimitive,itemTemplate:B.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',ah.dataColorField,ah.dataTextField),tagTemplate:B.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',ah.dataColorField,ah.dataTextField)})}}function D(ak,ah){var ai=ak.end.getTime()-ak.start.getTime();var al=new Date(ak.start.getTime());B.date.setTime(al,ah);var aj=new Date(al.getTime());B.date.setTime(aj,ai);return{start:al,end:aj}}var P=ae.extend({init:function(ah,ai){var aj=this;ae.fn.init.call(aj,ah,ai);if(!aj.options.views||!aj.options.views.length){aj.options.views=["day","week"]}aj.resources=[];aj._initModel();aj._wrapper();aj._views();aj._toolbar();aj._dataSource();aj._resources();aj._resizeHandler=I(aj._resize,aj);aj.wrapper.on("mousedown"+G+" selectstart"+G,function(ak){ak.preventDefault()});if(aj.options.editable&&aj.options.editable.resize!==false){aj._resizable()}if(aj.options.editable&&aj.options.editable.move!==false){aj._movable()}a(window).on("resize"+G,aj._resizeHandler);if(aj.options.messages&&aj.options.messages.recurrence){J.options=aj.options.messages.recurrence}aj._selectable();aj._ariaId=B.guid()},_selectable:function(){var aj=this,ak=aj.wrapper,ai=B.support.mobileOS?"touchend":"mousedown";if(!aj.options.selectable){return}aj._tabindex();ak.on(ai,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(al){aj._createSelection(al.currentTarget);ak.focus()});var ah=a.proxy(aj._mouseMove,aj);ak.on("mousedown"+G,".k-scheduler-header-all-day td, .k-scheduler-content td",function(){ak.on("mousemove"+G,".k-scheduler-header-all-day td, .k-scheduler-content td",ah)});ak.on("mouseup"+G+" mouseleave"+G,function(){ak.off("mousemove"+G,".k-scheduler-header-all-day td, .k-scheduler-content td",ah)});ak.on("focus"+G,function(){if(!aj._selection){aj._createSelection(a(".k-scheduler-content").find("td:first"))}aj._select()});ak.on("focusout"+G,function(){aj.view().clearSelection();aj._ctrlKey=aj._shiftKey=false});ak.on("keydown"+G,I(aj._keydown,aj));ak.on("keyup"+G,function(al){aj._ctrlKey=al.ctrlKey;aj._shiftKey=al.shiftKey})},_select:function(){var al=this.view();var am=this.wrapper;var ah=al.current();var ak=this._selection;if(ah){ah.removeAttribute("id");ah.removeAttribute("aria-label");am.removeAttr("aria-activedescendant")}al.select(ak);ah=al.current();if(ah){var aj;var ai=ak;if(ak.events[0]){ai=this.occurrenceByUid(ak.events[ak.events.length-1])||ak;aj=B.format(this.options.messages.ariaEventLabel,ai.title,ai.start,ai.start)}else{aj=B.format(this.options.messages.ariaSlotLabel,ai.start,ai.end)}ah.setAttribute("id",this._ariaId);ah.setAttribute("aria-label",aj);am.attr("aria-activedescendant",this._ariaId)}},_mouseMove:function(ah){var ai=this;clearTimeout(ai._moveTimer);ai._moveTimer=setTimeout(function(){var an=ai.view();var ak=ai._selection;if(ak){var al=an.selectionByElement(a(ah.currentTarget));if(al&&ak.groupIndex===al.groupIndex){var am=al.startDate();var aj=al.endDate();if(am>=ak.end){ak.backward=false}else{if(aj<=ak.start){ak.backward=true}}if(ak.backward){ak.start=am}else{ak.end=aj}ai._select()}}},5)},_viewByIndex:function(ah){var ai,aj=this.views;for(ai in aj){if(!ah){return ai}ah--}},_keydown:function(ah){var am=this,aj=ah.keyCode,an=am.view(),ai=an.options.editable,ak=am._selection,al=ah.shiftKey;am._ctrlKey=ah.ctrlKey;am._shiftKey=ah.shiftKey;if(aj===C.TAB){if(an.moveToEvent(ak,al)){am._select();ah.preventDefault()}}else{if(ai&&aj===C.ENTER){if(ak.events.length){if(ai.update!==false){am.editEvent(ak.events[0])}}else{if(ai.create!==false){if(ak.isAllDay){ak=a.extend({},ak,{end:B.date.addDays(ak.end,-1)})}am.addEvent(ak)}}}else{if(aj===C.DELETE){am.removeEvent(ak.events[0])}else{if(aj>=49&&aj<=57){am.view(am._viewByIndex(aj-49))}else{if(an.move(ak,aj,al)){if(an.inRange(ak)){am._select()}else{am.date(ak.start)}ah.preventDefault()}}}}}am._adjustSelectedDate()},_createSelection:function(ah){var ak,aj,ai;if(!this._selection||(!this._ctrlKey&&!this._shiftKey)){this._selection={events:[],groupIndex:0}}ah=a(ah);ai=this._selection;ak=ah.attr(B.attr("uid"));aj=this.view().selectionByElement(ah);if(aj){ai.groupIndex=aj.groupIndex||0}if(ak){aj=y(this._data,ak)}if(aj&&aj.uid){ak=[aj.uid]}this._updateSelection(aj,ak);this._adjustSelectedDate()},_updateSelection:function(ai,aj){var ak=this._selection;if(ai&&ak){if(this._shiftKey&&ak.start&&ak.end){var ah=ai.end<ak.end,al=this.view();ak.end=ai.endDate?ai.endDate():ai.end;if(ah&&al._timeSlotInterval){B.date.setTime(ak.end,-al._timeSlotInterval())}}else{ak.start=ai.startDate?ai.startDate():ai.start;ak.end=ai.endDate?ai.endDate():ai.end}if("isDaySlot" in ai){ak.isAllDay=ai.isDaySlot}else{ak.isAllDay=ai.isAllDay}ak.index=ai.index;if(this._ctrlKey){ak.events=ak.events.concat(aj||[])}else{ak.events=aj||[]}}},options:{name:"Scheduler",date:X,editable:true,autoBind:true,timezone:"",messages:{today:"Today",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",agenda:"Agenda",month:"Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:false},events:[N,s,e,O,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate"],destroy:function(){var ai=this,ah;ae.fn.destroy.call(ai);if(ai.dataSource){ai.dataSource.unbind(f,ai._refreshHandler)}if(ai.calendar){ai.calendar.destroy();ai.popup.destroy()}if(ai.view()){ai.view().destroy()}ai._destroyEditable();ah=ai.element.add(ai.wrapper).add(ai.toolbar).add(ai.popup);ah.off(G);a(window).off("resize"+G,ai._resizeHandler);B.destroy(ai.wrapper)},setDataSource:function(ah){this.options.dataSource=ah;this._dataSource();if(this.options.autoBind){ah.fetch()}},items:function(){return this.wrapper.children(".k-event, .k-task")},_movable:function(){var aj;var ah;var ai;var ak=this;ak._moveDraggable=new B.ui.Draggable(ak.element,{distance:0,filter:".k-event",dragstart:function(al){var an=ak.view();var am=al.currentTarget;ai=ak.occurrenceByUid(am.attr(B.attr("uid")));aj=an._slotByPosition(al.x.location,al.y.location);ah=aj;if(!aj||ak.trigger("moveStart",{event:ai})){al.preventDefault()}},drag:function(am){var ap=ak.view();var ao=ap._slotByPosition(am.x.location,am.y.location);if(!ao){return}ap._updateMoveHint(ai,aj,ao);var al=ao.start-aj.start;var an=D(ai,al);if(!ak.trigger("move",{event:ai,slot:{element:ao.element,start:ao.startDate(),end:ao.endDate()},resources:ap._resourceBySlot(ao),start:an.start,end:an.end})){ah=ao}else{ap._updateMoveHint(ai,aj,ah)}},dragend:function(){ak.view()._removeMoveHint();var al=ah.start-aj.start;var ap=D(ai,al);var aq=ap.start;var am=ap.end;var an=ak.view()._resourceBySlot(ah);var ar=ak.view()._resourceBySlot(aj);var ao=ak.trigger("moveEnd",{event:ai,slot:{element:ah.element,start:ah.startDate(),end:ah.endDate()},start:aq,end:am,resources:an});if(!ao&&(ai.start.getTime()!=aq.getTime()||ai.end.getTime()!=am.getTime()||B.stringify(an)!=B.stringify(ar))){ak._updateEvent(null,ai,a.extend({start:aq,end:am},an))}},dragcancel:function(){ak.view()._removeMoveHint()}})},_resizable:function(){var ak;var ai;var aj;var al=this;function ah(an){var am={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var ao in am){if(an.hasClass(ao)){return am[ao]}}}al._resizeDraggable=new B.ui.Draggable(al.element,{distance:0,filter:".k-resize-handle",dragstart:function(an){var am=a(an.currentTarget);var ao=am.closest(".k-event");var ar=ao.attr(B.attr("uid"));aj=al.occurrenceByUid(ar);if(al.trigger("resizeStart",{event:aj})){an.preventDefault()}var at=al.view();var ap=this.element.find(B.format(".k-event[{0}={1}]",B.attr("uid"),ar));ao=ap.first();var aq=ao.offset();ak=at._slotByPosition(aq.left,aq.top);ao=ap.last();aq=ao.offset();aq.left+=ao[0].clientWidth;aq.top+=ao[0].clientHeight;ai=at._slotByPosition(aq.left,aq.top)},drag:function(ao){var an=a(ao.currentTarget);var am=ah(an);var au=al.view();var ar=au._slotByPosition(ao.x.location,ao.y.location);if(!ar){return}var at=false;var aq=ak;var ap=ai;if(am=="south"){if(!ar.isDaySlot&&ak.groupIndex==ar.groupIndex&&ar.end-B.date.toUtcTime(aj.start)>=au._timeSlotInterval()){ai=ar;at=true}}else{if(am=="north"){if(!ar.isDaySlot&&ai.groupIndex==ar.groupIndex&&B.date.toUtcTime(aj.end)-ar.start>=au._timeSlotInterval()){ak=ar;at=true}}else{if(am=="east"){if(ar.isDaySlot&&ak.groupIndex==ar.groupIndex&&B.date.toUtcTime(B.date.getDate(ar.endDate()))>=B.date.toUtcTime(B.date.getDate(aj.start))){ai=ar;at=true}}else{if(am=="west"){if(ar.isDaySlot&&ai.groupIndex==ar.groupIndex&&B.date.toUtcTime(B.date.getDate(aj.end))>=B.date.toUtcTime(B.date.getDate(ar.startDate()))){ak=ar;at=true}}}}}if(at){if(!al.trigger("resize",{event:aj,slot:{element:ar.element,start:ar.startDate(),end:ar.endDate()},start:ak.startDate(),end:ai.endDate(),resources:au._resourceBySlot(ar)})){au._updateResizeHint(aj,ak,ai)}else{ak=aq;ai=ap}}},dragend:function(ao){var an=a(ao.currentTarget);var ar=new Date(aj.start.getTime());var ap=new Date(aj.end.getTime());var am=ah(an);al.view()._removeResizeHint();if(am=="south"){ap=ai.endDate()}else{if(am=="north"){ar=ak.startDate()}else{if(am=="east"){if(aj.isAllDay){ap=B.date.getDate(ai.startDate())}else{ap=B.date.getDate(ai.endDate())}}else{if(am=="west"){ar=new Date(ak.start);ar.setHours(0);ar.setMinutes(0)}}}}var aq=al.trigger("resizeEnd",{event:aj,slot:{element:ai.element,start:ai.startDate(),end:ai.endDate()},start:ar,end:ap,resources:al.view()._resourceBySlot(ai)});if(!aq&&ap.getTime()>=ar.getTime()){if(aj.start.getTime()!=ar.getTime()||aj.end.getTime()!=ap.getTime()){al._updateEvent(am,aj,{start:ar,end:ap})}}},dragcancel:function(){al.view()._removeResizeHint()}})},_updateEvent:function(ah,ai,aj){var am=this;var an=function(aq){try{am._preventRefresh=true;aq.update(aj)}finally{am._preventRefresh=false}am.refresh();if(!am.trigger(O,{event:aq})){am._updateSelection(aq);am.dataSource.sync()}};var ak=function(aq){if(aq.recurrenceRule){return am.dataSource.getByUid(aq.uid)}else{return am.dataSource.get(aq.recurrenceId)}};var ap=function(){var ar=ak(ai);if(ah=="south"||ah=="north"){if(aj.start){var at=B.date.getDate(ar.start);B.date.setTime(at,x(aj.start));aj.start=at}if(aj.end){var aq=B.date.getDate(ar.end);B.date.setTime(aq,x(aj.end));aj.end=aq}}an(ar)};var ao=function(){var aq=ak(ai).toOccurrence({start:ai.start,end:ai.end});an(am.dataSource.add(aq))};var al=am.options.messages.recurrenceMessages;if(ai.recurrenceRule||ai.isOccurrence()){am.showDialog({title:al.editWindowTitle,text:al.editRecurring?al.editRecurring:t,buttons:[{text:al.editWindowOccurrence,click:ao},{text:al.editWindowSeries,click:ap}]})}else{an(am.dataSource.getByUid(ai.uid))}},_modelForContainer:function(ah){ah=a(ah).closest("["+B.attr("uid")+"]");return this.dataSource.getByUid(ah.attr(B.attr("uid")))},showDialog:function(aj){var ai=B.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",aj.text);var al=this;ai+='<div class="k-edit-buttons k-state-default">';for(var ah=0;ah<aj.buttons.length;ah++){ai+=al._createButton(aj.buttons[ah])}ai+="</div></div></div>";var ak=a(ai).appendTo(al.wrapper).eq(0).on("click",".k-button",function(an){an.preventDefault();ak.close();var am=a(an.currentTarget).index();aj.buttons[am].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:aj.title,visible:false,close:function(){this.destroy();al.focus()}}).getKendoWindow();ak.center().open()},focus:function(){this.wrapper.focus()},_confirmation:function(ah){var ai=this.options.editable;if(ai===true||ai.confirmation!==false){var aj=this.options.messages;var ak=typeof ai.confirmation===T?ai.confirmation:p;this.showDialog({text:ak,title:aj.deleteWindowTitle,buttons:[{name:"destroy",text:aj.destroy,click:function(){ah()}},{name:"canceledit",text:aj.cancel,click:function(){ah(true)}}]})}else{ah()}},addEvent:function(ak){var ai=this.editable;var ah=this.dataSource;var aj;ak=ak||{};var al=this.trigger("add",{event:ak});if(!al&&((ai&&ai.end())||!ai)){this.cancelEvent();if(ak&&ak.toJSON){ak=ak.toJSON()}aj=ah.add(ak);if(aj){this.cancelEvent();this._editEvent(aj)}}},saveEvent:function(){var ak=this,ah=ak._editContainer,aj=ak._modelForContainer(ah),ai=ak.editable;if(ah&&ai&&ai.end()&&!ak.trigger(O,{container:ah,event:aj})){if(!aj.dirty){ak._convertDates(aj,"remove")}if(aj.isRecurrenceHead()){ak.dataSource._removeExceptions(aj)}ak.dataSource.sync()}},cancelEvent:function(){var aj=this,ah=aj._editContainer,ai;if(ah){ai=aj._modelForContainer(ah);aj.dataSource.cancelChanges(ai);aj._destroyEditable()}},editEvent:function(ai){var ah=typeof ai=="string"?this.occurrenceByUid(ai):ai;if(!ah){return}this.cancelEvent();if(ah.isRecurring()){this._editRecurringDialog(ah)}else{this._editEvent(ah)}},_editEvent:function(ai){var aj=this,ah;aj._createPopupEditor(ai);ah=aj._editContainer;ah.on(g+G,"a.k-scheduler-cancel",function(ak){ak.preventDefault();ak.stopPropagation();if(aj.trigger(e,{container:ah,event:ai})){return}aj.cancelEvent()});ah.on(g+G,"a.k-scheduler-update",function(ak){ak.preventDefault();ak.stopPropagation();aj.saveEvent()})},_editRecurringDialog:function(aj){var al=this;var ah=function(){if(aj.isException()){al._editEvent(aj)}else{al.addEvent(aj)}};var ai=function(){if(aj.recurrenceId){aj=al.dataSource.get(aj.recurrenceId)}al._editEvent(aj)};var ak=al.options.messages.recurrenceMessages;al.showDialog({title:ak.editWindowTitle,text:ak.editRecurring?ak.editRecurring:t,buttons:[{text:ak.editWindowOccurrence,click:ah},{text:ak.editWindowSeries,click:ai}]})},_createButton:function(ah){var ak=ah.template||h,ai=typeof ah===T?ah:ah.name||ah.text,aj={className:"k-scheduler-"+(ai||"").replace(/\s/g,""),text:ai,attr:""};if(!ai&&!(A(ah)&&ah.template)){throw new Error("Custom commands should have name specified")}if(A(ah)){if(ah.className){ah.className+=" "+aj.className}if(ai==="edit"&&A(ah.text)){ah=v(true,{},ah);ah.text=ah.text.edit}aj=v(true,aj,n[ai],ah)}else{aj=v(true,aj,n[ai])}return B.template(ak)(aj)},_convertDates:function(ak,aj){var an=this.dataSource.reader.timezone;var am=ak.startTimezone;var ai=ak.endTimezone;var al=ak.start;var ah=ak.start;aj=aj||"apply";am=am||ai;ai=ai||am;if(am){if(an){if(aj==="apply"){al=B.timezone.convert(ak.start,an,am);ah=B.timezone.convert(ak.end,an,ai)}else{al=B.timezone.convert(ak.start,am,an);ah=B.timezone.convert(ak.end,ai,an)}}else{al=B.timezone[aj](ak.start,am);ah=B.timezone[aj](ak.end,ai)}ak._set("start",al);ak._set("end",ah)}},_revertTimezones:function(ah){ah.set("startTimezone",this._startTimezone);ah.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone},_createTimezonePopup:function(am,ah){var ap=this,ak=ap._editContainer.find(".k-scheduler-timezones"),aj=ak.find(".k-timezone-toggle"),ao=ak.find("[data-role=timezoneeditor]:first").data("kendoTimezoneEditor"),al=ak.find(".k-edit-label:last").add(ak.find(".k-edit-field:last")),an=ak.find(".k-scheduler-savetimezone"),ai=ak.find(".k-scheduler-canceltimezone"),aq=ap._timezonePopup,ar;ap._startTimezone=am.startTimezone;ap._endTimezone=am.endTimezone;if(!aq){ap._timezonePopup=aq=ak.kendoWindow({modal:true,resizable:false,draggable:true,title:ap.options.messages.editor.timezoneEditorTitle,visible:false,close:function(at){if(at.userTriggered){ap._revertTimezones(am)}if(ah){ah.focus()}}});aj.click(function(){al.toggle(aj.prop("checked"));am.set("endTimezone","")});an.click(function(at){at.preventDefault();ar.close()});ai.click(function(at){at.preventDefault();ap._revertTimezones(am);ar.close()});if(ao){ao.bind("change",function(){var at=this.value();aj.prop("disabled",!at);if(!at){al.hide();am.set("endTimezone","");aj.prop("checked",false)}})}}aj.prop("checked",am.endTimezone).prop("disabled",!am.endTimezone);al.toggle(am.endTimezone);ar=aq.data("kendoWindow");ar.center().open()},_createPopupEditor:function(au){var aB=this,al=aB.options.editable,ap="<div "+B.attr("uid")+'="'+au.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',aA=al.template,at=aB.options.messages,aD=at.save,ai=at.cancel,aj=function(aE){aE.preventDefault();aB._createTimezonePopup(au,this)},ao=[{field:"title",title:at.editor.title},{field:"start",title:at.editor.start,editor:m},{field:"end",title:at.editor.end,editor:m},{field:"isAllDay",title:at.editor.allDayEvent}],ah,av=A(al)?al.window:{},az=v({},B.Template,aB.options.templateSettings),aw=az.paramName,am=[];if(aA){if(typeof aA===T){aA=window.unescape(aA)}ap+=(B.template(aA,az))(au)}else{if(B.timezone.windows_zones&&!au.isAllDay){ao.push({field:"timezone",title:at.editor.timezone,editor:W,click:aj,messages:at.editor});ao.push({field:"startTimezone",title:at.editor.startTimezone,editor:V});ao.push({field:"endTimezone",title:at.editor.endTimezone,editor:V})}if(!au.recurrenceId){ao.push({field:"recurrenceRule",title:at.editor.repeat,editor:M,timezone:this.dataSource.reader.timezone,messages:at.recurrenceEditor})}if("description" in au){ao.push({field:"description",title:at.editor.description,editor:'<textarea name="description" class="k-textbox"/>'})}for(var ay=0;ay<aB.resources.length;ay++){var ax=aB.resources[ay];ao.push({field:ax.field,title:ax.title,editor:ax.multiple?F(ax):r(ax)})}for(var aq=0,ar=ao.length;aq<ar;aq++){var an=ao[aq];if(an.field==="startTimezone"){ap+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';ap+='<div class="k-edit-form-container">';ap+='<div class="k-edit-label"></div>';ap+='<div class="k-edit-field"><label><input class="k-timezone-toggle" type="checkbox" />'+at.editor.separateTimezones+"</label></div>"}ap+='<div class="k-edit-label"><label for="'+an.field+'">'+(an.title||an.field||"")+"</label></div>";if((!au.editable||au.editable(an.field))){am.push(an);ap+="<div "+B.attr("container-for")+'="'+an.field+'" class="k-edit-field"></div>'}else{var aC="#:";if(an.field){an=B.expr(an.field,aw);aC+=an+"==null?'':"+an}else{aC+="''"}aC+="#";aC=B.template(aC,az);ap+='<div class="k-edit-field">'+aC(au)+"</div>"}if(an.field==="endTimezone"){ap+='<div class="k-edit-buttons k-state-default">';ap+=aB._createButton({name:"savetimezone",text:at.save})+aB._createButton({name:"canceltimezone",text:at.cancel});ap+="</div></div></div>"}}}ap+='<div class="k-edit-buttons k-state-default">';ap+=aB._createButton({name:"update",text:aD,attr:ah})+aB._createButton({name:"canceledit",text:ai,attr:ah});ap+="</div></div></div>";var ak=aB._editContainer=a(ap).appendTo(aB.wrapper).eq(0).kendoWindow(v({modal:true,resizable:false,draggable:true,title:at.editor.editorTitle,visible:false,close:function(aE){if(aE.userTriggered){if(aB.trigger(e,{container:ak,event:au})){aE.preventDefault();return}aB.cancelEvent();aB.focus()}}},av));if(!au.isNew()){aB._convertDates(au)}aB.editable=aB._editContainer.kendoEditable({fields:am,model:au,clearContainer:false,validateOnBlur:true}).data("kendoEditable");if(aB.trigger(s,{container:ak,event:au})){aB.cancelEvent()}else{ak.data("kendoWindow").center().open()}},_destroyEditable:function(){var ai=this;var ah=function(){if(ai.editable){ai.editable.destroy();ai.editable=null;ai._editContainer=null}};if(ai.editable){if(ai._timezonePopup&&ai._timezonePopup.data("kendoWindow")){ai._timezonePopup.data("kendoWindow").destroy();ai._timezonePopup=null}ai._editContainer.data("kendoWindow").bind("deactivate",ah).close()}},removeEvent:function(aj){var ai=this,ah=typeof aj=="string"?ai.occurrenceByUid(aj):aj;if(!ah){return}if(ah.isRecurring()){ai._deleteRecurringDialog(ah)}else{ai._confirmation(function(ak){if(!ak){ai._removeEvent(ah)}})}},occurrenceByUid:function(ai){var ah=this.dataSource.getByUid(ai);if(!ah){ah=y(this._data,ai)}return ah},occurrencesInRange:function(ai,ah){return new B.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:ai},{field:"end",operator:"gte",value:ai},{field:"start",operator:"lt",value:ah}]},{logic:"and",filters:[{field:"start",operator:"lte",value:ai},{field:"end",operator:"gt",value:ai}]}]}).toArray()},_removeEvent:function(ah){if(!this.trigger(N,{event:ah})){if(this.dataSource.remove(ah)){this.dataSource.sync()}}},_deleteRecurringDialog:function(aj){var al=this;var ah=function(){var am=aj.recurrenceId?aj:aj.toOccurrence();al._removeEvent(am)};var ai=function(){if(aj.recurrenceId){aj=al.dataSource.get(aj.recurrenceId)}al._removeEvent(aj)};var ak=al.options.messages.recurrenceMessages;al.showDialog({title:ak.deleteWindowTitle,text:ak.deleteRecurring?ak.deleteRecurring:q,buttons:[{text:ak.deleteWindowOccurrence,click:ah},{text:ak.deleteWindowSeries,click:ai}]})},_unbindView:function(ah){ah.destroy()},_bindView:function(ai){var ah=this;if(ah.options.editable){if(ah._viewRemoveHandler){ai.unbind(N,ah._viewRemoveHandler)}ah._viewRemoveHandler=function(aj){ah.removeEvent(aj.uid)};ai.bind(N,ah._viewRemoveHandler);if(ah._viewAddHandler){ai.unbind(b,ah._viewAddHandler)}ah._viewAddHandler=function(aj){ah.addEvent(aj.eventInfo)};ai.bind(b,this._viewAddHandler);if(ah._viewEditHandler){ai.unbind(s,ah._viewEditHandler)}ah._viewEditHandler=function(aj){ah.editEvent(aj.uid)};ai.bind(s,this._viewEditHandler)}if(ah._viewNavigateHandler){ai.unbind("navigate",ah._viewNavigateHandler)}ah._viewNavigateHandler=function(ak){if(ak.view){var al="isWorkDay" in ak;var aj=al?"changeWorkDay":"changeView";if(!ah.trigger("navigate",{view:ak.view,isWorkDay:ak.isWorkDay,action:aj,date:ak.date})){if(al){ah._workDayMode=ak.isWorkDay}ah._selectView(ak.view);ah.date(ak.date)}}};ai.bind("navigate",ah._viewNavigateHandler);if(ah._viewActivateHandler){ai.unbind("activate",ah._viewActivateHandler)}ah._viewActivateHandler=function(){var aj=this;if(ah._selection){aj.constrainSelection(ah._selection);ah._select();ah._adjustSelectedDate()}};ai.bind("activate",ah._viewActivateHandler)},_selectView:function(ah){var ai=this;if(ah&&ai.views[ah]){if(ai._selectedView){ai._unbindView(ai._selectedView)}ai._selectedView=ai._renderView(ah);ai._selectedViewName=ah;ai.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+ah).addClass("k-state-selected")}},view:function(ah){var ai=this;if(ah){ai._selectView(ah);ai.rebind();return}return ai._selectedView},_renderView:function(ah){var ai=this._initializeView(ah);this._bindView(ai);this._model.set("formattedDate",ai.dateForTitle());return ai},_resize:function(){this.refresh({action:"resize"})},_adjustSelectedDate:function(){var ah=this._model.selectedDate,ai=this._selection,aj=ai.start;if(aj&&!B.date.isInDateRange(ah,w(aj),w(ai.end))){ah.setFullYear(aj.getFullYear(),aj.getMonth(),aj.getDate())}},_initializeView:function(ai){var ak=this.views[ai];if(ak){var ah=A(ak),aj=ak.type;if(typeof aj===T){aj=B.getter(ak.type)(window)}if(aj){ak=new aj(this.wrapper,ab(v(true,{},this.options,ah?ak:{},{resources:this.resources,date:this.date(),workDay:this._workDayMode})))}else{throw new Error("There is no such view")}}return ak},_views:function(){var aq=this.options.views;var ap;var ah;var an;var ak;var am;var ao;var aj;var al;this.views={};for(aj=0,al=aq.length;aj<al;aj++){var ai=false;ap=aq[aj];ak=A(ap);if(ak){ao=am=ap.type?ap.type:ap;if(typeof ao!==T){am=ap.title;ai=true}}else{ao=am=ap}ah=o[am];if(ah&&!ai){ap.type=ah.type;ah.title=this.options.messages.views[am];if(ah.type==="day"){ah.messages={allDay:this.options.messages.allDay}}else{if(ah.type==="agenda"){ah.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}}ap=v({title:am},ah,ak?ap:{});if(am){this.views[am]=ap;if(!an||ap.selected){an=am}}}if(an){this._selectedViewName=an}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var aj=this,ai=aj.options,ah=ai.dataSource;ah=z(ah)?{data:ah}:ah;if(ai.timezone&&!(ah instanceof R)){ah=v(true,ah,{schema:{timezone:ai.timezone}})}if(aj.dataSource&&aj._refreshHandler){aj.dataSource.unbind(f,aj._refreshHandler)}else{aj._refreshHandler=I(aj.refresh,aj)}aj.dataSource=B.data.SchedulerDataSource.create(ah).bind(f,aj._refreshHandler)},_resources:function(){var an=this;var am=an.options.resources;for(var aj=0;aj<am.length;aj++){var al=am[aj];var ai=al.field;var ah=al.dataSource;if(!ai||!ah){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}an.resources.push({field:ai,name:al.name||ai,title:al.title||ai,dataTextField:al.dataTextField||"text",dataValueField:al.dataValueField||"value",dataColorField:al.dataColorField||"color",valuePrimitive:al.valuePrimitive!=null?al.valuePrimitive:true,multiple:al.multiple||false,dataSource:B.data.DataSource.create(ah)})}var ak=a.map(an.resources,function(ao){return ao.dataSource.fetch()});a.when.apply(null,ak).then(function(){if(an.options.autoBind){an.view(an._selectedViewName)}else{an._selectView(an._selectedViewName)}})},_initModel:function(){var ah=this;ah._model=B.observable({selectedDate:this.options.date,formattedDate:""});ah._model.bind("change",function(ai){if(ai.field==="selectedDate"){ah.view(ah._selectedViewName)}})},_wrapper:function(){var ai=this,ah=ai.options.height;ai.wrapper=ai.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(ah){ai.wrapper.css("height",ah)}},date:function(ah){if(ah!=null){this._model.set("selectedDate",ah)}return w(this._model.get("selectedDate"))},_toolbar:function(){var ai=this;var ah=ai.options;var aj=a(Z({messages:ah.messages,ns:B.ns,views:ai.views}));ai.wrapper.append(aj);ai.toolbar=aj;B.bind(ai.toolbar,ai._model);aj.on(g+G,".k-scheduler-navigation li",function(am){var an=a(this);var al=new Date(ai.date());var ak="";am.preventDefault();if(an.hasClass("k-nav-today")){ak="today";al=new Date()}else{if(an.hasClass("k-nav-next")){ak="next";al=ai.view().nextDate()}else{if(an.hasClass("k-nav-prev")){ak="previous";al=ai.view().previousDate()}else{if(an.hasClass("k-nav-current")){ai._showCalendar();return}}}}if(!ai.trigger("navigate",{view:ai._selectedViewName,action:ak,date:al})){ai.date(al)}});aj.on(g+G,".k-scheduler-views li",function(ak){ak.preventDefault();var al=a(this).attr(B.attr("name"));if(!ai.trigger("navigate",{view:al,action:"changeView",date:ai.date()})){ai.view(al)}});aj.find("li").hover(function(){a(this).addClass("k-state-hover")},function(){a(this).removeClass("k-state-hover")})},_showCalendar:function(){var aj=this,ai=aj.toolbar.find(".k-nav-current"),ah=a('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!aj.popup){aj.popup=new H(ah,{anchor:ai,activate:function(){if(!aj.calendar){aj.calendar=new d(this.element.find(".k-scheduler-calendar"),{change:function(){var ak=this.value();if(!aj.trigger("navigate",{view:aj._selectedViewName,action:"changeDate",date:ak})){aj.date(ak);aj.popup.close()}}})}aj.calendar.value(aj.date())},copyAnchorStyles:false})}aj.popup.open()},refresh:function(ah){var ai=this.view();if(ah&&ah.action==="itemchange"&&(this.editable||this._preventRefresh)){return}this.trigger("dataBinding");if(!(ah&&ah.action==="resize"&&this.editable)){this._destroyEditable()}this._data=this.dataSource.expand(ai.startDate(),ai.endDate());ai.render(this._data);this.trigger("dataBound")}});var o={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"}};ac.plugin(P);var U=ae.extend({init:function(ah,ai){var aj=this,ak=B.timezone.windows_zones;if(!ak||!B.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}ae.fn.init.call(aj,ah,ai);aj.wrapper=aj.element;aj._zonesQuery=new B.data.Query(ak);aj._zoneTitleId=B.guid();aj._zoneTitlePicker();aj._zonePicker();aj.value(aj.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var ah=this,ai=a('<input id="'+ah._zoneTitleId+'"/>').appendTo(ah.wrapper);ah._zoneTitle=new B.ui.DropDownList(ai,{dataSource:B.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:ah.options.optionLabel,cascade:function(){if(!this.value()){ah._zone.wrapper.hide()}}})},_zonePicker:function(){var ah=this,ai=a("<input />").appendTo(this.wrapper);ah._zone=new B.ui.DropDownList(ai,{dataValueField:"zone",dataTextField:"territory",dataSource:ah._zonesQuery.data,cascadeFrom:ah._zoneTitleId,cascade:function(){ah._value=this.value();ah.trigger("change")},dataBound:function(){ah._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});ah._zone.wrapper.hide()},destroy:function(){ae.fn.destroy.call(this);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}B.destroy(this.wrapper)},value:function(ai){var ah=this,aj;if(ai===ad){return ah._value}aj=ah._zonesQuery.filter({field:"zone",operator:"eq",value:ai}).data[0];if(aj){ah._zoneTitle.value(aj.other_zone);ah._zone.value(aj.zone)}else{ah._zoneTitle.value("")}}});ac.plugin(U)})(window.kendo.jQuery);