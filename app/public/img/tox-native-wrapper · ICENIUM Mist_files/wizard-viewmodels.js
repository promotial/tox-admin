define(function(h){var f=h("modules/core/core-module"),i=h("modules/core/base-classes").ViewModelBase,g=h("modules/core/dialog-viewmodels");var e=window;var b=i.extend({init:function(j){var k=this;k.parentView=j;i.fn.init.apply(k,arguments)},onPageSelect:function(j){var l=this,k=$(j.currentTarget).data("key");l.parentView.selectPage(k)}});var c=g.DialogViewModelBase.extend({init:function(j,l){var k=this;k.project=j;k._pages=[];k._currentPage=null;k.wizardPages=l;g.DialogViewModelBase.fn.init.apply(k,arguments);k.bind("bind",$.proxy(k.initializeIndex,k))},initializeIndex:function(){var j=this;j.selectPage("index",j.project)},selectPage:function(l,j){var n=this;if(n._currentPage){n._currentPage.element.hide()}if(!n._pages[l]){var o=f.viewRenderer,k=$("<div>"),m={};m.model=new n.wizardPages[l].model(this,j);m.element=k;$("#wiz-pages").append(k);o.render(n.wizardPages[l].template,m.model,k);n._pages[l]=m}else{n._pages[l].element.show();if(n._pages[l].model.onActivate){n._pages[l].model.onActivate(j)}}n._currentPage=n._pages[l]}});var a=b.extend({hasError:false,errorMessage:"No error",events:{VERSION_CONTROL_SELECT_PAGE:"versionControlSelectPage"},init:function(j){var k=this;k.parentView=j;b.fn.init.apply(k,arguments)},showError:function(j){var k=this;k.set("errorMessage",j);k.set("hasError",true)}});var d=g.DialogViewModelBase.extend({events:{VERSION_CONTROL_SELECT_PAGE:"versionControlSelectPage"},init:function(j,l){var k=this;k.project=j;k._pages=[];k._currentPage=null;k.wizardPages=l;g.DialogViewModelBase.fn.init.apply(k,arguments);k.bind("bind",$.proxy(k.initializeIndex,k))},initializeIndex:function(){var j=this;j.selectPage("index",j.project)},selectPage:function(k,j){var l=this;l.trigger(l.events.VERSION_CONTROL_SELECT_PAGE,{key:k,data:j})}});return{BasePageViewModel:b,BaseWizardViewModel:c,BasePageConfigRepoViewModel:a,ConfigRepoWizardViewModel:d}});