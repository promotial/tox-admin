(function(){var d="()[]{}''\"\"";var e="[]{}";var f=/\s/;CodeMirror.defineOption("autoCloseBrackets",false,function(g,l,j){if(j!=CodeMirror.Init&&j){g.removeKeyMap("autoCloseBrackets")}if(!l){return}var k=d,h=e;if(typeof l=="string"){k=l}else{if(typeof l=="object"){if(l.pairs!=null){k=l.pairs}if(l.explode!=null){h=l.explode}}}var i=b(k);if(h){i.Enter=a(h)}g.addKeyMap(i)});function c(g,h){var i=g.getRange(CodeMirror.Pos(h.line,h.ch-1),CodeMirror.Pos(h.line,h.ch+1));return i.length==2?i:null}function b(k){var j={name:"autoCloseBrackets",Backspace:function(l){if(l.somethingSelected()){return CodeMirror.Pass}var m=l.getCursor(),i=c(l,m);if(i&&k.indexOf(i)%2==0){l.replaceRange("",CodeMirror.Pos(m.line,m.ch-1),CodeMirror.Pos(m.line,m.ch+1))}else{return CodeMirror.Pass}}};var g="";for(var h=0;h<k.length;h+=2){(function(i,m){if(i!=m){g+=m}function n(o){var p=o.getSelection();o.replaceSelection(i+p+m)}function l(p){var q=p.getCursor(),o=p.getRange(q,CodeMirror.Pos(q.line,q.ch+1));if(o!=m||p.somethingSelected()){return CodeMirror.Pass}else{p.execCommand("goCharRight")}}j["'"+i+"'"]=function(p){if(i=="'"&&p.getTokenAt(p.getCursor()).type=="comment"){return CodeMirror.Pass}if(p.somethingSelected()){return n(p)}if(i==m&&l(p)!=CodeMirror.Pass){return}var q=p.getCursor(),o=CodeMirror.Pos(q.line,q.ch+1);var s=p.getLine(q.line),t=s.charAt(q.ch),r=q.ch>0?s.charAt(q.ch-1):"";if(i==m&&CodeMirror.isWordChar(r)){return CodeMirror.Pass}if(s.length==q.ch||g.indexOf(t)>=0||f.test(t)){p.replaceSelection(i+m,{head:o,anchor:o})}else{return CodeMirror.Pass}};if(i!=m){j["'"+m+"'"]=l}})(k.charAt(h),k.charAt(h+1))}return j}function a(g){return function(i){var j=i.getCursor(),h=c(i,j);if(!h||g.indexOf(h)%2!=0){return CodeMirror.Pass}i.operation(function(){var k=CodeMirror.Pos(j.line+1,0);i.replaceSelection("\n\n",{anchor:k,head:k},"+input");i.indentLine(j.line+1,null,true);i.indentLine(j.line+2,null,true)})}}})();