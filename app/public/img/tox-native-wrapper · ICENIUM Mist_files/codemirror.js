window.CodeMirror=(function(){var aR=/gecko\/\d/i.test(navigator.userAgent);var bg=/MSIE \d/.test(navigator.userAgent);var bh=bg&&(document.documentMode==null||document.documentMode<8);var bi=bg&&(document.documentMode==null||document.documentMode<9);var eb=/WebKit\//.test(navigator.userAgent);var c1=eb&&/Qt\/\d+\.\d+/.test(navigator.userAgent);var B=/Chrome\//.test(navigator.userAgent);var cG=/Opera\//.test(navigator.userAgent);var dj=/Apple Computer/.test(navigator.vendor);var bB=/KHTML\//.test(navigator.userAgent);var b0=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent);var b1=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);var cS=/PhantomJS/.test(navigator.userAgent);var bp=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var cm=bp||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);var bZ=bp||/Mac/.test(navigator.platform);var eg=/win/i.test(navigator.platform);var cH=cG&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);if(cH){cH=Number(cH[1])}if(cH&&cH>=15){cG=false;eb=true}var aO=bZ&&(c1||cG&&(cH==null||cH<12.11));var w=aR||(bg&&!bi);var dl=false,dk=false;function K(er,eq){if(!(this instanceof K)){return new K(er,eq)}this.options=eq=eq||{};for(var ep in af){if(!eq.hasOwnProperty(ep)&&af.hasOwnProperty(ep)){eq[ep]=af[ep]}}du(eq);var em=typeof eq.value=="string"?0:eq.value.first;var ek=this.display=b7(er,em);ek.wrapper.CodeMirror=this;dZ(this);if(eq.autofocus&&!cm){aP(this)}this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,draggingText:false,highlight:new ag()};dU(this);if(eq.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}var el=eq.value;if(typeof el=="string"){el=new al(eq.value,eq.mode)}cI(this,h)(this,el);if(bg){setTimeout(o(df,this,true),20)}c8(this);var eo;try{eo=(document.activeElement==ek.input)}catch(en){}if(eo||(eq.autofocus&&!cm)){setTimeout(o(cB,this),20)}else{cx(this)}cI(this,function(){for(var et in cK){if(cK.propertyIsEnumerable(et)){cK[et](this,eq[et],bl)}}for(var es=0;es<bm.length;++es){bm[es](this)}})()}function b7(en,el){var ek={};var em=ek.input=ax("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");if(eb){em.style.width="1000px"}else{em.setAttribute("wrap","off")}if(bp){em.style.border="1px solid black"}em.setAttribute("autocorrect","off");em.setAttribute("autocapitalize","off");em.setAttribute("spellcheck","false");ek.inputDiv=ax("div",[em],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");ek.scrollbarH=ax("div",[ax("div",null,null,"height: 1px")],"CodeMirror-hscrollbar");ek.scrollbarV=ax("div",[ax("div",null,null,"width: 1px")],"CodeMirror-vscrollbar");ek.scrollbarFiller=ax("div",null,"CodeMirror-scrollbar-filler");ek.gutterFiller=ax("div",null,"CodeMirror-gutter-filler");ek.lineDiv=ax("div",null,"CodeMirror-code");ek.selectionDiv=ax("div",null,null,"position: relative; z-index: 1");ek.cursor=ax("div","\u00a0","CodeMirror-cursor");ek.otherCursor=ax("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor");ek.measure=ax("div",null,"CodeMirror-measure");ek.lineSpace=ax("div",[ek.measure,ek.selectionDiv,ek.lineDiv,ek.cursor,ek.otherCursor],null,"position: relative; outline: none");ek.mover=ax("div",[ax("div",[ek.lineSpace],"CodeMirror-lines")],null,"position: relative");ek.sizer=ax("div",[ek.mover],"CodeMirror-sizer");ek.heightForcer=ax("div",null,null,"position: absolute; height: "+dp+"px; width: 1px;");ek.gutters=ax("div",null,"CodeMirror-gutters");ek.lineGutter=null;ek.scroller=ax("div",[ek.sizer,ek.heightForcer,ek.gutters],"CodeMirror-scroll");ek.scroller.setAttribute("tabIndex","-1");ek.wrapper=ax("div",[ek.inputDiv,ek.scrollbarH,ek.scrollbarV,ek.scrollbarFiller,ek.gutterFiller,ek.scroller],"CodeMirror");if(bh){ek.gutters.style.zIndex=-1;ek.scroller.style.paddingRight=0}if(en.appendChild){en.appendChild(ek.wrapper)}else{en(ek.wrapper)}if(bp){em.style.width="0px"}if(!eb){ek.scroller.draggable=true}if(bB){ek.inputDiv.style.height="1px";ek.inputDiv.style.position="absolute"}else{if(bh){ek.scrollbarH.style.minWidth=ek.scrollbarV.style.minWidth="18px"}}ek.viewOffset=ek.lastSizeC=0;ek.showingFrom=ek.showingTo=el;ek.lineNumWidth=ek.lineNumInnerWidth=ek.lineNumChars=null;ek.prevInput="";ek.alignWidgets=false;ek.pollingFast=false;ek.poll=new ag();ek.cachedCharWidth=ek.cachedTextHeight=null;ek.measureLineCache=[];ek.measureLineCachePos=0;ek.inaccurateSelection=false;ek.maxLine=null;ek.maxLineLength=0;ek.maxLineChanged=false;ek.wheelDX=ek.wheelDY=ek.wheelStartX=ek.wheelStartY=null;return ek}function bW(ek){ek.doc.mode=K.getMode(ek.options,ek.doc.modeOption);ek.doc.iter(function(el){if(el.stateAfter){el.stateAfter=null}if(el.styles){el.styles=null}});ek.doc.frontier=ek.doc.first;dM(ek,100);ek.state.modeGen++;if(ek.curOp){c7(ek)}}function eh(ek){if(ek.options.lineWrapping){ek.display.wrapper.className+=" CodeMirror-wrap";ek.display.sizer.style.minWidth=""}else{ek.display.wrapper.className=ek.display.wrapper.className.replace(" CodeMirror-wrap","");S(ek)}aB(ek);c7(ek);E(ek);setTimeout(function(){d3(ek)},100)}function aA(ek){var em=dS(ek.display),en=ek.options.lineWrapping;var el=en&&Math.max(5,ek.display.scroller.clientWidth/A(ek.display)-3);return function(eo){if(bM(ek.doc,eo)){return 0}else{if(en){return(Math.ceil(eo.text.length/el)||1)*em}else{return em}}}}function aB(ek){var el=ek.doc,em=aA(ek);el.iter(function(eo){var en=em(eo);if(en!=eo.height){d2(eo,en)}})}function by(ek){var el=bx[ek.options.keyMap],em=el.style;ek.display.wrapper.className=ek.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(em?" cm-keymap-"+em:"");ek.state.disableInput=el.disableInput}function dU(ek){ek.display.wrapper.className=ek.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+ek.options.theme.replace(/(^|\s)\s*/g," cm-s-");E(ek)}function a5(ek){dZ(ek);c7(ek);setTimeout(function(){f(ek)},20)}function dZ(ek){var en=ek.display.gutters,ep=ek.options.gutters;c9(en);for(var eo=0;eo<ep.length;++eo){var em=ep[eo];var el=en.appendChild(ax("div",null,"CodeMirror-gutter "+em));if(em=="CodeMirror-linenumbers"){ek.display.lineGutter=el;el.style.width=(ek.display.lineNumWidth||1)+"px"}}en.style.display=eo?"":"none"}function bP(el,eo){if(eo.height==0){return 0}var en=eo.text.length,ep,ek=eo;while(ep=N(ek)){var em=ep.find();ek=aW(el,em.from.line);en+=em.from.ch-em.to.ch}ek=eo;while(ep=M(ek)){var em=ep.find();en-=ek.text.length-em.from.ch;ek=aW(el,em.to.line);en+=ek.text.length-em.to.ch}return en}function S(ek){var el=ek.display,em=ek.doc;el.maxLine=aW(em,em.first);el.maxLineLength=bP(em,el.maxLine);el.maxLineChanged=true;em.iter(function(eo){var en=bP(em,eo);if(en>el.maxLineLength){el.maxLineLength=en;el.maxLine=eo}})}function du(em){var ek=false;for(var el=0;el<em.gutters.length;++el){if(em.gutters[el]=="CodeMirror-linenumbers"){if(em.lineNumbers){ek=true}else{em.gutters.splice(el--,1)}}}if(!ek&&em.lineNumbers){em.gutters.push("CodeMirror-linenumbers")}}function d3(ek){var el=ek.display,em=ek.doc.height;var eq=em+cN(el);el.sizer.style.minHeight=el.heightForcer.style.top=eq+"px";el.gutters.style.height=Math.max(eq,el.scroller.clientHeight-dp)+"px";var ep=Math.max(eq,el.scroller.scrollHeight);var en=el.scroller.scrollWidth>(el.scroller.clientWidth+1);var eo=ep>(el.scroller.clientHeight+1);if(eo){el.scrollbarV.style.display="block";el.scrollbarV.style.bottom=en?dm(el.measure)+"px":"0";el.scrollbarV.firstChild.style.height=(ep-el.scroller.clientHeight+el.scrollbarV.clientHeight)+"px"}else{el.scrollbarV.style.display="";el.scrollbarV.firstChild.style.height="0"}if(en){el.scrollbarH.style.display="block";el.scrollbarH.style.right=eo?dm(el.measure)+"px":"0";el.scrollbarH.firstChild.style.width=(el.scroller.scrollWidth-el.scroller.clientWidth+el.scrollbarH.clientWidth)+"px"}else{el.scrollbarH.style.display="";el.scrollbarH.firstChild.style.width="0"}if(en&&eo){el.scrollbarFiller.style.display="block";el.scrollbarFiller.style.height=el.scrollbarFiller.style.width=dm(el.measure)+"px"}else{el.scrollbarFiller.style.display=""}if(en&&ek.options.coverGutterNextToScrollbar&&ek.options.fixedGutter){el.gutterFiller.style.display="block";el.gutterFiller.style.height=dm(el.measure)+"px";el.gutterFiller.style.width=el.gutters.offsetWidth+"px"}else{el.gutterFiller.style.display=""}if(b0&&dm(el.measure)===0){el.scrollbarV.style.minWidth=el.scrollbarH.style.minHeight=b1?"18px":"12px"}}function d9(el,em,ep){var eo=el.scroller.scrollTop,en=el.wrapper.clientHeight;if(typeof ep=="number"){eo=ep}else{if(ep){eo=ep.top;en=ep.bottom-ep.top}}eo=Math.floor(eo-cM(el));var ek=Math.ceil(eo+en);return{from:bJ(em,eo),to:bJ(em,ek)}}function f(el){var en=el.display;if(!en.alignWidgets&&(!en.gutters.firstChild||!el.options.fixedGutter)){return}var em=Q(en)-en.scroller.scrollLeft+el.doc.scrollLeft;var eo=en.gutters.offsetWidth,eq=em+"px";for(var er=en.lineDiv.firstChild;er;er=er.nextSibling){if(er.alignable){for(var ep=0,ek=er.alignable;ep<ek.length;++ep){ek[ep].style.left=eq}}}if(el.options.fixedGutter){en.gutters.style.left=(em+eo)+"px"}}function ce(ek){if(!ek.options.lineNumbers){return false}var em=ek.doc,eo=bR(ek.options,em.first+em.size-1),el=ek.display;if(eo.length!=el.lineNumChars){var eq=el.measure.appendChild(ax("div",[ax("div",eo)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var en=eq.firstChild.offsetWidth,ep=eq.offsetWidth-en;el.lineGutter.style.width="";el.lineNumInnerWidth=Math.max(en,el.lineGutter.offsetWidth-ep);el.lineNumWidth=el.lineNumInnerWidth+ep;el.lineNumChars=el.lineNumInnerWidth?eo.length:-1;el.lineGutter.style.width=el.lineNumWidth+"px";return true}return false}function bR(el,ek){return String(el.lineNumberFormatter(ek+el.firstLineNumber))}function Q(ek){return a2(ek.scroller).left-a2(ek.sizer).left}function dW(el,ek,eq,em){var en=el.display.showingFrom,eo=el.display.showingTo,ep;var er=d9(el.display,el.doc,eq);for(;;){if(!dX(el,ek,er,em)){break}em=false;ep=true;d5(el);d3(el);if(eq){eq=Math.min(el.display.scroller.scrollHeight-el.display.scroller.clientHeight,typeof eq=="number"?eq:eq.top)}er=d9(el.display,el.doc,eq);if(er.from>=el.display.showingFrom&&er.to<=el.display.showingTo){break}ek=[]}if(ep){dD(el,"update",el);if(el.display.showingFrom!=en||el.display.showingTo!=eo){dD(el,"viewportChange",el,el.display.showingFrom,el.display.showingTo)}}return ep}function dX(el,ek,eD,es){var en=el.display,eo=el.doc;if(!en.wrapper.clientWidth){en.showingFrom=en.showingTo=eo.first;en.viewOffset=0;return}if(!es&&ek.length==0&&eD.from>en.showingFrom&&eD.to<en.showingTo){return}if(ce(el)){ek=[{from:eo.first,to:eo.first+eo.size}]}var eu=en.sizer.style.marginLeft=en.gutters.offsetWidth+"px";en.scrollbarH.style.left=el.options.fixedGutter?eu:"0";var eA=Infinity;if(el.options.lineNumbers){for(var ev=0;ev<ek.length;++ev){if(ek[ev].diff&&ek[ev].from<eA){eA=ek[ev].from}}}var eq=eo.first+eo.size;var et=Math.max(eD.from-el.options.viewportMargin,eo.first);var eC=Math.min(eq,eD.to+el.options.viewportMargin);if(en.showingFrom<et&&et-en.showingFrom<20){et=Math.max(eo.first,en.showingFrom)}if(en.showingTo>eC&&en.showingTo-eC<20){eC=Math.min(eq,en.showingTo)}if(dk){et=bQ(ea(eo,aW(eo,et)));while(eC<eq&&bM(eo,aW(eo,eC))){++eC}}var ew=[{from:Math.max(en.showingFrom,eo.first),to:Math.min(en.showingTo,eq)}];if(ew[0].from>=ew[0].to){ew=[]}else{ew=R(ew,ek)}if(dk){for(var ev=0;ev<ew.length;++ev){var eB=ew[ev],ey;while(ey=M(aW(eo,eB.to-1))){var ez=ey.find().from.line;if(ez>eB.from){eB.to=ez}else{ew.splice(ev--,1);break}}}}var ex=0;for(var ev=0;ev<ew.length;++ev){var eB=ew[ev];if(eB.from<et){eB.from=et}if(eB.to>eC){eB.to=eC}if(eB.from>=eB.to){ew.splice(ev--,1)}else{ex+=eB.to-eB.from}}if(!es&&ex==eC-et&&et==en.showingFrom&&eC==en.showingTo){d8(el);return}ew.sort(function(eE,eF){return eE.from-eF.from});try{var er=document.activeElement}catch(ep){}if(ex<(eC-et)*0.7){en.lineDiv.style.display="none"}cR(el,et,eC,ew,eA);en.lineDiv.style.display="";if(er&&document.activeElement!=er&&er.offsetHeight){er.focus()}var em=et!=en.showingFrom||eC!=en.showingTo||en.lastSizeC!=en.wrapper.clientHeight;if(em){en.lastSizeC=en.wrapper.clientHeight;dM(el,400)}en.showingFrom=et;en.showingTo=eC;d0(el);d8(el);return true}function d0(em){var eo=em.display;var es=eo.lineDiv.offsetTop;for(var er=eo.lineDiv.firstChild,ep;er;er=er.nextSibling){if(er.lineObj){if(bh){var ek=er.offsetTop+er.offsetHeight;ep=ek-es;es=ek}else{var el=a2(er);ep=el.bottom-el.top}var en=er.lineObj.height-ep;if(ep<2){ep=dS(eo)}if(en>0.001||en<-0.001){d2(er.lineObj,ep);var et=er.lineObj.widgets;if(et){for(var eq=0;eq<et.length;++eq){et[eq].height=et[eq].node.offsetHeight}}}}}}function d8(ek){var el=ek.display.viewOffset=bb(ek,aW(ek.doc,ek.display.showingFrom));ek.display.mover.style.top=el+"px"}function R(eo,el){for(var en=0,er=el.length||0;en<er;++en){var ek=el[en],ep=[],em=ek.diff||0;for(var eq=0,es=eo.length;eq<es;++eq){var et=eo[eq];if(ek.to<=et.from&&ek.diff){ep.push({from:et.from+em,to:et.to+em})}else{if(ek.to<=et.from||ek.from>=et.to){ep.push(et)}else{if(ek.from>et.from){ep.push({from:et.from,to:ek.from})}if(ek.to<et.to){ep.push({from:ek.to+em,to:et.to+em})}}}}eo=ep}return eo}function aU(ek){var el=ek.display,en={},ep={};for(var eo=el.gutters.firstChild,em=0;eo;eo=eo.nextSibling,++em){en[ek.options.gutters[em]]=eo.offsetLeft;ep[ek.options.gutters[em]]=eo.offsetWidth}return{fixedPos:Q(el),gutterTotalWidth:el.gutters.offsetWidth,gutterLeft:en,gutterWidth:ep,wrapperWidth:el.wrapper.clientWidth}}function cR(ek,ep,ev,eq,ew){var en=aU(ek);var eo=ek.display,es=ek.options.lineNumbers;if(!eq.length&&(!eb||!ek.display.currentWheelTarget)){c9(eo.lineDiv)}var el=eo.lineDiv,em=el.firstChild;function eu(ey){var ex=ey.nextSibling;if(eb&&bZ&&ek.display.currentWheelTarget==ey){ey.style.display="none";ey.lineObj=null}else{ey.parentNode.removeChild(ey)}return ex}var et=eq.shift(),er=ep;ek.doc.iter(ep,ev,function(ez){if(et&&et.to==er){et=eq.shift()}if(bM(ek.doc,ez)){if(ez.height!=0){d2(ez,0)}if(ez.widgets&&em&&em.previousSibling){for(var ex=0;ex<ez.widgets.length;++ex){var eE=ez.widgets[ex];if(eE.showIfHidden){var eB=em.previousSibling;if(/pre/i.test(eB.nodeName)){var eG=ax("div",null,null,"position: relative");eB.parentNode.replaceChild(eG,eB);eG.appendChild(eB);eB=eG}var eF=eB.appendChild(ax("div",[eE.node],"CodeMirror-linewidget"));if(!eE.handleMouseEvents){eF.ignoreEvents=true}cW(eE,eF,eB,en)}}}}else{if(et&&et.from<=er&&et.to>er){while(em.lineObj!=ez){em=eu(em)}if(es&&ew<=er&&em.lineNumber){dy(em.lineNumber,bR(ek.options,er))}em=em.nextSibling}else{if(ez.widgets){for(var ey=0,eD=em,eC;eD&&ey<20;++ey,eD=eD.nextSibling){if(eD.lineObj==ez&&/div/i.test(eD.nodeName)){eC=eD;break}}}var eA=r(ek,ez,er,en,eC);if(eA!=eC){el.insertBefore(eA,em)}else{while(em!=eC){em=eu(em)}em=em.nextSibling}eA.lineObj=ez}}++er});while(em){em=eu(em)}}function r(ek,eu,ew,el,eB){var ev=bK(ek,eu);var ex=eu.gutterMarkers,em=ek.display,eE;if(!ek.options.lineNumbers&&!ex&&!eu.bgClass&&!eu.wrapClass&&!eu.widgets){return ev}if(eB){eB.alignable=null;var es=true,eD=0,er=null;for(var ey=eB.firstChild,ez;ey;ey=ez){ez=ey.nextSibling;if(!/\bCodeMirror-linewidget\b/.test(ey.className)){eB.removeChild(ey)}else{for(var ep=0;ep<eu.widgets.length;++ep){var eC=eu.widgets[ep];if(eC.node==ey.firstChild){if(!eC.above&&!er){er=ey}cW(eC,ey,eB,el);++eD;break}}if(ep==eu.widgets.length){es=false;break}}}eB.insertBefore(ev,er);if(es&&eD==eu.widgets.length){eE=eB;eB.className=eu.wrapClass||""}}if(!eE){eE=ax("div",null,eu.wrapClass,"position: relative");eE.appendChild(ev)}if(eu.bgClass){eE.insertBefore(ax("div",null,eu.bgClass+" CodeMirror-linebackground"),eE.firstChild)}if(ek.options.lineNumbers||ex){var eo=eE.insertBefore(ax("div",null,null,"position: absolute; left: "+(ek.options.fixedGutter?el.fixedPos:-el.gutterTotalWidth)+"px"),eE.firstChild);if(ek.options.fixedGutter){(eE.alignable||(eE.alignable=[])).push(eo)}if(ek.options.lineNumbers&&(!ex||!ex["CodeMirror-linenumbers"])){eE.lineNumber=eo.appendChild(ax("div",bR(ek.options,ew),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+el.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+em.lineNumInnerWidth+"px"))}if(ex){for(var et=0;et<ek.options.gutters.length;++et){var eq=ek.options.gutters[et],en=ex.hasOwnProperty(eq)&&ex[eq];if(en){eo.appendChild(ax("div",[en],"CodeMirror-gutter-elt","left: "+el.gutterLeft[eq]+"px; width: "+el.gutterWidth[eq]+"px"))}}}}if(bh){eE.style.zIndex=2}if(eu.widgets&&eE!=eB){for(var ep=0,eF=eu.widgets;ep<eF.length;++ep){var eC=eF[ep],eA=ax("div",[eC.node],"CodeMirror-linewidget");if(!eC.handleMouseEvents){eA.ignoreEvents=true}cW(eC,eA,eE,el);if(eC.above){eE.insertBefore(eA,ek.options.lineNumbers&&eu.height!=0?eo:ev)}else{eE.appendChild(eA)}dD(eC,"redraw")}}return eE}function cW(em,el,eo,ek){if(em.noHScroll){(eo.alignable||(eo.alignable=[])).push(el);var en=ek.wrapperWidth;el.style.left=ek.fixedPos+"px";if(!em.coverGutter){en-=ek.gutterTotalWidth;el.style.paddingLeft=ek.gutterTotalWidth+"px"}el.style.width=en+"px"}if(em.coverGutter){el.style.zIndex=5;el.style.position="relative";if(!em.noHScroll){el.style.marginLeft=-ek.gutterTotalWidth+"px"}}}function d5(ek){var em=ek.display;var el=cU(ek.doc.sel.from,ek.doc.sel.to);if(el||ek.options.showCursorWhenSelecting){d6(ek)}else{em.cursor.style.display=em.otherCursor.style.display="none"}if(!el){d7(ek)}else{em.selectionDiv.style.display="none"}if(ek.options.moveInputWithCursor){var en=ae(ek,ek.doc.sel.head,"div");var ep=a2(em.wrapper),eo=a2(em.lineDiv);em.inputDiv.style.top=Math.max(0,Math.min(em.wrapper.clientHeight-10,en.top+eo.top-ep.top))+"px";em.inputDiv.style.left=Math.max(0,Math.min(em.wrapper.clientWidth-10,en.left+eo.left-ep.left))+"px"}}function d6(ek){var el=ek.display,em=ae(ek,ek.doc.sel.head,"div");el.cursor.style.left=em.left+"px";el.cursor.style.top=em.top+"px";el.cursor.style.height=Math.max(0,em.bottom-em.top)*ek.options.cursorHeight+"px";el.cursor.style.display="";if(em.other){el.otherCursor.style.display="";el.otherCursor.style.left=em.other.left+"px";el.otherCursor.style.top=em.other.top+"px";el.otherCursor.style.height=(em.other.bottom-em.other.top)*0.85+"px"}else{el.otherCursor.style.display="none"}}function d7(em){var en=em.display,eo=em.doc,ev=em.doc.sel;var eq=document.createDocumentFragment();var el=en.lineSpace.offsetWidth,et=cL(em.display);function ek(ez,eA,eB,ey){if(eA<0){eA=0}eq.appendChild(ax("div",null,"CodeMirror-selected","position: absolute; left: "+ez+"px; top: "+eA+"px; width: "+(eB==null?el-ez:eB)+"px; height: "+(ey-eA)+"px"))}function ep(eB,eA,eF){var eD=aW(eo,eB);var eC=eD.text.length;var eE,ez;function ey(eH,eG){return z(em,cT(eB,eH),"div",eD,eG)}bw(a1(eD),eA||0,eF==null?eC:eF,function(eH,eN,eG){var eJ=ey(eH,"left"),eL,eI,eK;if(eH==eN){eL=eJ;eI=eK=eJ.left}else{eL=ey(eN-1,"right");if(eG=="rtl"){var eM=eJ;eJ=eL;eL=eM}eI=eJ.left;eK=eL.right}if(eA==null&&eH==0){eI=et}if(eL.top-eJ.top>3){ek(eI,eJ.top,null,eJ.bottom);eI=et;if(eJ.bottom<eL.top){ek(eI,eJ.bottom,null,eL.top)}}if(eF==null&&eN==eC){eK=el}if(!eE||eJ.top<eE.top||eJ.top==eE.top&&eJ.left<eE.left){eE=eJ}if(!ez||eL.bottom>ez.bottom||eL.bottom==ez.bottom&&eL.right>ez.right){ez=eL}if(eI<et+1){eI=et}ek(eI,eL.top,eK-eI,eL.bottom)});return{start:eE,end:ez}}if(ev.from.line==ev.to.line){ep(ev.from.line,ev.from.ch,ev.to.ch)}else{var er=aW(eo,ev.from.line),ex=aW(eo,ev.to.line);var ew=ea(eo,er)==ea(eo,ex);var es=ep(ev.from.line,ev.from.ch,ew?er.text.length:null).end;var eu=ep(ev.to.line,ew?0:null,ev.to.ch).start;if(ew){if(es.top<eu.top-2){ek(es.right,es.top,null,es.bottom);ek(et,eu.top,eu.left,eu.bottom)}else{ek(es.right,es.top,eu.left-es.right,es.bottom)}}if(es.bottom<eu.top){ek(et,es.bottom,null,eu.top)}}da(en.selectionDiv,eq);en.selectionDiv.style.display=""}function dg(ek){if(!ek.state.focused){return}var el=ek.display;clearInterval(el.blinker);var em=true;el.cursor.style.visibility=el.otherCursor.style.visibility="";if(ek.options.cursorBlinkRate>0){el.blinker=setInterval(function(){el.cursor.style.visibility=el.otherCursor.style.visibility=(em=!em)?"":"hidden"},ek.options.cursorBlinkRate)}}function dM(ek,el){if(ek.doc.mode.startState&&ek.doc.frontier<ek.display.showingTo){ek.state.highlight.set(el,o(be,ek))}}function be(el){var em=el.doc;if(em.frontier<em.first){em.frontier=em.first}if(em.frontier>=el.display.showingTo){return}var en=+new Date+el.options.workTime;var ep=aa(em.mode,a3(el,em.frontier));var ek=[],eo;em.iter(em.frontier,Math.min(em.first+em.size,el.display.showingTo+500),function(es){if(em.frontier>=el.display.showingFrom){var et=es.styles;es.styles=bd(el,es,ep);var er=!et||et.length!=es.styles.length;for(var eq=0;!er&&eq<et.length;++eq){er=et[eq]!=es.styles[eq]}if(er){if(eo&&eo.end==em.frontier){eo.end++}else{ek.push(eo={start:em.frontier,end:em.frontier+1})}}es.stateAfter=aa(em.mode,ep)}else{cZ(el,es,ep);es.stateAfter=em.frontier%5==0?aa(em.mode,ep):null}++em.frontier;if(+new Date>en){dM(el,el.options.workDelay);return true}});if(ek.length){cI(el,function(){for(var eq=0;eq<ek.length;++eq){c7(this,ek[eq].start,ek[eq].end)}})()}}function aL(ek,es,et){var eq,er,el=ek.doc,ep=ek.doc.mode.innerMode?1000:100;for(var eu=es,en=es-ep;eu>en;--eu){if(eu<=el.first){return el.first}var eo=aW(el,eu-1);if(eo.stateAfter&&(!et||eu<=el.frontier)){return eu}var em=ab(eo.text,null,ek.options.tabSize);if(er==null||eq>em){er=eu-1;eq=em}}return er}function a3(ek,en,ep){var em=ek.doc,el=ek.display;if(!em.mode.startState){return true}var eo=aL(ek,en,ep),eq=eo>em.first&&aW(em,eo-1).stateAfter;if(!eq){eq=dL(em.mode)}else{eq=aa(em.mode,eq)}em.iter(eo,en,function(er){cZ(ek,er,eq);var es=eo==en-1||eo%5==0||eo>=el.showingFrom&&eo<el.showingTo;er.stateAfter=es?aa(em.mode,eq):null;++eo});return eq}function cM(ek){return ek.lineSpace.offsetTop}function cN(ek){return ek.mover.offsetHeight-ek.lineSpace.offsetHeight}function cL(ek){var el=da(ek.measure,ax("pre",null,null,"text-align: left")).appendChild(ax("span","x"));return el.offsetLeft}function cf(em,eq,el,en,ek){var eo=-1;en=en||cg(em,eq);if(en.crude){var ep=en.left+el*en.width;return{left:ep,right:ep+en.width,top:en.top,bottom:en.bottom}}for(var er=el;;er+=eo){var es=en[er];if(es){break}if(eo<0&&er==0){eo=1}}ek=er>el?"left":er<el?"right":ek;if(ek=="left"&&es.leftSide){es=es.leftSide}else{if(ek=="right"&&es.rightSide){es=es.rightSide}}return{left:er<el?es.right:es.left,right:er>el?es.left:es.right,top:es.top,bottom:es.bottom}}function aI(el,en){var ek=el.display.measureLineCache;for(var em=0;em<ek.length;++em){var eo=ek[em];if(eo.text==en.text&&eo.markedSpans==en.markedSpans&&el.display.scroller.clientWidth==eo.width&&eo.classes==en.textClass+"|"+en.bgClass+"|"+en.wrapClass){return eo}}}function D(ek,em){var el=aI(ek,em);if(el){el.text=el.measure=el.markedSpans=null}}function cg(em,en){var el=aI(em,en);if(el){return el.measure}var eo=ch(em,en);var ek=em.display.measureLineCache;var ep={text:en.text,width:em.display.scroller.clientWidth,markedSpans:en.markedSpans,measure:eo,classes:en.textClass+"|"+en.bgClass+"|"+en.wrapClass};if(ek.length==16){ek[++em.display.measureLineCachePos%16]=ep}else{ek.push(ep)}return eo}function ch(em,eu){if(!em.options.lineWrapping&&eu.text.length>=em.options.crudeMeasuringFrom){return ad(em,eu)}var ep=em.display,ew=ay(eu.text.length);var eB=bK(em,eu,ew,true);if(bg&&!bh&&!em.options.lineWrapping&&eB.childNodes.length>100){var er=document.createDocumentFragment();var ek=10,ey=eB.childNodes.length;for(var es=0,el=Math.ceil(ey/ek);es<el;++es){var eF=ax("div",null,null,"display: inline-block");for(var et=0;et<ek&&ey;++et){eF.appendChild(eB.firstChild);--ey}er.appendChild(eF)}eB.appendChild(er)}da(ep.measure,eB);var eA=a2(ep.lineDiv);var eE=[],eo=ay(eu.text.length),ev=eB.offsetHeight;if(bi&&ep.measure.first!=eB){da(ep.measure,eB)}function ex(eJ){var eL=eJ.top-eA.top,eG=eJ.bottom-eA.top;if(eG>ev){eG=ev}if(eL<0){eL=0}for(var eH=eE.length-2;eH>=0;eH-=2){var eK=eE[eH],eI=eE[eH+1];if(eK>eG||eI<eL){continue}if(eK<=eL&&eI>=eG||eL<=eK&&eG>=eI||Math.min(eG,eI)-Math.max(eL,eK)>=(eG-eL)>>1){eE[eH]=Math.min(eL,eK);eE[eH+1]=Math.max(eG,eI);break}}if(eH<0){eH=eE.length;eE.push(eL,eG)}return{left:eJ.left-eA.left,right:eJ.right-eA.left,top:eH,bottom:null}}function eq(eG){eG.bottom=eE[eG.top+1];eG.top=eE[eG.top]}for(var es=0,en;es<ew.length;++es){if(en=ew[es]){var ez=en,eC=null;if(/\bCodeMirror-widget\b/.test(en.className)&&en.getClientRects){if(en.firstChild.nodeType==1){ez=en.firstChild}var eD=ez.getClientRects();if(eD.length>1){eC=eo[es]=ex(eD[0]);eC.rightSide=ex(eD[eD.length-1])}}if(!eC){eC=eo[es]=ex(a2(ez))}if(en.measureRight){eC.right=a2(en.measureRight).left}if(en.leftSide){eC.leftSide=ex(a2(en.leftSide))}}}c9(em.display.measure);for(var es=0,en;es<eo.length;++es){if(en=eo[es]){eq(en);if(en.leftSide){eq(en.leftSide)}if(en.rightSide){eq(en.rightSide)}}}return eo}function ad(ek,en){var el=new bI(en.text.slice(0,100),null);if(en.textClass){el.textClass=en.textClass}var eo=ch(ek,el);var em=cf(ek,el,0,eo,"left");var ep=cf(ek,el,99,eo,"right");return{crude:true,top:em.top,left:em.left,bottom:em.bottom,width:(ep.right-em.left)/100}}function ci(el,ep){var en=false;if(ep.markedSpans){for(var eo=0;eo<ep.markedSpans;++eo){var er=ep.markedSpans[eo];if(er.collapsed&&(er.to==null||er.to==ep.text.length)){en=true}}}var ek=!en&&aI(el,ep);if(ek||ep.text.length>=el.options.crudeMeasuringFrom){return cf(el,ep,ep.text.length,ek&&ek.measure,"right").right}var eq=bK(el,ep,null,true);var em=eq.appendChild(ei(el.display.measure));da(el.display.measure,eq);return a2(em).right-a2(el.display.lineDiv).left}function E(ek){ek.display.measureLineCache.length=ek.display.measureLineCachePos=0;ek.display.cachedCharWidth=ek.display.cachedTextHeight=null;if(!ek.options.lineWrapping){ek.display.maxLineChanged=true}ek.display.lineNumChars=null}function cO(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cP(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function bo(ek,en,ep,el){if(en.widgets){for(var em=0;em<en.widgets.length;++em){if(en.widgets[em].above){var eq=ee(en.widgets[em]);ep.top+=eq;ep.bottom+=eq}}}if(el=="line"){return ep}if(!el){el="local"}var es=bb(ek,en);if(el=="local"){es+=cM(ek.display)}else{es-=ek.display.viewOffset}if(el=="page"||el=="window"){var eo=a2(ek.display.lineSpace);es+=eo.top+(el=="window"?0:cP());var er=eo.left+(el=="window"?0:cO());ep.left+=er;ep.right+=er}ep.top+=es;ep.bottom+=es;return ep}function aQ(ek,em,el){if(el=="div"){return em}var en=em.left,eq=em.top;if(el=="page"){en-=cO();eq-=cP()}else{if(el=="local"||!el){var ep=a2(ek.display.sizer);en+=ep.left;eq+=ep.top}}var eo=a2(ek.display.lineSpace);return{left:en-eo.left,top:eq-eo.top}}function z(el,eo,em,en,ek){if(!en){en=aW(el.doc,eo.line)}return bo(el,en,cf(el,en,eo.ch,null,ek),em)}function ae(el,et,em,ep,eq){ep=ep||aW(el.doc,et.line);if(!eq){eq=cg(el,ep)}function en(ev,ex){var ew=cf(el,ep,ev,eq,ex?"right":"left");if(ex){ew.left=ew.right}else{ew.right=ew.left}return bo(el,ep,ew,em)}function eo(ev,ex){var ew=er[ex],ey=ew.level%2;if(ev==k(ew)&&ex&&ew.level<er[ex-1].level){ew=er[--ex];ev=n(ew)-(ew.level%2?0:1);ey=true}else{if(ev==n(ew)&&ex<er.length-1&&ew.level<er[ex+1].level){ew=er[++ex];ev=k(ew)-ew.level%2;ey=false}}if(ey&&ev==ew.to&&ev>ew.from){return en(ev-1)}return en(ev,ey)}var er=a1(ep),ek=et.ch;if(!er){return en(ek)}var es=aT(er,ek);var eu=eo(ek,es);if(m!=null){eu.other=eo(ek,m)}return eu}function cY(el,ek,em,eo){var en=new cT(el,ek);en.xRel=eo;if(em){en.outside=true}return en}function V(ek,es,et){var el=ek.doc;et+=ek.display.viewOffset;if(et<0){return cY(el.first,0,true,-1)}var eo=bJ(el,et),en=el.first+el.size-1;if(eo>en){return cY(el.first+el.size-1,aW(el,en).text.length,true,1)}if(es<0){es=0}for(;;){var ep=aW(el,eo);var em=W(ek,ep,eo,es,et);var eq=M(ep);var er=eq&&eq.find();if(eq&&(em.ch>er.from.ch||em.ch==er.from.ch&&em.xRel>0)){eo=er.to.line}else{return em}}}function W(en,ew,ev,eG,eI){var eu=eI-bb(en,ew);var eF=false,ek=2*en.display.wrapper.clientWidth;var ex=cg(en,ew);function es(eJ){var eK=ae(en,cT(ev,eJ),"line",ew,ex);eF=true;if(eu>eK.bottom){return eK.left-ek}else{if(eu<eK.top){return eK.left+ek}else{eF=false}}return eK.left}var el=a1(ew),eo=ew.text.length;var ep=bO(ew),eC=bS(ew);var er=es(ep),eq=eF,eE=es(eC),eD=eF;if(eG>eE){return cY(ev,eC,eD,1)}for(;;){if(el?eC==ep||eC==cr(ew,ep,1):eC-ep<=1){var em=eG<er||eG-er<=eE-eG?ep:eC;var eH=eG-(em==ep?er:eE);while(br.test(ew.text.charAt(em))){++em}var eA=cY(ev,em,em==ep?eq:eD,eH<0?-1:eH?1:0);return eA}var eB=Math.ceil(eo/2),ey=ep+eB;if(el){ey=ep;for(var et=0;et<eB;++et){ey=cr(ew,ey,1)}}var ez=es(ey);if(ez>eG){eC=ey;eE=ez;if(eD=eF){eE+=1000}eo=eB}else{ep=ey;er=ez;eq=eF;eo-=eB}}}var cj;function dS(ek){if(ek.cachedTextHeight!=null){return ek.cachedTextHeight}if(cj==null){cj=ax("pre");for(var em=0;em<49;++em){cj.appendChild(document.createTextNode("x"));cj.appendChild(ax("br"))}cj.appendChild(document.createTextNode("x"))}da(ek.measure,cj);var el=cj.offsetHeight/50;if(el>3){ek.cachedTextHeight=el}c9(ek.measure);return el||1}function A(el){if(el.cachedCharWidth!=null){return el.cachedCharWidth}var ek=ax("span","x");var em=ax("pre",[ek]);da(el.measure,em);var en=ek.offsetWidth;if(en>2){el.cachedCharWidth=en}return en||10}var ct=0;function dK(ek){ek.curOp={changes:[],forceUpdate:false,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:false,cursorActivity:false,updateMaxLine:false,updateScrollPos:false,id:++ct};if(!ah++){ai=[]}}function az(ek){var et=ek.curOp,eo=ek.doc,en=ek.display;ek.curOp=null;if(et.updateMaxLine){S(ek)}if(en.maxLineChanged&&!ek.options.lineWrapping&&en.maxLine){var ew=ci(ek,en.maxLine);en.sizer.style.minWidth=Math.max(0,ew+3+dp)+"px";en.maxLineChanged=false;var er=Math.max(0,en.sizer.offsetLeft+en.sizer.offsetWidth-en.scroller.clientWidth);if(er<eo.scrollLeft&&!et.updateScrollPos){dv(ek,Math.min(en.scroller.scrollLeft,er),true)}}var es,ev;if(et.updateScrollPos){es=et.updateScrollPos}else{if(et.selectionChanged&&en.scroller.clientHeight){var el=ae(ek,eo.sel.head);es=v(ek,el.left,el.top,el.left,el.bottom)}}if(et.changes.length||et.forceUpdate||es&&es.scrollTop!=null){ev=dW(ek,et.changes,es&&es.scrollTop,et.forceUpdate);if(ek.display.scroller.offsetHeight){ek.doc.scrollTop=ek.display.scroller.scrollTop}}if(!ev&&et.selectionChanged){d5(ek)}if(et.updateScrollPos){en.scroller.scrollTop=en.scrollbarV.scrollTop=eo.scrollTop=es.scrollTop;en.scroller.scrollLeft=en.scrollbarH.scrollLeft=eo.scrollLeft=es.scrollLeft;f(ek);if(et.scrollToPos){dr(ek,H(ek.doc,et.scrollToPos),et.scrollToPosMargin)}}else{if(es){dn(ek)}}if(et.selectionChanged){dg(ek)}if(ek.state.focused&&et.updateInput){df(ek,et.userSelChange)}var ep=et.maybeHiddenMarkers,eu=et.maybeUnhiddenMarkers;if(ep){for(var eq=0;eq<ep.length;++eq){if(!ep[eq].lines.length){dB(ep[eq],"hide")}}}if(eu){for(var eq=0;eq<eu.length;++eq){if(eu[eq].lines.length){dB(eu[eq],"unhide")}}}var em;if(!--ah){em=ai;ai=null}if(et.textChanged){dB(ek,"change",ek,et.textChanged)}if(et.cursorActivity){dB(ek,"cursorActivity",ek)}if(em){for(var eq=0;eq<em.length;++eq){em[eq]()}}}function cI(ek,el){return function(){var em=ek||this,eo=!em.curOp;if(eo){dK(em)}try{var en=el.apply(em,arguments)}finally{if(eo){az(em)}}return en}}function am(ek){return function(){var em=this.cm&&!this.cm.curOp,el;if(em){dK(this.cm)}try{el=ek.apply(this,arguments)}finally{if(em){az(this.cm)}}return el}}function dh(ek,el){var en=!ek.curOp,em;if(en){dK(ek)}try{em=el()}finally{if(en){az(ek)}}return em}function c7(ek,el,en,em){if(el==null){el=ek.doc.first}if(en==null){en=ek.doc.first+ek.doc.size}ek.curOp.changes.push({from:el,to:en,diff:em})}function dF(ek){if(ek.display.pollingFast){return}ek.display.poll.set(ek.options.pollInterval,function(){c2(ek);if(ek.state.focused){dF(ek)}})}function aF(ek){var el=false;ek.display.pollingFast=true;function em(){var en=c2(ek);if(!en&&!el){el=true;ek.display.poll.set(60,em)}else{ek.display.pollingFast=false;dF(ek)}}ek.display.poll.set(20,em)}function c2(el){var eo=el.display.input,eq=el.display.prevInput,em=el.doc,es=em.sel;if(!el.state.focused||ba(eo)||bu(el)||el.state.disableInput){return false}if(el.state.pasteIncoming&&el.state.fakedLastChar){eo.value=eo.value.substring(0,eo.value.length-1);el.state.fakedLastChar=false}var et=eo.value;if(et==eq&&cU(es.from,es.to)){return false}if(bg&&!bi&&el.display.inputHasSelection===et){df(el,true);return false}var ew=!el.curOp;if(ew){dK(el)}es.shift=false;var er=0,ep=Math.min(eq.length,et.length);while(er<ep&&eq.charCodeAt(er)==et.charCodeAt(er)){++er}var en=es.from,eu=es.to;if(er<eq.length){en=cT(en.line,en.ch-(eq.length-er))}else{if(el.state.overwrite&&cU(en,eu)&&!el.state.pasteIncoming){eu=cT(eu.line,Math.min(aW(em,eu.line).text.length,eu.ch+(et.length-er)))}}var ev=el.curOp.updateInput;var ek={from:en,to:eu,text:dJ(et.slice(er)),origin:el.state.pasteIncoming?"paste":"+input"};b2(el.doc,ek,"end");el.curOp.updateInput=ev;dD(el,"inputRead",el,ek);if(et.length>1000||et.indexOf("\n")>-1){eo.value=el.display.prevInput=""}else{el.display.prevInput=et}if(ew){az(el)}el.state.pasteIncoming=false;return true}function df(ek,ep){var en,eo,em=ek.doc;if(!cU(em.sel.from,em.sel.to)){ek.display.prevInput="";en=a8&&(em.sel.to.line-em.sel.from.line>100||(eo=ek.getSelection()).length>1000);var el=en?"-":eo||ek.getSelection();ek.display.input.value=el;if(ek.state.focused){ds(ek.display.input)}if(bg&&!bi){ek.display.inputHasSelection=el}}else{if(ep){ek.display.prevInput=ek.display.input.value="";if(bg&&!bi){ek.display.inputHasSelection=null}}}ek.display.inaccurateSelection=en}function aP(ek){if(ek.options.readOnly!="nocursor"&&(!cm||document.activeElement!=ek.display.input)){ek.display.input.focus()}}function bu(ek){return ek.options.readOnly||ek.doc.cantEdit}function c8(ek){var el=ek.display;cw(el.scroller,"mousedown",cI(ek,cE));if(bg){cw(el.scroller,"dblclick",cI(ek,function(es){if(dC(ek,es)){return}var et=cV(ek,es);if(!et||F(ek,es)||aC(ek.display,es)){return}at(es);var eu=aM(aW(ek.doc,et.line).text,et);aE(ek.doc,eu.from,eu.to)}))}else{cw(el.scroller,"dblclick",function(es){dC(ek,es)||at(es)})}cw(el.lineSpace,"selectstart",function(es){if(!aC(el,es)){at(es)}});if(!w){cw(el.scroller,"contextmenu",function(es){cy(ek,es)})}cw(el.scroller,"scroll",function(){if(el.scroller.clientHeight){dw(ek,el.scroller.scrollTop);dv(ek,el.scroller.scrollLeft,true);dB(ek,"scroll",ek)}});cw(el.scrollbarV,"scroll",function(){if(el.scroller.clientHeight){dw(ek,el.scrollbarV.scrollTop)}});cw(el.scrollbarH,"scroll",function(){if(el.scroller.clientHeight){dv(ek,el.scrollbarH.scrollLeft)}});cw(el.scroller,"mousewheel",function(es){cF(ek,es)});cw(el.scroller,"DOMMouseScroll",function(es){cF(ek,es)});function ep(){if(ek.state.focused){setTimeout(o(aP,ek),0)}}cw(el.scrollbarH,"mousedown",ep);cw(el.scrollbarV,"mousedown",ep);cw(el.wrapper,"scroll",function(){el.wrapper.scrollTop=el.wrapper.scrollLeft=0});var eq;function en(){if(eq==null){eq=setTimeout(function(){eq=null;el.cachedCharWidth=el.cachedTextHeight=bC=null;E(ek);dh(ek,o(c7,ek))},100)}}cw(window,"resize",en);function er(){for(var es=el.wrapper.parentNode;es&&es!=document.body;es=es.parentNode){}if(es){setTimeout(er,5000)}else{cv(window,"resize",en)}}setTimeout(er,5000);cw(el.input,"keyup",cI(ek,function(es){if(dC(ek,es)||ek.options.onKeyEvent&&ek.options.onKeyEvent(ek,c(es))){return}if(es.keyCode==16){ek.doc.sel.shift=false}}));cw(el.input,"input",o(aF,ek));cw(el.input,"keydown",cI(ek,cC));cw(el.input,"keypress",cI(ek,cD));cw(el.input,"focus",o(cB,ek));cw(el.input,"blur",o(cx,ek));function em(es){if(dC(ek,es)||ek.options.onDragEvent&&ek.options.onDragEvent(ek,c(es))){return}au(es)}if(ek.options.dragDrop){cw(el.scroller,"dragstart",function(es){cz(ek,es)});cw(el.scroller,"dragenter",em);cw(el.scroller,"dragover",em);cw(el.scroller,"drop",cI(ek,cA))}cw(el.scroller,"paste",function(es){if(aC(el,es)){return}aP(ek);aF(ek)});cw(el.input,"paste",function(){if(eb&&!ek.state.fakedLastChar&&!(new Date-ek.state.lastMiddleDown<200)){var et=el.input.selectionStart,es=el.input.selectionEnd;el.input.value+="$";el.input.selectionStart=et;el.input.selectionEnd=es;ek.state.fakedLastChar=true}ek.state.pasteIncoming=true;aF(ek)});function eo(){if(el.inaccurateSelection){el.prevInput="";el.inaccurateSelection=false;el.input.value=ek.getSelection();ds(el.input)}}cw(el.input,"cut",eo);cw(el.input,"copy",eo);if(bB){cw(el.sizer,"mouseup",function(){if(document.activeElement==el.input){el.input.blur()}aP(ek)})}}function aC(ek,el){for(var em=aw(el);em!=ek.wrapper;em=em.parentNode){if(!em||em.ignoreEvents||em.parentNode==ek.sizer&&em!=ek.mover){return true}}}function cV(ek,em,en){var el=ek.display;if(!en){var ep=aw(em);if(ep==el.scrollbarH||ep==el.scrollbarH.firstChild||ep==el.scrollbarV||ep==el.scrollbarV.firstChild||ep==el.scrollbarFiller||ep==el.gutterFiller){return null}}var eq,er,eo=a2(el.lineSpace);try{eq=em.clientX;er=em.clientY}catch(em){return null}return V(ek,eq-eo.left,er-eo.top)}var bD,bE;function cE(er){if(dC(this,er)){return}var ek=this,em=ek.display,en=ek.doc,ey=en.sel;ey.shift=er.shiftKey;if(aC(em,er)){if(!eb){em.scroller.draggable=false;setTimeout(function(){em.scroller.draggable=true},100)}return}if(F(ek,er)){return}var ez=cV(ek,er);switch(aq(er)){case 3:if(w){cy.call(ek,ek,er)}return;case 2:if(eb){ek.state.lastMiddleDown=+new Date}if(ez){aE(ek.doc,ez)}setTimeout(o(aP,ek),20);at(er);return}if(!ez){if(aw(er)==em.scroller){at(er)}return}if(!ek.state.focused){cB(ek)}var ex=+new Date,eC="single";if(bE&&bE.time>ex-400&&cU(bE.pos,ez)){eC="triple";at(er);setTimeout(o(aP,ek),20);dt(ek,ez.line)}else{if(bD&&bD.time>ex-400&&cU(bD.pos,ez)){eC="double";bE={time:ex,pos:ez};at(er);var eE=aM(aW(en,ez.line).text,ez);aE(ek.doc,eE.from,eE.to)}else{bD={time:ex,pos:ez}}}var eu=ez;if(ek.options.dragDrop&&ap&&!bu(ek)&&!cU(ey.from,ey.to)&&!cX(ez,ey.from)&&!cX(ey.to,ez)&&eC=="single"){var eq=cI(ek,function(eF){if(eb){em.scroller.draggable=false}ek.state.draggingText=false;cv(document,"mouseup",eq);cv(em.scroller,"drop",eq);if(Math.abs(er.clientX-eF.clientX)+Math.abs(er.clientY-eF.clientY)<10){at(eF);aE(ek.doc,ez);aP(ek)}});if(eb){em.scroller.draggable=true}ek.state.draggingText=eq;if(em.scroller.dragDrop){em.scroller.dragDrop()}cw(document,"mouseup",eq);cw(em.scroller,"drop",eq);return}at(er);if(eC=="single"){aE(ek.doc,H(en,ez))}var eB=ey.from,eA=ey.to,ev=ez;function ep(eF){if(cU(ev,eF)){return}ev=eF;if(eC=="single"){aE(ek.doc,H(en,ez),eF);return}eB=H(en,eB);eA=H(en,eA);if(eC=="double"){var eG=aM(aW(en,eF.line).text,eF);if(cX(eF,eB)){aE(ek.doc,eG.from,eA)}else{aE(ek.doc,eB,eG.to)}}else{if(eC=="triple"){if(cX(eF,eB)){aE(ek.doc,eA,H(en,cT(eF.line,0)))}else{aE(ek.doc,eB,H(en,cT(eF.line+1,0)))}}}}var es=a2(em.wrapper);var el=0;function et(eH){var eG=++el;var eF=cV(ek,eH,true);if(!eF){return}if(!cU(eF,eu)){if(!ek.state.focused){cB(ek)}eu=eF;ep(eF);var eJ=d9(em,en);if(eF.line>=eJ.to||eF.line<eJ.from){setTimeout(cI(ek,function(){if(el==eG){et(eH)}}),150)}}else{var eI=eH.clientY<es.top?-20:eH.clientY>es.bottom?20:0;if(eI){setTimeout(cI(ek,function(){if(el!=eG){return}em.scroller.scrollTop+=eI;et(eH)}),50)}}}function eo(eF){el=Infinity;at(eF);aP(ek);cv(document,"mousemove",ew);cv(document,"mouseup",eD)}var ew=cI(ek,function(eF){if(!bg&&!aq(eF)){eo(eF)}else{et(eF)}});var eD=cI(ek,eo);cw(document,"mousemove",ew);cw(document,"mouseup",eD)}function a4(ek,em,ew,eu,ev){try{var es=em.clientX,et=em.clientY}catch(em){return false}if(es>=Math.floor(a2(ek.display.gutters).right)){return false}if(eu){at(em)}var el=ek.display;var er=a2(el.lineDiv);if(et>er.bottom||!a9(ek,ew)){return ar(em)}et-=er.top-el.viewOffset;for(var ep=0;ep<ek.options.gutters.length;++ep){var en=el.gutters.childNodes[ep];if(en&&a2(en).right>=es){var eq=bJ(ek.doc,et);var eo=ek.options.gutters[ep];ev(ek,ew,ek,eq,eo,em);return ar(em)}}}function U(ek,el){if(!a9(ek,"gutterContextMenu")){return false}return a4(ek,el,"gutterContextMenu",false,dB)}function F(ek,el){return a4(ek,el,"gutterClick",true,dD)}var bF=0;function cA(en){var ek=this;if(dC(ek,en)||aC(ek.display,en)||(ek.options.onDragEvent&&ek.options.onDragEvent(ek,c(en)))){return}at(en);if(bg){bF=+new Date}var es=cV(ek,en,true),eo=en.dataTransfer.files;if(!es||bu(ek)){return}if(eo&&eo.length&&window.FileReader&&window.File){var er=eo.length,eu=Array(er),et=0;var eq=function(ev,ew){var ex=new FileReader;ex.onload=function(){eu[ew]=ex.result;if(++et==er){es=H(ek.doc,es);b2(ek.doc,{from:es,to:es,text:dJ(eu.join("\n")),origin:"paste"},"around")}};ex.readAsText(ev)};for(var ep=0;ep<er;++ep){eq(eo[ep],ep)}}else{if(ek.state.draggingText&&!(cX(es,ek.doc.sel.from)||cX(ek.doc.sel.to,es))){ek.state.draggingText(en);setTimeout(o(aP,ek),20);return}try{var eu=en.dataTransfer.getData("Text");if(eu){var el=ek.doc.sel.from,em=ek.doc.sel.to;dx(ek.doc,es,es);if(ek.state.draggingText){de(ek.doc,"",el,em,"paste")}ek.replaceSelection(eu,null,"paste");aP(ek);cB(ek)}}catch(en){}}}function cz(ek,el){if(bg&&(!ek.state.draggingText||+new Date-bF<100)){au(el);return}if(dC(ek,el)||aC(ek.display,el)){return}var en=ek.getSelection();el.dataTransfer.setData("Text",en);if(el.dataTransfer.setDragImage&&!dj){var em=ax("img",null,null,"position: fixed; left: 0; top: 0;");if(cG){em.width=em.height=1;ek.display.wrapper.appendChild(em);em._top=em.offsetTop}el.dataTransfer.setDragImage(em,0,0);if(cG){em.parentNode.removeChild(em)}}}function dw(ek,el){if(Math.abs(ek.doc.scrollTop-el)<2){return}ek.doc.scrollTop=el;if(!aR){dW(ek,[],el)}if(ek.display.scroller.scrollTop!=el){ek.display.scroller.scrollTop=el}if(ek.display.scrollbarV.scrollTop!=el){ek.display.scrollbarV.scrollTop=el}if(aR){dW(ek,[])}dM(ek,100)}function dv(ek,em,el){if(el?em==ek.doc.scrollLeft:Math.abs(ek.doc.scrollLeft-em)<2){return}em=Math.min(em,ek.display.scroller.scrollWidth-ek.display.scroller.clientWidth);ek.doc.scrollLeft=em;f(ek);if(ek.display.scroller.scrollLeft!=em){ek.display.scroller.scrollLeft=em}if(ek.display.scrollbarH.scrollLeft!=em){ek.display.scrollbarH.scrollLeft=em}}var ed=0,ec=null;if(bg){ec=-0.53}else{if(aR){ec=15}else{if(B){ec=-0.7}else{if(dj){ec=-1/3}}}}function cF(el,eq){var eo=eq.wheelDeltaX,ep=eq.wheelDeltaY;if(eo==null&&eq.detail&&eq.axis==eq.HORIZONTAL_AXIS){eo=eq.detail}if(ep==null&&eq.detail&&eq.axis==eq.VERTICAL_AXIS){ep=eq.detail}else{if(ep==null){ep=eq.wheelDelta}}var en=el.display,es=en.scroller;if(!(eo&&es.scrollWidth>es.clientWidth||ep&&es.scrollHeight>es.clientHeight)){return}if(ep&&bZ&&eb){for(var em=eq.target;em!=es;em=em.parentNode){if(em.lineObj){el.display.currentWheelTarget=em;break}}}if(eo&&!aR&&!cG&&ec!=null){if(ep){dw(el,Math.max(0,Math.min(es.scrollTop+ep*ec,es.scrollHeight-es.clientHeight)))}dv(el,Math.max(0,Math.min(es.scrollLeft+eo*ec,es.scrollWidth-es.clientWidth)));at(eq);en.wheelStartX=null;return}if(ep&&ec!=null){var er=ep*ec;var et=el.doc.scrollTop,ek=et+en.wrapper.clientHeight;if(er<0){et=Math.max(0,et+er-50)}else{ek=Math.min(el.doc.height,ek+er+50)}dW(el,[],{top:et,bottom:ek})}if(ed<20){if(en.wheelStartX==null){en.wheelStartX=es.scrollLeft;en.wheelStartY=es.scrollTop;en.wheelDX=eo;en.wheelDY=ep;setTimeout(function(){if(en.wheelStartX==null){return}var eu=es.scrollLeft-en.wheelStartX;var ev=es.scrollTop-en.wheelStartY;var ew=(ev&&en.wheelDY&&ev/en.wheelDY)||(eu&&en.wheelDX&&eu/en.wheelDX);en.wheelStartX=en.wheelStartY=null;if(!ew){return}ec=(ec*ed+ew)/(ed+1);++ed},200)}else{en.wheelDX+=eo;en.wheelDY+=ep}}}function an(el,ek,eo){if(typeof ek=="string"){ek=O[ek];if(!ek){return false}}if(el.display.pollingFast&&c2(el)){el.display.pollingFast=false}var em=el.doc,ep=em.sel.shift,en=false;try{if(bu(el)){el.state.suppressEdits=true}if(eo){em.sel.shift=false}en=ek(el)!=cQ}finally{em.sel.shift=ep;el.state.suppressEdits=false}return en}function g(ek){var el=ek.state.keyMaps.slice(0);if(ek.options.extraKeys){el.push(ek.options.extraKeys)}el.push(ek.options.keyMap);return el}var cd;function a7(ek,el){var eq=aV(ek.options.keyMap),ep=eq.auto;clearTimeout(cd);if(ep&&!bt(el)){cd=setTimeout(function(){if(aV(ek.options.keyMap)==eq){ek.options.keyMap=(ep.call?ep.call(null,ek):ep);by(ek)}},50)}var eo=bz(el,true),em=false;if(!eo){return false}var en=g(ek);if(el.shiftKey){em=bX("Shift-"+eo,en,function(er){return an(ek,er,true)})||bX(eo,en,function(er){if(typeof er=="string"?/^go[A-Z]/.test(er):er.motion){return an(ek,er)}})}else{em=bX(eo,en,function(er){return an(ek,er)})}if(em){at(el);dg(ek);if(bi){el.oldKeyCode=el.keyCode;el.keyCode=0}dD(ek,"keyHandled",ek,eo,el)}return em}function a6(el,em,ek){var en=bX("'"+ek+"'",g(el),function(eo){return an(el,eo,true)});if(en){at(em);dg(el);dD(el,"keyHandled",el,"'"+ek+"'",em)}return en}var bG=null;function cC(em){var ek=this;if(!ek.state.focused){cB(ek)}if(dC(ek,em)||ek.options.onKeyEvent&&ek.options.onKeyEvent(ek,c(em))){return}if(bg&&em.keyCode==27){em.returnValue=false}var el=em.keyCode;ek.doc.sel.shift=el==16||em.shiftKey;var en=a7(ek,em);if(cG){bG=en?el:null;if(!en&&el==88&&!a8&&(bZ?em.metaKey:em.ctrlKey)){ek.replaceSelection("")}}}function cD(en){var em=this;if(dC(em,en)||em.options.onKeyEvent&&em.options.onKeyEvent(em,c(en))){return}var eo=en.keyCode,el=en.charCode;if(cG&&eo==bG){bG=null;at(en);return}if(((cG&&(!en.which||en.which<10))||bB)&&a7(em,en)){return}var ek=String.fromCharCode(el==null?eo:el);if(this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!bu(this)&&this.doc.mode.electricChars.indexOf(ek)>-1){setTimeout(cI(em,function(){bj(em,em.doc.sel.to.line,"smart")}),75)}if(a6(em,en,ek)){return}if(bg&&!bi){em.display.inputHasSelection=null}aF(em)}function cB(ek){if(ek.options.readOnly=="nocursor"){return}if(!ek.state.focused){dB(ek,"focus",ek);ek.state.focused=true;if(ek.display.wrapper.className.search(/\bCodeMirror-focused\b/)==-1){ek.display.wrapper.className+=" CodeMirror-focused"}if(!ek.curOp){df(ek,true);if(eb){setTimeout(o(df,ek,true),0)}}}dF(ek);dg(ek)}function cx(ek){if(ek.state.focused){dB(ek,"blur",ek);ek.state.focused=false;ek.display.wrapper.className=ek.display.wrapper.className.replace(" CodeMirror-focused","")}clearInterval(ek.display.blinker);setTimeout(function(){if(!ek.state.focused){ek.doc.sel.shift=false}},150)}var ak;function cy(ek,em){if(dC(ek,em,"contextmenu")){return}var el=ek.display,et=ek.doc.sel;if(aC(el,em)||U(ek,em)){return}var ep=cV(ek,em),es=el.scroller.scrollTop;if(!ep||cG){return}if(cU(et.from,et.to)||cX(ep,et.from)||!cX(ep,et.to)){cI(ek,dx)(ek.doc,ep,ep)}var eo=el.input.style.cssText;el.inputDiv.style.position="absolute";el.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(em.clientY-5)+"px; left: "+(em.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);";aP(ek);df(ek,true);if(cU(et.from,et.to)){el.input.value=el.prevInput=" "}function eq(){if(el.input.selectionStart!=null){var eu=el.input.value="\u200b"+(cU(et.from,et.to)?"":el.input.value);el.prevInput="\u200b";el.input.selectionStart=1;el.input.selectionEnd=eu.length}}function er(){el.inputDiv.style.position="relative";el.input.style.cssText=eo;if(bi){el.scrollbarV.scrollTop=el.scroller.scrollTop=es}dF(ek);if(el.input.selectionStart!=null){if(!bg||bi){eq()}clearTimeout(ak);var eu=0,ev=function(){if(el.prevInput==" "&&el.input.selectionStart==0){cI(ek,O.selectAll)(ek)}else{if(eu++<10){ak=setTimeout(ev,500)}else{df(ek)}}};ak=setTimeout(ev,200)}}if(bg&&!bi){eq()}if(w){au(em);var en=function(){cv(window,"mouseup",en);setTimeout(er,20)};cw(window,"mouseup",en)}else{setTimeout(er,50)}}var x=K.changeEnd=function(ek){if(!ek.text){return ek.to}return cT(ek.from.line+ek.text.length-1,bY(ek.text).length+(ek.text.length==1?ek.from.ch:0))};function I(em,ek,ep){if(!cX(ek.from,ep)){return H(em,ep)}var el=(ek.text.length-1)-(ek.to.line-ek.from.line);if(ep.line>ek.to.line+el){var eq=ep.line-el,eo=em.first+em.size-1;if(eq>eo){return cT(eo,aW(em,eo).text.length)}return J(ep,aW(em,eq).text.length)}if(ep.line==ek.to.line+el){return J(ep,bY(ek.text).length+(ek.text.length==1?ek.from.ch:0)+aW(em,ek.to.line).text.length-ek.to.ch)}var en=ep.line-ek.from.line;return J(ep,ek.text[en].length+(en?0:ek.from.ch))}function T(em,el,eo){if(eo&&typeof eo=="object"){return{anchor:I(em,el,eo.anchor),head:I(em,el,eo.head)}}if(eo=="start"){return{anchor:el.from,head:el.from}}var en=x(el);if(eo=="around"){return{anchor:el.from,head:en}}if(eo=="end"){return{anchor:en,head:en}}var ek=function(er){if(cX(er,el.from)){return er}if(!cX(el.to,er)){return en}var eq=er.line+el.text.length-(el.to.line-el.from.line)-1,ep=er.ch;if(er.line==el.to.line){ep+=en.ch-el.to.ch}return cT(eq,ep)};return{anchor:ek(em.sel.anchor),head:ek(em.sel.head)}}function aG(el,ek,en){var em={canceled:false,from:ek.from,to:ek.to,text:ek.text,origin:ek.origin,cancel:function(){this.canceled=true}};if(en){em.update=function(eo,er,eq,ep){if(eo){this.from=H(el,eo)}if(er){this.to=H(el,er)}if(eq){this.text=eq}if(ep!==undefined){this.origin=ep}}}dB(el,"beforeChange",el,em);if(el.cm){dB(el.cm,"beforeChange",el.cm,em)}if(em.canceled){return null}return{from:em.from,to:em.to,text:em.text,origin:em.origin}}function b2(el,ek,eo,en){if(el.cm){if(!el.cm.curOp){return cI(el.cm,b2)(el,ek,eo,en)}if(el.cm.state.suppressEdits){return}}if(a9(el,"beforeChange")||el.cm&&a9(el.cm,"beforeChange")){ek=aG(el,ek,true);if(!ek){return}}var ep=dl&&!en&&dd(el,ek.from,ek.to);if(ep){for(var em=ep.length-1;em>=1;--em){b4(el,{from:ep[em].from,to:ep[em].to,text:[""]})}if(ep.length){b4(el,{from:ep[0].from,to:ep[0].to,text:ek.text},eo)}}else{b4(el,ek,eo)}}function b4(el,ek,eo){var en=T(el,ek,eo);d(el,ek,en,el.cm?el.cm.curOp.id:NaN);b5(el,ek,en,dO(el,ek));var em=[];bV(el,function(ep,eq){if(!eq&&bk(em,ep.history)==-1){c3(ep.history,ek);em.push(ep.history)}b5(ep,ek,null,dO(ep,ek))})}function b3(en,et){if(en.cm&&en.cm.state.suppressEdits){return}var eq=en.history;var eo=(et=="undo"?eq.done:eq.undone).pop();if(!eo){return}var el={changes:[],anchorBefore:eo.anchorAfter,headBefore:eo.headAfter,anchorAfter:eo.anchorBefore,headAfter:eo.headBefore,generation:eq.generation};(et=="undo"?eq.undone:eq.done).push(el);eq.generation=eo.generation||++eq.maxGeneration;var ep=a9(en,"beforeChange")||en.cm&&a9(en.cm,"beforeChange");for(var er=eo.changes.length-1;er>=0;--er){var em=eo.changes[er];em.origin=et;if(ep&&!aG(en,em,false)){(et=="undo"?eq.done:eq.undone).length=0;return}el.changes.push(bf(en,em));var ek=er?T(en,em,null):{anchor:eo.anchorBefore,head:eo.headBefore};b5(en,em,ek,ck(en,em));var es=[];bV(en,function(eu,ev){if(!ev&&bk(es,eu.history)==-1){c3(eu.history,em);es.push(eu.history)}b5(eu,em,null,ck(eu,em))})}}function dA(el,ek){function em(en){return cT(en.line+ek,en.ch)}el.first+=ek;if(el.cm){c7(el.cm,el.first,el.first,ek)}el.sel.head=em(el.sel.head);el.sel.anchor=em(el.sel.anchor);el.sel.from=em(el.sel.from);el.sel.to=em(el.sel.to)}function b5(el,ek,en,ep){if(el.cm&&!el.cm.curOp){return cI(el.cm,b5)(el,ek,en,ep)}if(ek.to.line<el.first){dA(el,ek.text.length-1-(ek.to.line-ek.from.line));return}if(ek.from.line>el.lastLine()){return}if(ek.from.line<el.first){var eo=ek.text.length-1-(el.first-ek.from.line);dA(el,eo);ek={from:cT(el.first,0),to:cT(ek.to.line+eo,ek.to.ch),text:[bY(ek.text)],origin:ek.origin}}var em=el.lastLine();if(ek.to.line>em){ek={from:ek.from,to:cT(em,aW(el,em).text.length),text:[ek.text[0]],origin:ek.origin}}ek.removed=aS(el,ek.from,ek.to);if(!en){en=T(el,ek,null)}if(el.cm){b6(el.cm,ek,ep,en)}else{dY(el,ek,ep,en)}}function b6(en,ek,ev,eu){var eq=en.doc,ep=en.display,er=ek.from,ew=ek.to;var et=false,em=er.line;if(!en.options.lineWrapping){em=bQ(ea(eq,aW(eq,er.line)));eq.iter(em,ew.line+1,function(ex){if(ex==ep.maxLine){et=true;return true}})}if(!cX(eq.sel.head,ek.from)&&!cX(ek.to,eq.sel.head)){en.curOp.cursorActivity=true}dY(eq,ek,ev,eu,aA(en));if(!en.options.lineWrapping){eq.iter(em,er.line+ek.text.length,function(ey){var ex=bP(eq,ey);if(ex>ep.maxLineLength){ep.maxLine=ey;ep.maxLineLength=ex;ep.maxLineChanged=true;et=false}});if(et){en.curOp.updateMaxLine=true}}eq.frontier=Math.min(eq.frontier,er.line);dM(en,400);var es=ek.text.length-(ew.line-er.line)-1;c7(en,er.line,ew.line+1,es);if(a9(en,"change")){var el={from:er,to:ew,text:ek.text,removed:ek.removed,origin:ek.origin};if(en.curOp.textChanged){for(var eo=en.curOp.textChanged;eo.next;eo=eo.next){}eo.next=el}else{en.curOp.textChanged=el}}}function de(el,ek,em,ep,en){if(!ep){ep=em}if(cX(ep,em)){var eo=ep;ep=em;em=eo}if(typeof ek=="string"){ek=dJ(ek)}b2(el,{from:em,to:ep,text:ek,origin:en},null)}function cT(el,ek){if(!(this instanceof cT)){return new cT(el,ek)}this.line=el;this.ch=ek}K.Pos=cT;function cU(ek,el){return ek.line==el.line&&ek.ch==el.ch}function cX(ek,el){return ek.line<el.line||(ek.line==el.line&&ek.ch<el.ch)}function Z(ek){return cT(ek.line,ek.ch)}function G(ek,el){return Math.max(ek.first,Math.min(el,ek.first+ek.size-1))}function H(ek,em){if(em.line<ek.first){return cT(ek.first,0)}var el=ek.first+ek.size-1;if(em.line>el){return cT(el,aW(ek,el).text.length)}return J(em,aW(ek,em.line).text.length)}function J(em,el){var ek=em.ch;if(ek==null||ek>el){return cT(em.line,el)}else{if(ek<0){return cT(em.line,0)}else{return em}}}function bs(ek,el){return el>=ek.first&&el<ek.first+ek.size}function aE(em,eo,en,el){if(em.sel.shift||em.sel.extend){var ek=em.sel.anchor;if(en){var ep=cX(eo,ek);if(ep!=cX(en,ek)){ek=eo;eo=en}else{if(ep!=cX(eo,en)){eo=en}}}dx(em,ek,eo,el)}else{dx(em,eo,en||eo,el)}if(em.cm){em.cm.curOp.userSelChange=true}}function aH(el,ek,em){var en={anchor:ek,head:em};dB(el,"beforeSelectionChange",el,en);if(el.cm){dB(el.cm,"beforeSelectionChange",el.cm,en)}en.anchor=H(el,en.anchor);en.head=H(el,en.head);return en}function dx(en,ek,ep,el,em){if(!em&&a9(en,"beforeSelectionChange")||en.cm&&a9(en.cm,"beforeSelectionChange")){var eo=aH(en,ek,ep);ep=eo.head;ek=eo.anchor}var er=en.sel;er.goalColumn=null;if(el==null){el=cX(ep,er.head)?-1:1}if(em||!cU(ek,er.anchor)){ek=dE(en,ek,el,em!="push")}if(em||!cU(ep,er.head)){ep=dE(en,ep,el,em!="push")}if(cU(er.anchor,ek)&&cU(er.head,ep)){return}er.anchor=ek;er.head=ep;var eq=cX(ep,ek);er.from=eq?ep:ek;er.to=eq?ek:ep;if(en.cm){en.cm.curOp.updateInput=en.cm.curOp.selectionChanged=en.cm.curOp.cursorActivity=true}dD(en,"cursorActivity",en)}function c6(ek){dx(ek.doc,ek.doc.sel.from,ek.doc.sel.to,null,"push")}function dE(en,eu,ek,es){var eo=false,el=eu;var em=ek||1;en.cantEdit=false;search:for(;;){var eq=aW(en,el.line);if(eq.markedSpans){for(var ep=0;ep<eq.markedSpans.length;++ep){var ev=eq.markedSpans[ep],er=ev.marker;if((ev.from==null||(er.inclusiveLeft?ev.from<=el.ch:ev.from<el.ch))&&(ev.to==null||(er.inclusiveRight?ev.to>=el.ch:ev.to>el.ch))){if(es){dB(er,"beforeCursorEnter");if(er.explicitlyCleared){if(!eq.markedSpans){break}else{--ep;continue}}}if(!er.atomic){continue}var et=er.find()[em<0?"from":"to"];if(cU(et,el)){et.ch+=em;if(et.ch<0){if(et.line>en.first){et=H(en,cT(et.line-1))}else{et=null}}else{if(et.ch>eq.text.length){if(et.line<en.first+en.size-1){et=cT(et.line+1,0)}else{et=null}}}if(!et){if(eo){if(!es){return dE(en,eu,ek,true)}en.cantEdit=true;return cT(en.first,0)}eo=true;et=eu;em=-em}}el=et;continue search}}}return el}}function dn(el){var em=dr(el,el.doc.sel.head,el.options.cursorScrollMargin);if(!el.state.focused){return}var en=el.display,ek=a2(en.sizer),eo=null;if(em.top+ek.top<0){eo=true}else{if(em.bottom+ek.top>(window.innerHeight||document.documentElement.clientHeight)){eo=false}}if(eo!=null&&!cS){var ep=en.cursor.style.display=="none";if(ep){en.cursor.style.display="";en.cursor.style.left=em.left+"px";en.cursor.style.top=(em.top-en.viewOffset)+"px"}en.cursor.scrollIntoView(eo);if(ep){en.cursor.style.display="none"}}}function dr(el,eo,en){if(en==null){en=0}for(;;){var ek=false,em=ae(el,eo);var ep=v(el,em.left,em.top-en,em.left,em.bottom+en);var er=el.doc.scrollTop,eq=el.doc.scrollLeft;if(ep.scrollTop!=null){dw(el,ep.scrollTop);if(Math.abs(el.doc.scrollTop-er)>1){ek=true}}if(ep.scrollLeft!=null){dv(el,ep.scrollLeft);if(Math.abs(el.doc.scrollLeft-eq)>1){ek=true}}if(!ek){return em}}}function dq(ek,em,eo,en,ep){var el=v(ek,em,eo,en,ep);if(el.scrollTop!=null){dw(ek,el.scrollTop)}if(el.scrollLeft!=null){dv(ek,el.scrollLeft)}}function v(en,ey,eA,ez,eB){var eo=en.display,ex=dS(en.display);if(eA<0){eA=0}var et=eo.scroller.clientHeight-dp,ev=eo.scroller.scrollTop,es={};var ep=en.doc.height+cN(eo);var em=eA<ex,ek=eB>ep-ex;if(eA<ev){es.scrollTop=em?0:eA}else{if(eB>ev+et){var er=Math.min(eA,(ek?ep:eB)-et);if(er!=ev){es.scrollTop=er}}}var ew=eo.scroller.clientWidth-dp,eu=eo.scroller.scrollLeft;ey+=eo.gutters.offsetWidth;ez+=eo.gutters.offsetWidth;var eq=eo.gutters.offsetWidth;var el=ey<eq+10;if(ey<eu+eq||el){if(el){ey=0}es.scrollLeft=Math.max(0,ey-10-eq)}else{if(ez>ew+eu-3){es.scrollLeft=ez+10-ew}}return es}function d4(ek,el,em){ek.curOp.updateScrollPos={scrollLeft:el==null?ek.doc.scrollLeft:el,scrollTop:em==null?ek.doc.scrollTop:em}}function e(ek,el,eo){var em=ek.curOp.updateScrollPos||(ek.curOp.updateScrollPos={scrollLeft:ek.doc.scrollLeft,scrollTop:ek.doc.scrollTop});var en=ek.display.scroller;em.scrollTop=Math.max(0,Math.min(en.scrollHeight-en.clientHeight,em.scrollTop+eo));em.scrollLeft=Math.max(0,Math.min(en.scrollWidth-en.clientWidth,em.scrollLeft+el))}function bj(el,eu,ep,ek){var eo=el.doc;if(ep==null){ep="add"}if(ep=="smart"){if(!el.doc.mode.indent){ep="prev"}else{var ew=a3(el,eu)}}var ex=el.options.tabSize;var et=aW(eo,eu),em=ab(et.text,null,ex);var en=et.text.match(/^\s*/)[0],er;if(ep=="smart"){er=el.doc.mode.indent(ew,et.text.slice(en.length),et.text);if(er==cQ){if(!ek){return}ep="prev"}}if(ep=="prev"){if(eu>eo.first){er=ab(aW(eo,eu-1).text,null,ex)}else{er=0}}else{if(ep=="add"){er=em+el.options.indentUnit}else{if(ep=="subtract"){er=em-el.options.indentUnit}else{if(typeof ep=="number"){er=em+ep}}}}er=Math.max(0,er);var es="",ev=0;if(el.options.indentWithTabs){for(var eq=Math.floor(er/ex);eq;--eq){ev+=ex;es+="\t"}}if(ev<er){es+=dG(er-ev)}if(es!=en){de(el.doc,es,cT(eu,0),cT(eu,en.length),"+input")}et.stateAfter=null}function y(ek,em,ep){var eo=em,en=em,el=ek.doc;if(typeof em=="number"){en=aW(el,G(el,em))}else{eo=bQ(em)}if(eo==null){return null}if(ep(en,eo)){c7(ek,eo,eo+1)}else{return null}return en}function aJ(en,ev,em,eA,eB){var er=ev.line,ek=ev.ch,eu=em;var es=aW(en,er);var ew=true;function eo(){var eC=er+em;if(eC<en.first||eC>=en.first+en.size){return(ew=false)}er=eC;return es=aW(en,eC)}function et(eC){var eD=(eB?cr:cq)(es,ek,em,true);if(eD==null){if(!eC&&eo()){if(eB){ek=(em<0?bS:bO)(es)}else{ek=em<0?es.text.length:0}}else{return(ew=false)}}else{ek=eD}return true}if(eA=="char"){et()}else{if(eA=="column"){et(true)}else{if(eA=="word"||eA=="group"){var ey=null,eq=eA=="group";for(var ep=true;;ep=false){if(em<0&&!et(!ep)){break}var el=es.text.charAt(ek)||"\n";var ez=bv(el)?"w":!eq?null:/\s/.test(el)?null:"p";if(ey&&ey!=ez){if(em<0){em=1;et()}break}if(ez){ey=ez}if(em>0&&!et(!ep)){break}}}}}var ex=dE(en,cT(er,ek),eu,true);if(!ew){ex.hitSide=true}return ex}function aK(ek,eo,el,eq){var em=ek.doc,er=eo.left,es;if(eq=="page"){var en=Math.min(ek.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);es=eo.top+el*(en-(el<0?1.5:0.5)*dS(ek.display))}else{if(eq=="line"){es=el>0?eo.bottom+3:eo.top-3}}for(;;){var ep=V(ek,er,es);if(!ep.outside){break}if(el<0?es<=0:es>=em.height){ep.hitSide=true;break}es+=el*5}return ep}function aM(em,en){var eo=en.ch,el=en.ch;if(em){if((en.xRel<0||el==em.length)&&eo){--eo}else{++el}var ep=em.charAt(eo);var ek=bv(ep)?bv:/\s/.test(ep)?function(eq){return/\s/.test(eq)}:function(eq){return !/\s/.test(eq)&&!bv(eq)};while(eo>0&&ek(em.charAt(eo-1))){--eo}while(el<em.length&&ek(em.charAt(el))){++el}}return{from:cT(en.line,eo),to:cT(en.line,el)}}function dt(ek,el){aE(ek.doc,cT(el,0),H(ek.doc,cT(el+1,0)))}K.prototype={constructor:K,focus:function(){window.focus();aP(this);cB(this);aF(this)},setOption:function(el,en){var em=this.options,ek=em[el];if(em[el]==en&&el!="mode"){return}em[el]=en;if(cK.hasOwnProperty(el)){cI(this,cK[el])(this,en,ek)}},getOption:function(ek){return this.options[ek]},getDoc:function(){return this.doc},addKeyMap:function(el,ek){this.state.keyMaps[ek?"push":"unshift"](el)},removeKeyMap:function(el){var em=this.state.keyMaps;for(var ek=0;ek<em.length;++ek){if(em[ek]==el||(typeof em[ek]!="string"&&em[ek].name==el)){em.splice(ek,1);return true}}},addOverlay:cI(null,function(em,el){var ek=em.token?em:K.getMode(this.options,em);if(ek.startState){throw new Error("Overlays may not be stateful.")}this.state.overlays.push({mode:ek,modeSpec:em,opaque:el&&el.opaque});this.state.modeGen++;c7(this)}),removeOverlay:cI(null,function(en){var em=this.state.overlays;for(var el=0;el<em.length;++el){var ek=em[el].modeSpec;if(ek==en||typeof en=="string"&&ek.name==en){em.splice(el,1);this.state.modeGen++;c7(this);return}}}),indentLine:cI(null,function(em,el,ek){if(typeof el!="string"&&typeof el!="number"){if(el==null){el=this.options.smartIndent?"smart":"prev"}else{el=el?"add":"subtract"}}if(bs(this.doc,em)){bj(this,em,el,ek)}}),indentSelection:cI(null,function(el){var en=this.doc.sel;if(cU(en.from,en.to)){return bj(this,en.from.line,el)}var ek=en.to.line-(en.to.ch?0:1);for(var em=en.from.line;em<=ek;++em){bj(this,em,el)}}),getTokenAt:function(en,eo){var ek=this.doc;en=H(ek,en);var ep=a3(this,en.line,eo),em=this.doc.mode;var el=aW(ek,en.line);var eq=new dP(el.text,this.options.tabSize);while(eq.pos<en.ch&&!eq.eol()){eq.start=eq.pos;var er=em.token(eq,ep)}return{start:eq.start,end:eq.pos,string:eq.current(),className:er||null,type:er||null,state:ep}},getTokenTypeAt:function(eo){eo=H(this.doc,eo);var ep=aY(this,aW(this.doc,eo.line));var el=0,ek=(ep.length-1)/2,em=eo.ch;if(em==0){return ep[2]}for(;;){var en=(el+ek)>>1;if((en?ep[en*2-1]:0)>=em){ek=en}else{if(ep[en*2+1]<em){el=en+1}else{return ep[en*2+2]}}}},getModeAt:function(el){var ek=this.doc.mode;if(!ek.innerMode){return ek}return K.innerMode(ek,this.getTokenAt(el).state).mode},getHelper:function(em,en){if(!bc.hasOwnProperty(en)){return}var ek=bc[en],el=this.getModeAt(em);return el[en]&&ek[el[en]]||el.helperType&&ek[el.helperType]||ek[el.name]},getStateAfter:function(el,em){var ek=this.doc;el=G(ek,el==null?ek.first+ek.size-1:el);return a3(this,el+1,em)},cursorCoords:function(en,ek){var el,em=this.doc.sel;if(en==null){el=em.head}else{if(typeof en=="object"){el=H(this.doc,en)}else{el=en?em.from:em.to}}return ae(this,el,ek||"page")},charCoords:function(el,ek){return z(this,H(this.doc,el),ek||"page")},coordsChar:function(ek,el){ek=aQ(this,ek,el||"page");return V(this,ek.left,ek.top)},lineAtHeight:function(ek,el){ek=aQ(this,{top:ek,left:0},el||"page").top;return bJ(this.doc,ek+this.display.viewOffset)},heightAtLine:function(em,eo){var ek=false,el=this.doc.first+this.doc.size-1;if(em<this.doc.first){em=this.doc.first}else{if(em>el){em=el;ek=true}}var en=aW(this.doc,em);return bo(this,aW(this.doc,em),{top:0,left:0},eo||"page").top+(ek?en.height:0)},defaultTextHeight:function(){return dS(this.display)},defaultCharWidth:function(){return A(this.display)},setGutterMarker:cI(null,function(el,ek,em){return y(this,el,function(en){var eo=en.gutterMarkers||(en.gutterMarkers={});eo[ek]=em;if(!em&&bq(eo)){en.gutterMarkers=null}return true})}),clearGutter:cI(null,function(em){var ek=this,el=ek.doc,en=el.first;el.iter(function(eo){if(eo.gutterMarkers&&eo.gutterMarkers[em]){eo.gutterMarkers[em]=null;c7(ek,en,en+1);if(bq(eo.gutterMarkers)){eo.gutterMarkers=null}}++en})}),addLineClass:cI(null,function(el,em,ek){return y(this,el,function(en){var eo=em=="text"?"textClass":em=="background"?"bgClass":"wrapClass";if(!en[eo]){en[eo]=ek}else{if(new RegExp("(?:^|\\s)"+ek+"(?:$|\\s)").test(en[eo])){return false}else{en[eo]+=" "+ek}}return true})}),removeLineClass:cI(null,function(el,em,ek){return y(this,el,function(eq){var er=em=="text"?"textClass":em=="background"?"bgClass":"wrapClass";var en=eq[er];if(!en){return false}else{if(ek==null){eq[er]=null}else{var ep=en.match(new RegExp("(?:^|\\s+)"+ek+"(?:$|\\s+)"));if(!ep){return false}var eo=ep.index+ep[0].length;eq[er]=en.slice(0,ep.index)+(!ep.index||eo==en.length?"":" ")+en.slice(eo)||null}}return true})}),addLineWidget:cI(null,function(ek,el,em){return a(this,ek,el,em)}),removeLineWidget:function(ek){ek.clear()},lineInfo:function(ek){if(typeof ek=="number"){if(!bs(this.doc,ek)){return null}var el=ek;ek=aW(this.doc,ek);if(!ek){return null}}else{var el=bQ(ek);if(el==null){return null}}return{line:el,handle:ek,text:ek.text,gutterMarkers:ek.gutterMarkers,textClass:ek.textClass,bgClass:ek.bgClass,wrapClass:ek.wrapClass,widgets:ek.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(ep,eo,eq,es,el){var ek=this.display;ep=ae(this,H(this.doc,ep));var er=ep.bottom,en=ep.left;eo.style.position="absolute";ek.sizer.appendChild(eo);if(es=="over"){er=ep.top}else{if(es=="above"||es=="near"){var et=Math.max(ek.wrapper.clientHeight,this.doc.height),em=Math.max(ek.sizer.clientWidth,ek.lineSpace.clientWidth);if((es=="above"||ep.bottom+eo.offsetHeight>et)&&ep.top>eo.offsetHeight){er=ep.top-eo.offsetHeight}else{if(ep.bottom+eo.offsetHeight<=et){er=ep.bottom}}if(en+eo.offsetWidth>em){en=em-eo.offsetWidth}}}eo.style.top=er+"px";eo.style.left=eo.style.right="";if(el=="right"){en=ek.sizer.clientWidth-eo.offsetWidth;eo.style.right="0px"}else{if(el=="left"){en=0}else{if(el=="middle"){en=(ek.sizer.clientWidth-eo.offsetWidth)/2}}eo.style.left=en+"px"}if(eq){dq(this,en,er,en+eo.offsetWidth,er+eo.offsetHeight)}},triggerOnKeyDown:cI(null,cC),execCommand:function(ek){return O[ek](this)},findPosH:function(en,ek,ep,eq){var em=1;if(ek<0){em=-1;ek=-ek}for(var eo=0,el=H(this.doc,en);eo<ek;++eo){el=aJ(this.doc,el,em,ep,eq);if(el.hitSide){break}}return el},moveH:cI(null,function(ek,en){var em=this.doc.sel,el;if(em.shift||em.extend||cU(em.from,em.to)){el=aJ(this.doc,em.head,ek,en,this.options.rtlMoveVisually)}else{el=ek<0?em.from:em.to}aE(this.doc,el,el,ek)}),deleteH:cI(null,function(ek,em){var el=this.doc.sel;if(!cU(el.from,el.to)){de(this.doc,"",el.from,el.to,"+delete")}else{de(this.doc,"",el.from,aJ(this.doc,el.head,ek,em,false),"+delete")}this.curOp.userSelChange=true}),findPosV:function(eo,ek,er,ep){var en=1,es=ep;if(ek<0){en=-1;ek=-ek}for(var eq=0,em=H(this.doc,eo);eq<ek;++eq){var el=ae(this,em,"div");if(es==null){es=el.left}else{el.left=es}em=aK(this,el,en,er);if(em.hitSide){break}}return em},moveV:cI(null,function(ek,eo){var em=this.doc.sel;var el=ae(this,em.head,"div");if(em.goalColumn!=null){el.left=em.goalColumn}var en=aK(this,el,ek,eo);if(eo=="page"){e(this,0,z(this,en,"div").top-el.top)}aE(this.doc,en,en,ek);em.goalColumn=el.left}),toggleOverwrite:function(ek){if(ek!=null&&ek==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){this.display.cursor.className+=" CodeMirror-overwrite"}else{this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")}},hasFocus:function(){return this.state.focused},scrollTo:cI(null,function(ek,el){d4(this,ek,el)}),getScrollInfo:function(){var el=this.display.scroller,ek=dp;return{left:el.scrollLeft,top:el.scrollTop,height:el.scrollHeight-ek,width:el.scrollWidth-ek,clientHeight:el.clientHeight-ek,clientWidth:el.clientWidth-ek}},scrollIntoView:cI(null,function(em,el){if(typeof em=="number"){em=cT(em,0)}if(!el){el=0}var ek=em;if(!em||em.line!=null){this.curOp.scrollToPos=em?H(this.doc,em):this.doc.sel.head;this.curOp.scrollToPosMargin=el;ek=ae(this,this.curOp.scrollToPos)}var en=v(this,ek.left,ek.top-el,ek.right,ek.bottom+el);d4(this,en.scrollLeft,en.scrollTop)}),setSize:cI(null,function(em,ek){function el(en){return typeof en=="number"||/^\d+$/.test(String(en))?en+"px":en}if(em!=null){this.display.wrapper.style.width=el(em)}if(ek!=null){this.display.wrapper.style.height=el(ek)}if(this.options.lineWrapping){this.display.measureLineCache.length=this.display.measureLineCachePos=0}this.curOp.forceUpdate=true}),operation:function(ek){return dh(this,ek)},refresh:cI(null,function(){E(this);d4(this,this.doc.scrollLeft,this.doc.scrollTop);c7(this)}),swapDoc:cI(null,function(ek){var el=this.doc;el.cm=null;h(this,ek);E(this);df(this,true);d4(this,ek.scrollLeft,ek.scrollTop);return el}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};aD(K);var cK=K.optionHandlers={};var af=K.defaults={};function cJ(em,ek,el,en){K.defaults[em]=ek;if(el){cK[em]=en?function(eo,eq,ep){if(ep!=bl){el(eo,eq,ep)}}:el}}var bl=K.Init={toString:function(){return"CodeMirror.Init"}};cJ("value","",function(ek,el){ek.setValue(el)},true);cJ("mode",null,function(ek,el){ek.doc.modeOption=el;bW(ek)},true);cJ("indentUnit",2,bW,true);cJ("indentWithTabs",false);cJ("smartIndent",true);cJ("tabSize",4,function(ek){bW(ek);E(ek);c7(ek)},true);cJ("electricChars",true);cJ("rtlMoveVisually",!eg);cJ("theme","default",function(ek){dU(ek);a5(ek)},true);cJ("keyMap","default",by);cJ("extraKeys",null);cJ("onKeyEvent",null);cJ("onDragEvent",null);cJ("lineWrapping",false,eh,true);cJ("gutters",[],function(ek){du(ek.options);a5(ek)},true);cJ("fixedGutter",true,function(ek,el){ek.display.gutters.style.left=el?Q(ek.display)+"px":"0";ek.refresh()},true);cJ("coverGutterNextToScrollbar",false,d3,true);cJ("lineNumbers",false,function(ek){du(ek.options);a5(ek)},true);cJ("firstLineNumber",1,a5,true);cJ("lineNumberFormatter",function(ek){return ek},a5,true);cJ("showCursorWhenSelecting",false,d5,true);cJ("readOnly",false,function(ek,el){if(el=="nocursor"){cx(ek);ek.display.input.blur()}else{if(!el){df(ek,true)}}});cJ("dragDrop",true);cJ("cursorBlinkRate",530);cJ("cursorScrollMargin",0);cJ("cursorHeight",1);cJ("workTime",100);cJ("workDelay",100);cJ("flattenSpans",true);cJ("pollInterval",100);cJ("undoDepth",40,function(ek,el){ek.doc.history.undoDepth=el});cJ("historyEventDelay",500);cJ("viewportMargin",10,function(ek){ek.refresh()},true);cJ("maxHighlightLength",10000,function(ek){bW(ek);ek.refresh()},true);cJ("crudeMeasuringFrom",10000);cJ("moveInputWithCursor",true,function(ek,el){if(!el){ek.display.inputDiv.style.top=ek.display.inputDiv.style.left=0}});cJ("tabindex",null,function(ek,el){ek.display.input.tabIndex=el||""});cJ("autofocus",null);var co=K.modes={},cl=K.mimeModes={};K.defineMode=function(em,el){if(!K.defaults.mode&&em!="null"){K.defaults.mode=em}if(arguments.length>2){el.dependencies=[];for(var ek=2;ek<arguments.length;++ek){el.dependencies.push(arguments[ek])}}co[em]=el};K.defineMIME=function(ek,el){cl[ek]=el};K.resolveMode=function(el){if(typeof el=="string"&&cl.hasOwnProperty(el)){el=cl[el]}else{if(el&&typeof el.name=="string"&&cl.hasOwnProperty(el.name)){var ek=cl[el.name];el=ac(ek,el);el.name=ek.name}else{if(typeof el=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(el)){return K.resolveMode("application/xml")}}}if(typeof el=="string"){return{name:el}}else{return el||{name:"null"}}};K.getMode=function(en,ep){var ep=K.resolveMode(ep);var el=co[ep.name];if(!el){return K.getMode(en,"text/plain")}var em=el(en,ep);if(cn.hasOwnProperty(ep.name)){var ek=cn[ep.name];for(var eo in ek){if(!ek.hasOwnProperty(eo)){continue}if(em.hasOwnProperty(eo)){em["_"+eo]=em[eo]}em[eo]=ek[eo]}}em.name=ep.name;return em};K.defineMode("null",function(){return{token:function(ek){ek.skipToEnd()}}});K.defineMIME("text/plain","null");var cn=K.modeExtensions={};K.extendMode=function(el,em){var ek=cn.hasOwnProperty(el)?cn[el]:(cn[el]={});Y(em,ek)};K.defineExtension=function(el,ek){K.prototype[el]=ek};K.defineDocExtension=function(el,ek){al.prototype[el]=ek};K.defineOption=cJ;var bm=[];K.defineInitHook=function(ek){bm.push(ek)};var bc=K.helpers={};K.registerHelper=function(el,ek,em){if(!bc.hasOwnProperty(el)){bc[el]=K[el]={}}bc[el][ek]=em};K.isWordChar=bv;function aa(ek,en){if(en===true){return en}if(ek.copyState){return ek.copyState(en)}var em={};for(var el in en){var eo=en[el];if(eo instanceof Array){eo=eo.concat([])}em[el]=eo}return em}K.copyState=aa;function dL(em,ek,el){return em.startState?em.startState(ek,el):true}K.startState=dL;K.innerMode=function(el,em){while(el.innerMode){var ek=el.innerMode(em);if(!ek||ek.mode==el){break}em=ek.state;el=ek.mode}return ek||{mode:el,state:em}};var O=K.commands={selectAll:function(ek){ek.setSelection(cT(ek.firstLine(),0),cT(ek.lastLine()))},killLine:function(ek){var el=ek.getCursor(true),en=ek.getCursor(false),em=!cU(el,en);if(!em&&ek.getLine(el.line).length==el.ch){ek.replaceRange("",el,cT(el.line+1,0),"+delete")}else{ek.replaceRange("",el,em?en:cT(el.line),"+delete")}},deleteLine:function(ek){var el=ek.getCursor().line;ek.replaceRange("",cT(el,0),cT(el),"+delete")},delLineLeft:function(ek){var el=ek.getCursor();ek.replaceRange("",cT(el.line,0),el,"+delete")},undo:function(ek){ek.undo()},redo:function(ek){ek.redo()},goDocStart:function(ek){ek.extendSelection(cT(ek.firstLine(),0))},goDocEnd:function(ek){ek.extendSelection(cT(ek.lastLine()))},goLineStart:function(ek){ek.extendSelection(bT(ek,ek.getCursor().line))},goLineStartSmart:function(ek){var el=ek.getCursor(),eq=bT(ek,el.line);var eo=ek.getLineHandle(eq.line);var ep=a1(eo);if(!ep||ep[0].level==0){var em=Math.max(0,eo.text.search(/\S/));var en=el.line==eq.line&&el.ch<=em&&el.ch;ek.extendSelection(cT(eq.line,en?0:em))}else{ek.extendSelection(eq)}},goLineEnd:function(ek){ek.extendSelection(bL(ek,ek.getCursor().line))},goLineRight:function(ek){var el=ek.charCoords(ek.getCursor(),"div").top+5;ek.extendSelection(ek.coordsChar({left:ek.display.lineDiv.offsetWidth+100,top:el},"div"))},goLineLeft:function(ek){var el=ek.charCoords(ek.getCursor(),"div").top+5;ek.extendSelection(ek.coordsChar({left:0,top:el},"div"))},goLineUp:function(ek){ek.moveV(-1,"line")},goLineDown:function(ek){ek.moveV(1,"line")},goPageUp:function(ek){ek.moveV(-1,"page")},goPageDown:function(ek){ek.moveV(1,"page")},goCharLeft:function(ek){ek.moveH(-1,"char")},goCharRight:function(ek){ek.moveH(1,"char")},goColumnLeft:function(ek){ek.moveH(-1,"column")},goColumnRight:function(ek){ek.moveH(1,"column")},goWordLeft:function(ek){ek.moveH(-1,"word")},goGroupRight:function(ek){ek.moveH(1,"group")},goGroupLeft:function(ek){ek.moveH(-1,"group")},goWordRight:function(ek){ek.moveH(1,"word")},delCharBefore:function(ek){ek.deleteH(-1,"char")},delCharAfter:function(ek){ek.deleteH(1,"char")},delWordBefore:function(ek){ek.deleteH(-1,"word")},delWordAfter:function(ek){ek.deleteH(1,"word")},delGroupBefore:function(ek){ek.deleteH(-1,"group")},delGroupAfter:function(ek){ek.deleteH(1,"group")},indentAuto:function(ek){ek.indentSelection("smart")},indentMore:function(ek){ek.indentSelection("add")},indentLess:function(ek){ek.indentSelection("subtract")},insertTab:function(ek){ek.replaceSelection("\t","end","+input")},defaultTab:function(ek){if(ek.somethingSelected()){ek.indentSelection("add")}else{ek.replaceSelection("\t","end","+input")}},transposeChars:function(ek){var el=ek.getCursor(),em=ek.getLine(el.line);if(el.ch>0&&el.ch<em.length-1){ek.replaceRange(em.charAt(el.ch)+em.charAt(el.ch-1),cT(el.line,el.ch-1),cT(el.line,el.ch+1))}},newlineAndIndent:function(ek){cI(ek,function(){ek.replaceSelection("\n","end","+input");ek.indentLine(ek.getCursor().line,null,true)})()},toggleOverwrite:function(ek){ek.toggleOverwrite()}};var bx=K.keyMap={};bx.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};bx.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};bx.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]};bx["default"]=bZ?bx.macDefault:bx.pcDefault;bx.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function aV(ek){if(typeof ek=="string"){return bx[ek]}else{return ek}}function bX(ep,eo,el){function en(ev){ev=aV(ev);var et=ev[ep];if(et===false){return"stop"}if(et!=null&&el(et)){return true}if(ev.nofallthrough){return"stop"}var es=ev.fallthrough;if(es==null){return false}if(Object.prototype.toString.call(es)!="[object Array]"){return en(es)}for(var eu=0,er=es.length;eu<er;++eu){var eq=en(es[eu]);if(eq){return eq}}return false}for(var em=0;em<eo.length;++em){var ek=en(eo[em]);if(ek){return ek!="stop"}}}function bt(ek){var el=bA[ek.keyCode];return el=="Ctrl"||el=="Alt"||el=="Shift"||el=="Mod"}function bz(ek,em){if(cG&&ek.keyCode==34&&ek["char"]){return false}var el=bA[ek.keyCode];if(el==null||ek.altGraphKey){return false}if(ek.altKey){el="Alt-"+el}if(aO?ek.metaKey:ek.ctrlKey){el="Ctrl-"+el}if(aO?ek.ctrlKey:ek.metaKey){el="Cmd-"+el}if(!em&&ek.shiftKey){el="Shift-"+el}return el}K.lookupKey=bX;K.isModifierKey=bt;K.keyName=bz;K.fromTextArea=function(er,eo){if(!eo){eo={}}eo.value=er.value;if(!eo.tabindex&&er.tabindex){eo.tabindex=er.tabindex}if(!eo.placeholder&&er.placeholder){eo.placeholder=er.placeholder}if(eo.autofocus==null){var en=document.body;try{en=document.activeElement}catch(el){}eo.autofocus=en==er||er.getAttribute("autofocus")!=null&&en==document.body}function eq(){er.value=ek.getValue()}if(er.form){cw(er.form,"submit",eq);if(!eo.leaveSubmitMethodAlone){var em=er.form,ep=em.submit;try{var es=em.submit=function(){eq();em.submit=ep;em.submit();em.submit=es}}catch(el){}}}er.style.display="none";var ek=K(function(et){er.parentNode.insertBefore(et,er.nextSibling)},eo);ek.save=eq;ek.getTextArea=function(){return er};ek.toTextArea=function(){eq();er.parentNode.removeChild(ek.getWrapperElement());er.style.display="";if(er.form){cv(er.form,"submit",eq);if(typeof er.form.submit=="function"){er.form.submit=ep}}};return ek};function dP(ek,el){this.pos=this.start=0;this.string=ek;this.tabSize=el||8;this.lastColumnPos=this.lastColumnValue=0}dP.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(el){var ek=this.string.charAt(this.pos);if(typeof el=="string"){var em=ek==el}else{var em=ek&&(el.test?el.test(ek):el(ek))}if(em){++this.pos;return ek}},eatWhile:function(ek){var el=this.pos;while(this.eat(ek)){}return this.pos>el},eatSpace:function(){var ek=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ek},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ek){var el=this.string.indexOf(ek,this.pos);if(el>-1){this.pos=el;return true}},backUp:function(ek){this.pos-=ek},column:function(){if(this.lastColumnPos<this.start){this.lastColumnValue=ab(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue},indentation:function(){return ab(this.string,null,this.tabSize)},match:function(eo,em,el){if(typeof eo=="string"){var ek=function(eq){return el?eq.toLowerCase():eq};var ep=this.string.substr(this.pos,eo.length);if(ek(ep)==ek(eo)){if(em!==false){this.pos+=eo.length}return true}}else{var en=this.string.slice(this.pos).match(eo);if(en&&en.index>0){return null}if(en&&em!==false){this.pos+=en[0].length}return en}},current:function(){return this.string.slice(this.start,this.pos)}};K.StringStream=dP;function dT(ek,el){this.lines=[];this.type=el;this.doc=ek}K.TextMarker=dT;aD(dT);dT.prototype.clear=function(){if(this.explicitlyCleared){return}var ek=this.doc.cm,et=ek&&!ek.curOp;if(et){dK(ek)}if(a9(this,"clear")){var el=this.find();if(el){dD(this,"clear",el.from,el.to)}}var eq=null,ep=null;for(var em=0;em<this.lines.length;++em){var eo=this.lines[em];var er=aZ(eo.markedSpans,this);if(er.to!=null){ep=bQ(eo)}eo.markedSpans=dc(eo.markedSpans,er);if(er.from!=null){eq=bQ(eo)}else{if(this.collapsed&&!bM(this.doc,eo)&&ek){d2(eo,dS(ek.display))}}}if(ek&&this.collapsed&&!ek.options.lineWrapping){for(var em=0;em<this.lines.length;++em){var es=ea(ek.doc,this.lines[em]),en=bP(ek.doc,es);if(en>ek.display.maxLineLength){ek.display.maxLine=es;ek.display.maxLineLength=en;ek.display.maxLineChanged=true}}}if(eq!=null&&ek){c7(ek,eq,ep+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(ek){c6(ek)}}if(et){az(ek)}};dT.prototype.find=function(){var el,ep;for(var em=0;em<this.lines.length;++em){var en=this.lines[em];var eo=aZ(en.markedSpans,this);if(eo.from!=null||eo.to!=null){var ek=bQ(en);if(eo.from!=null){el=cT(ek,eo.from)}if(eo.to!=null){ep=cT(ek,eo.to)}}}if(this.type=="bookmark"){return el}return el&&{from:el,to:ep}};dT.prototype.changed=function(){var en=this.find(),ek=this.doc.cm;if(!en||!ek){return}if(this.type!="bookmark"){en=en.from}var el=aW(this.doc,en.line);D(ek,el);if(en.line>=ek.display.showingFrom&&en.line<ek.display.showingTo){for(var em=ek.display.lineDiv.firstChild;em;em=em.nextSibling){if(em.lineObj==el){if(em.offsetHeight!=el.height){d2(el,em.offsetHeight)}break}}dh(ek,function(){ek.curOp.selectionChanged=ek.curOp.forceUpdate=ek.curOp.updateMaxLine=true})}};dT.prototype.attachLine=function(ek){if(!this.lines.length&&this.doc.cm){var el=this.doc.cm.curOp;if(!el.maybeHiddenMarkers||bk(el.maybeHiddenMarkers,this)==-1){(el.maybeUnhiddenMarkers||(el.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(ek)};dT.prototype.detachLine=function(ek){this.lines.splice(bk(this.lines,ek),1);if(!this.lines.length&&this.doc.cm){var el=this.doc.cm.curOp;(el.maybeHiddenMarkers||(el.maybeHiddenMarkers=[])).push(this)}};function cb(eo,ep,et,er,eu){if(er&&er.shared){return cc(eo,ep,et,er,eu)}if(eo.cm&&!eo.cm.curOp){return cI(eo.cm,cb)(eo,ep,et,er,eu)}var eq=new dT(eo,eu);if(eu=="range"&&!cX(ep,et)){return eq}if(er){Y(er,eq)}if(eq.replacedWith){eq.collapsed=true;eq.replacedWith=ax("span",[eq.replacedWith],"CodeMirror-widget");if(!er.handleMouseEvents){eq.replacedWith.ignoreEvents=true}}if(eq.collapsed){dk=true}if(eq.addToHistory){d(eo,{from:ep,to:et,origin:"markText"},{head:eo.sel.head,anchor:eo.sel.anchor},NaN)}var en=ep.line,es=0,em,el,ek=eo.cm,ev;eo.iter(en,et.line+1,function(ew){if(ek&&eq.collapsed&&!ek.options.lineWrapping&&ea(eo,ew)==ek.display.maxLine){ev=true}var ex={from:null,to:null,marker:eq};es+=ew.text.length;if(en==ep.line){ex.from=ep.ch;es-=ep.ch}if(en==et.line){ex.to=et.ch;es-=ew.text.length-et.ch}if(eq.collapsed){if(en==et.line){el=L(ew,et.ch)}if(en==ep.line){em=L(ew,ep.ch)}else{d2(ew,0)}}b(ew,ex);++en});if(eq.collapsed){eo.iter(ep.line,et.line+1,function(ew){if(bM(eo,ew)){d2(ew,0)}})}if(eq.clearOnEnter){cw(eq,"beforeCursorEnter",function(){eq.clear()})}if(eq.readOnly){dl=true;if(eo.history.done.length||eo.history.undone.length){eo.clearHistory()}}if(eq.collapsed){if(em!=el){throw new Error("Inserting collapsed marker overlapping an existing one")}eq.size=es;eq.atomic=true}if(ek){if(ev){ek.curOp.updateMaxLine=true}if(eq.className||eq.title||eq.startStyle||eq.endStyle||eq.collapsed){c7(ek,ep.line,et.line+1)}if(eq.atomic){c6(ek)}}return eq}function dz(el,en){this.markers=el;this.primary=en;for(var ek=0,em=this;ek<el.length;++ek){el[ek].parent=this;cw(el[ek],"clear",function(){em.clear()})}}K.SharedTextMarker=dz;aD(dz);dz.prototype.clear=function(){if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var ek=0;ek<this.markers.length;++ek){this.markers[ek].clear()}dD(this,"clear")};dz.prototype.find=function(){return this.primary.find()};function cc(ek,el,ep,en,eq){en=Y(en);en.shared=false;var em=[cb(ek,el,ep,en,eq)],eo=em[0];var er=en.replacedWith;bV(ek,function(es){if(er){en.replacedWith=er.cloneNode(true)}em.push(cb(es,H(es,el),H(es,ep),en,eq));for(var et=0;et<es.linked.length;++et){if(es.linked[et].isParent){return}}eo=bY(em)});return new dz(em,eo)}function aZ(en,el){if(en){for(var ek=0;ek<en.length;++ek){var em=en[ek];if(em.marker==el){return em}}}}function dc(en,em){for(var el,ek=0;ek<en.length;++ek){if(en[ek]!=em){(el||(el=[])).push(en[ek])}}return el}function b(ek,el){ek.markedSpans=ek.markedSpans?ek.markedSpans.concat([el]):[el];el.marker.attachLine(ek)}function ca(ep,er,em){if(ep){for(var el=0,eo;el<ep.length;++el){var eq=ep[el],en=eq.marker;var es=eq.from==null||(en.inclusiveLeft?eq.from<=er:eq.from<er);if(es||en.type=="bookmark"&&eq.from==er&&(!em||!eq.marker.insertLeft)){var ek=eq.to==null||(en.inclusiveRight?eq.to>=er:eq.to>er);(eo||(eo=[])).push({from:eq.from,to:ek?null:eq.to,marker:en})}}}return eo}function b9(eq,ek,en){if(eq){for(var em=0,ep;em<eq.length;++em){var er=eq[em],eo=er.marker;var el=er.to==null||(eo.inclusiveRight?er.to>=ek:er.to>ek);if(el||eo.type=="bookmark"&&er.from==ek&&(!en||er.marker.insertLeft)){var es=er.from==null||(eo.inclusiveLeft?er.from<=ek:er.from<ek);(ep||(ep=[])).push({from:es?null:er.from-ek,to:er.to==null?null:er.to-ek,marker:eo})}}}return ep}function dO(el,ek){var ew=bs(el,ek.from.line)&&aW(el,ek.from.line).markedSpans;var ex=bs(el,ek.to.line)&&aW(el,ek.to.line).markedSpans;if(!ew&&!ex){return null}var eA=ek.from.ch,em=ek.to.ch,es=cU(ek.from,ek.to);var en=ca(ew,eA,es);var et=b9(ex,em,es);var ey=ek.text.length==1,ev=bY(ek.text).length+(ey?eA:0);if(en){for(var er=0;er<en.length;++er){var ez=en[er];if(ez.to==null){var eo=aZ(et,ez.marker);if(!eo){ez.to=eA}else{if(ey){ez.to=eo.to==null?null:eo.to+ev}}}}}if(et){for(var er=0;er<et.length;++er){var ez=et[er];if(ez.to!=null){ez.to+=ev}if(ez.from==null){var eo=aZ(en,ez.marker);if(!eo){ez.from=ev;if(ey){(en||(en=[])).push(ez)}}}else{ez.from+=ev;if(ey){(en||(en=[])).push(ez)}}}}if(ey&&en){for(var er=0;er<en.length;++er){if(en[er].from!=null&&en[er].from==en[er].to&&en[er].marker.type!="bookmark"){en.splice(er--,1)}}if(!en.length){en=null}}var eu=[en];if(!ey){var ep=ek.text.length-2,eq;if(ep>0&&en){for(var er=0;er<en.length;++er){if(en[er].to==null){(eq||(eq=[])).push({from:null,to:null,marker:en[er].marker})}}}for(var er=0;er<ep;++er){eu.push(eq)}eu.push(et)}return eu}function ck(el,ek){var ep=a0(el,ek);var et=dO(el,ek);if(!ep){return et}if(!et){return ep}for(var em=0;em<ep.length;++em){var eq=ep[em],es=et[em];if(eq&&es){spans:for(var en=0;en<es.length;++en){var er=es[en];for(var eo=0;eo<eq.length;++eo){if(eq[eo].marker==er.marker){continue spans}}eq.push(er)}}else{if(es){ep[em]=es}}}return ep}function dd(ek,el,eu){var ep=null;ek.iter(el.line,eu.line+1,function(ew){if(ew.markedSpans){for(var ev=0;ev<ew.markedSpans.length;++ev){var ex=ew.markedSpans[ev].marker;if(ex.readOnly&&(!ep||bk(ep,ex)==-1)){(ep||(ep=[])).push(ex)}}}});if(!ep){return null}var et=[{from:el,to:eu}];for(var em=0;em<ep.length;++em){var eq=ep[em],eo=eq.find();for(var en=0;en<et.length;++en){var es=et[en];if(cX(es.to,eo.from)||cX(eo.to,es.from)){continue}var er=[en,1];if(cX(es.from,eo.from)||!eq.inclusiveLeft&&cU(es.from,eo.from)){er.push({from:es.from,to:eo.from})}if(cX(eo.to,es.to)||!eq.inclusiveRight&&cU(es.to,eo.to)){er.push({from:eo.to,to:es.to})}et.splice.apply(et,er);en+=er.length-1}}return et}function L(en,ek){var ep=dk&&en.markedSpans,el;if(ep){for(var eo,em=0;em<ep.length;++em){eo=ep[em];if(!eo.marker.collapsed){continue}if((eo.from==null||eo.from<ek)&&(eo.to==null||eo.to>ek)&&(!el||el.width<eo.marker.width)){el=eo.marker}}}return el}function N(ek){return L(ek,-1)}function M(ek){return L(ek,ek.text.length+1)}function ea(ek,el){var em;while(em=N(el)){el=aW(ek,em.find().from.line)}return el}function bM(ek,em){var eo=dk&&em.markedSpans;if(eo){for(var en,el=0;el<eo.length;++el){en=eo[el];if(!en.marker.collapsed){continue}if(en.from==null){return true}if(en.marker.replacedWith){continue}if(en.from==0&&en.marker.inclusiveLeft&&bN(ek,em,en)){return true}}}}function bN(ek,eo,eq){if(eq.to==null){var el=eq.marker.find().to,em=aW(ek,el.line);return bN(ek,em,aZ(em.markedSpans,eq.marker))}if(eq.marker.inclusiveRight&&eq.to==eo.text.length){return true}for(var ep,en=0;en<eo.markedSpans.length;++en){ep=eo.markedSpans[en];if(ep.marker.collapsed&&!ep.marker.replacedWith&&ep.from==eq.to&&(ep.marker.inclusiveLeft||eq.marker.inclusiveRight)&&bN(ek,eo,ep)){return true}}}function aj(el){var em=el.markedSpans;if(!em){return}for(var ek=0;ek<em.length;++ek){em[ek].marker.detachLine(el)}el.markedSpans=null}function j(el,em){if(!em){return}for(var ek=0;ek<em.length;++ek){em[ek].marker.attachLine(el)}el.markedSpans=em}var bU=K.LineWidget=function(ek,el,en){if(en){for(var em in en){if(en.hasOwnProperty(em)){this[em]=en[em]}}}this.cm=ek;this.node=el};aD(bU);function ef(ek){return function(){var em=!this.cm.curOp;if(em){dK(this.cm)}try{var el=ek.apply(this,arguments)}finally{if(em){az(this.cm)}}return el}}bU.prototype.clear=ef(function(){var en=this.line.widgets,em=bQ(this.line);if(em==null||!en){return}for(var el=0;el<en.length;++el){if(en[el]==this){en.splice(el--,1)}}if(!en.length){this.line.widgets=null}var ek=bb(this.cm,this.line)<this.cm.doc.scrollTop;d2(this.line,Math.max(0,this.line.height-ee(this)));if(ek){e(this.cm,0,-this.height)}c7(this.cm,em,em+1)});bU.prototype.changed=ef(function(){var em=this.height;this.height=null;var ek=ee(this)-em;if(!ek){return}d2(this.line,this.line.height+ek);var el=bQ(this.line);c7(this.cm,el,el+1)});function ee(ek){if(ek.height!=null){return ek.height}if(!ek.node.parentNode||ek.node.parentNode.nodeType!=1){da(ek.cm.display.measure,ax("div",[ek.node],null,"position: relative"))}return ek.height=ek.node.offsetHeight}function a(ek,el,em,en){var eo=new bU(ek,em,en);if(eo.noHScroll){ek.display.alignWidgets=true}y(ek,el,function(eq){var er=eq.widgets||(eq.widgets=[]);if(eo.insertAt==null){er.push(eo)}else{er.splice(Math.min(er.length-1,Math.max(0,eo.insertAt)),0,eo)}eo.line=eq;if(!bM(ek.doc,eq)||eo.showIfHidden){var ep=bb(ek,eq)<ek.doc.scrollTop;d2(eq,eq.height+ee(eo));if(ep){e(ek,0,eo.height)}}return true});return eo}var bI=K.Line=function(em,el,ek){this.text=em;j(this,el);this.height=ek?ek(this):1};aD(bI);function d1(em,eo,en,el){em.text=eo;if(em.stateAfter){em.stateAfter=null}if(em.styles){em.styles=null}if(em.order!=null){em.order=null}aj(em);j(em,en);var ek=el?el(em):1;if(ek!=em.height){d2(em,ek)}}function C(ek){ek.parent=null;aj(ek)}function di(ek,eu,ep,er,en){var eo=ep.flattenSpans;if(eo==null){eo=ek.options.flattenSpans}var el=0,em=null;var es=new dP(eu,ek.options.tabSize),et;if(eu==""&&ep.blankLine){ep.blankLine(er)}while(!es.eol()){if(es.pos>ek.options.maxHighlightLength){eo=false;es.pos=eu.length;et=null}else{et=ep.token(es,er)}if(!eo||em!=et){if(el<es.start){en(es.start,em)}el=es.start;em=et}es.start=es.pos}while(el<es.pos){var eq=Math.min(es.pos,el+50000);en(eq,em);el=eq}}function bd(el,en,er){var eq=[el.state.modeGen];di(el,en.text,el.doc.mode,er,function(es,et){eq.push(es,et)});for(var eo=0;eo<el.state.overlays.length;++eo){var ep=el.state.overlays[eo],em=1,ek=0;di(el,en.text,ep.mode,true,function(et,ew){var ev=em;while(ek<et){var eu=eq[em];if(eu>et){eq.splice(em,1,et,eq[em+1],eu)}em+=2;ek=Math.min(et,eu)}if(!ew){return}if(ep.opaque){eq.splice(ev,em-ev,et,ew);em=ev+2}else{for(;ev<em;ev+=2){var es=eq[ev+1];eq[ev+1]=es?es+" "+ew:ew}}})}return eq}function aY(ek,el){if(!el.styles||el.styles[0]!=ek.state.modeGen){el.styles=bd(ek,el,el.stateAfter=a3(ek,bQ(el)))}return el.styles}function cZ(ek,el,en){var em=ek.doc.mode;var eo=new dP(el.text,ek.options.tabSize);if(el.text==""&&em.blankLine){em.blankLine(en)}while(!eo.eol()&&eo.pos<=ek.options.maxHighlightLength){em.token(eo,en);eo.start=eo.pos}}var dR={};function dQ(ek){if(!ek){return null}return dR[ek]||(dR[ek]="cm-"+ek.replace(/ +/g," cm-"))}function bK(el,ew,er,em){var es,eq=ew,en=true;while(es=N(eq)){eq=aW(el.doc,es.find().from.line)}var ek={pre:ax("pre"),col:0,pos:0,measure:null,measuredSomething:false,cm:el,copyWidgets:em};if(eq.textClass){ek.pre.className=eq.textClass}do{if(eq.text){en=false}ek.measure=eq==ew&&er;ek.pos=0;ek.addToken=ek.measure?t:s;if((bg||eb)&&el.getOption("lineWrapping")){ek.addToken=u(ek.addToken)}var et=bn(eq,ek,aY(el,eq));if(er&&eq==ew&&!ek.measuredSomething){er[0]=ek.pre.appendChild(ei(el.display.measure));ek.measuredSomething=true}if(et){eq=aW(el.doc,et.to.line)}}while(et);if(er&&!ek.measuredSomething&&!er[0]){er[0]=ek.pre.appendChild(en?ax("span","\u00a0"):ei(el.display.measure))}if(!ek.pre.firstChild&&!bM(el.doc,ew)){ek.pre.appendChild(document.createTextNode("\u00a0"))}var eu;if(er&&bg&&(eu=a1(eq))){var eo=eu.length-1;if(eu[eo].from==eu[eo].to){--eo}var ep=eu[eo],ev=eu[eo-1];if(ep.from+1==ep.to&&ev&&ep.level<ev.level){var ex=er[ek.pos-1];if(ex){ex.parentNode.insertBefore(ex.measureRight=ei(el.display.measure),ex.nextSibling)}}}dB(el,"renderLine",el,ew,ek.pre);return ek.pre}var dV=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;function s(ek,ev,es,er,em,ew){if(!ev){return}if(!dV.test(ev)){ek.col+=ev.length;var el=document.createTextNode(ev)}else{var el=document.createDocumentFragment(),ep=0;while(true){dV.lastIndex=ep;var eo=dV.exec(ev);var eq=eo?eo.index-ep:ev.length-ep;if(eq){el.appendChild(document.createTextNode(ev.slice(ep,ep+eq)));ek.col+=eq}if(!eo){break}ep+=eq+1;if(eo[0]=="\t"){var et=ek.cm.options.tabSize,eu=et-ek.col%et;el.appendChild(ax("span",dG(eu),"cm-tab"));ek.col+=eu}else{var ex=ax("span","\u2022","cm-invalidchar");ex.title="\\u"+eo[0].charCodeAt(0).toString(16);el.appendChild(ex);ek.col+=1}}}if(es||er||em||ek.measure){var en=es||"";if(er){en+=er}if(em){en+=em}var ex=ax("span",[el],en);if(ew){ex.title=ew}return ek.pre.appendChild(ex)}ek.pre.appendChild(el)}function t(ek,et,es,er,em){var eu=ek.cm.options.lineWrapping;for(var en=0;en<et.length;++en){var el=et.charAt(en),eq=en==0;if(el>="\ud800"&&el<"\udbff"&&en<et.length-1){el=et.slice(en,en+2);++en}else{if(en&&eu&&dI(et,en)){ek.pre.appendChild(ax("wbr"))}}var eo=ek.measure[ek.pos];var ep=ek.measure[ek.pos]=s(ek,el,es,eq&&er,en==et.length-1&&em);if(eo){ep.leftSide=eo.leftSide||eo}if(bg&&eu&&el==" "&&en&&!/\s/.test(et.charAt(en-1))&&en<et.length-1&&!/\s/.test(et.charAt(en+1))){ep.style.whiteSpace="normal"}ek.pos+=el.length}if(et.length){ek.measuredSomething=true}}function u(ek){function el(en){var eo=" ";for(var em=0;em<en.length-2;++em){eo+=em%2?" ":"\u00a0"}eo+=" ";return eo}return function(em,eq,ep,eo,en,er){return ek(em,eq.replace(/ {3,}/,el),ep,eo,en,er)}}function q(ek,eo,en,em){var ep=!em&&en.replacedWith;if(ep){if(ek.copyWidgets){ep=ep.cloneNode(true)}ek.pre.appendChild(ep);if(ek.measure){if(eo){ek.measure[ek.pos]=ep}else{var el=ei(ek.cm.display.measure);if(en.type=="bookmark"&&!en.insertLeft){ek.measure[ek.pos]=ek.pre.appendChild(el)}else{if(ek.measure[ek.pos]){return}else{ek.measure[ek.pos]=ek.pre.insertBefore(el,ep)}}}ek.measuredSomething=true}}ek.pos+=eo}function bn(et,em,eD){var ez=et.markedSpans,ek=et.text,el=0;if(!ez){for(var eq=1;eq<eD.length;eq+=2){em.addToken(em,ek.slice(el,el=eD[eq]),dQ(eD[eq+1]))}return}var es=ek.length,ew=0,eq=1,eE="",eC;var ev=0,eB,ey,eA,eF,en;for(;;){if(ev==ew){eB=ey=eA=eF="";en=null;ev=Infinity;var ep=[];for(var er=0;er<ez.length;++er){var ex=ez[er],eu=ex.marker;if(ex.from<=ew&&(ex.to==null||ex.to>ew)){if(ex.to!=null&&ev>ex.to){ev=ex.to;ey=""}if(eu.className){eB+=" "+eu.className}if(eu.startStyle&&ex.from==ew){eA+=" "+eu.startStyle}if(eu.endStyle&&ex.to==ev){ey+=" "+eu.endStyle}if(eu.title&&!eF){eF=eu.title}if(eu.collapsed&&(!en||en.marker.size<eu.size)){en=ex}}else{if(ex.from>ew&&ev>ex.from){ev=ex.from}}if(eu.type=="bookmark"&&ex.from==ew&&eu.replacedWith){ep.push(eu)}}if(en&&(en.from||0)==ew){q(em,(en.to==null?es:en.to)-ew,en.marker,en.from==null);if(en.to==null){return en.marker.find()}}if(!en&&ep.length){for(var er=0;er<ep.length;++er){q(em,0,ep[er])}}}if(ew>=es){break}var eH=Math.min(es,ev);while(true){if(eE){var eo=ew+eE.length;if(!en){var eG=eo>eH?eE.slice(0,eH-ew):eE;em.addToken(em,eG,eC?eC+eB:eB,eA,ew+eG.length==ev?ey:"",eF)}if(eo>=eH){eE=eE.slice(eH-ew);ew=eH;break}ew=eo;eA=""}eE=ek.slice(el,el=eD[eq++]);eC=dQ(eD[eq++])}}}function dY(em,el,ev,ex,eo){function ey(eC){return ev?ev[eC]:null}function eB(eC,eE,eD){d1(eC,eE,eD,eo);dD(eC,"change",eC,el)}var eq=el.from,eA=el.to,ez=el.text;var ep=aW(em,eq.line),es=aW(em,eA.line);var eu=bY(ez),et=ey(ez.length-1),ew=eA.line-eq.line;if(eq.ch==0&&eA.ch==0&&eu==""){for(var er=0,en=ez.length-1,ek=[];er<en;++er){ek.push(new bI(ez[er],ey(er),eo))}eB(es,es.text,et);if(ew){em.remove(eq.line,ew)}if(ek.length){em.insert(eq.line,ek)}}else{if(ep==es){if(ez.length==1){eB(ep,ep.text.slice(0,eq.ch)+eu+ep.text.slice(eA.ch),et)}else{for(var ek=[],er=1,en=ez.length-1;er<en;++er){ek.push(new bI(ez[er],ey(er),eo))}ek.push(new bI(eu+ep.text.slice(eA.ch),et,eo));eB(ep,ep.text.slice(0,eq.ch)+ez[0],ey(0));em.insert(eq.line+1,ek)}}else{if(ez.length==1){eB(ep,ep.text.slice(0,eq.ch)+ez[0]+es.text.slice(eA.ch),ey(0));em.remove(eq.line+1,ew)}else{eB(ep,ep.text.slice(0,eq.ch)+ez[0],ey(0));eB(es,eu+es.text.slice(eA.ch),et);for(var er=1,en=ez.length-1,ek=[];er<en;++er){ek.push(new bI(ez[er],ey(er),eo))}if(ew>1){em.remove(eq.line+1,ew-1)}em.insert(eq.line+1,ek)}}}dD(em,"change",em,el);dx(em,ex.anchor,ex.head,null,true)}function bH(en){this.lines=en;this.parent=null;for(var em=0,ek=en.length,el=0;em<ek;++em){en[em].parent=this;el+=en[em].height}this.height=el}bH.prototype={chunkSize:function(){return this.lines.length},removeInner:function(ek,eo){for(var em=ek,el=ek+eo;em<el;++em){var en=this.lines[em];this.height-=en.height;C(en);dD(en,"delete")}this.lines.splice(ek,eo)},collapse:function(ek){ek.splice.apply(ek,[ek.length,0].concat(this.lines))},insertInner:function(ek,eo,em){this.height+=em;this.lines=this.lines.slice(0,ek).concat(eo).concat(this.lines.slice(ek));for(var en=0,el=eo.length;en<el;++en){eo[en].parent=this}},iterN:function(ek,em,en){for(var el=ek+em;ek<el;++ek){if(en(this.lines[ek])){return true}}}};function p(el){this.children=el;var ep=0,en=0;for(var eo=0,em=el.length;eo<em;++eo){var ek=el[eo];ep+=ek.chunkSize();en+=ek.height;ek.parent=this}this.size=ep;this.height=en;this.parent=null}p.prototype={chunkSize:function(){return this.size},removeInner:function(ek,eo){this.size-=eo;for(var em=0;em<this.children.length;++em){var el=this.children[em],er=el.chunkSize();if(ek<er){var eq=Math.min(eo,er-ek),ep=el.height;el.removeInner(ek,eq);this.height-=ep-el.height;if(er==eq){this.children.splice(em--,1);el.parent=null}if((eo-=eq)==0){break}ek=0}else{ek-=er}}if(this.size-eo<25){var en=[];this.collapse(en);this.children=[new bH(en)];this.children[0].parent=this}},collapse:function(em){for(var el=0,ek=this.children.length;el<ek;++el){this.children[el].collapse(em)}},insertInner:function(ek,ep,en){this.size+=ep.length;this.height+=en;for(var eo=0,em=this.children.length;eo<em;++eo){var el=this.children[eo],es=el.chunkSize();if(ek<=es){el.insertInner(ek,ep,en);if(el.lines&&el.lines.length>50){while(el.lines.length>50){var er=el.lines.splice(el.lines.length-25,25);var eq=new bH(er);el.height-=eq.height;this.children.splice(eo+1,0,eq);eq.parent=this}this.maybeSpill()}break}ek-=es}},maybeSpill:function(){if(this.children.length<=10){return}var el=this;do{var eo=el.children.splice(el.children.length-5,5);var en=new p(eo);if(!el.parent){var ek=new p(el.children);ek.parent=el;el.children=[ek,en];el=ek}else{el.size-=en.size;el.height-=en.height;var em=bk(el.parent.children,el);el.parent.children.splice(em+1,0,en)}en.parent=el.parent}while(el.children.length>10);el.parent.maybeSpill()},iterN:function(ek,eo,ep){for(var en=0,em=this.children.length;en<em;++en){var el=this.children[en],eq=el.chunkSize();if(ek<eq){var er=Math.min(eo,eq-ek);if(el.iterN(ek,er,ep)){return true}if((eo-=er)==0){break}ek=0}else{ek-=eq}}}};var cs=0;var al=K.Doc=function(en,el,ek){if(!(this instanceof al)){return new al(en,el,ek)}if(ek==null){ek=0}p.call(this,[new bH([new bI("",null)])]);this.first=ek;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.history=b8();this.cleanGeneration=1;this.frontier=ek;var em=cT(ek,0);this.sel={from:em,to:em,head:em,anchor:em,shift:false,extend:false,goalColumn:null};this.id=++cs;this.modeOption=el;if(typeof en=="string"){en=dJ(en)}dY(this,{from:em,to:em,text:en},null,{head:em,anchor:em})};al.prototype=ac(p.prototype,{constructor:al,iter:function(ek,em,el){if(el){this.iterN(ek-this.first,em-ek,el)}else{this.iterN(this.first,this.first+this.size,ek)}},insert:function(ek,eo){var em=0;for(var en=0,el=eo.length;en<el;++en){em+=eo[en].height}this.insertInner(ek-this.first,eo,em)},remove:function(ek,el){this.removeInner(ek-this.first,el)},getValue:function(el){var ek=aX(this,this.first,this.first+this.size);if(el===false){return ek}return ek.join(el||"\n")},setValue:function(ek){var em=cT(this.first,0),el=this.first+this.size-1;b2(this,{from:em,to:cT(el,aW(this,el).text.length),text:dJ(ek),origin:"setValue"},{head:em,anchor:em},true)},replaceRange:function(ek,el,en,em){el=H(this,el);en=en?H(this,en):el;de(this,ek,el,en,em)},getRange:function(ek,en,em){var el=aS(this,H(this,ek),H(this,en));if(em===false){return el}return el.join(em||"\n")},getLine:function(el){var ek=this.getLineHandle(el);return ek&&ek.text},setLine:function(ek,el){if(bs(this,ek)){de(this,el,cT(ek,0),H(this,cT(ek)))}},removeLine:function(ek){if(ek){de(this,"",H(this,cT(ek-1)),H(this,cT(ek)))}else{de(this,"",cT(0,0),H(this,cT(1,0)))}},getLineHandle:function(ek){if(bs(this,ek)){return aW(this,ek)}},getLineNumber:function(ek){return bQ(ek)},getLineHandleVisualStart:function(ek){if(typeof ek=="number"){ek=aW(this,ek)}return ea(this,ek)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(ek){return H(this,ek)},getCursor:function(em){var el=this.sel,ek;if(em==null||em=="head"){ek=el.head}else{if(em=="anchor"){ek=el.anchor}else{if(em=="end"||em===false){ek=el.to}else{ek=el.from}}}return Z(ek)},somethingSelected:function(){return !cU(this.sel.head,this.sel.anchor)},setCursor:am(function(em,ek,el){var en=H(this,typeof em=="number"?cT(em,ek||0):em);if(el){aE(this,en)}else{dx(this,en,en)}}),setSelection:am(function(ek,em,el){dx(this,H(this,ek),H(this,em||ek),el)}),extendSelection:am(function(el,em,ek){aE(this,H(this,el),em&&H(this,em),ek)}),getSelection:function(ek){return this.getRange(this.sel.from,this.sel.to,ek)},replaceSelection:function(ek,el,em){b2(this,{from:this.sel.from,to:this.sel.to,text:dJ(ek),origin:em},el||"around")},undo:am(function(){b3(this,"undo")}),redo:am(function(){b3(this,"redo")}),setExtending:function(ek){this.sel.extend=ek},historySize:function(){var ek=this.history;return{undo:ek.done.length,redo:ek.undone.length}},clearHistory:function(){this.history=b8(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){this.history.lastOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(ek){return this.history.generation==(ek||this.cleanGeneration)},getHistory:function(){return{done:X(this.history.done),undone:X(this.history.undone)}},setHistory:function(el){var ek=this.history=b8(this.history.maxGeneration);ek.done=el.done.slice(0);ek.undone=el.undone.slice(0)},markText:function(ek,em,el){return cb(this,H(this,ek),H(this,em),el,"range")},setBookmark:function(el,ek){var em={replacedWith:ek&&(ek.nodeType==null?ek.widget:ek),insertLeft:ek&&ek.insertLeft};el=H(this,el);return cb(this,el,el,em,"bookmark")},findMarksAt:function(em){em=H(this,em);var el=[],eo=aW(this,em.line).markedSpans;if(eo){for(var ek=0;ek<eo.length;++ek){var en=eo[ek];if((en.from==null||en.from<=em.ch)&&(en.to==null||en.to>=em.ch)){el.push(en.marker.parent||en.marker)}}}return el},getAllMarks:function(){var ek=[];this.iter(function(em){var en=em.markedSpans;if(en){for(var el=0;el<en.length;++el){if(en[el].from!=null){ek.push(en[el].marker)}}}});return ek},posFromIndex:function(em){var ek,el=this.first;this.iter(function(en){var eo=en.text.length+1;if(eo>em){ek=em;return true}em-=eo;++el});return H(this,cT(el,ek))},indexFromPos:function(ek){ek=H(this,ek);var el=ek.ch;if(ek.line<this.first||ek.ch<0){return 0}this.iter(this.first,ek.line,function(em){el+=em.text.length+1});return el},copy:function(ek){var el=new al(aX(this,this.first,this.first+this.size),this.modeOption,this.first);el.scrollTop=this.scrollTop;el.scrollLeft=this.scrollLeft;el.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:false,goalColumn:this.sel.goalColumn};if(ek){el.history.undoDepth=this.history.undoDepth;el.setHistory(this.getHistory())}return el},linkedDoc:function(em){if(!em){em={}}var el=this.first,en=this.first+this.size;if(em.from!=null&&em.from>el){el=em.from}if(em.to!=null&&em.to<en){en=em.to}var ek=new al(aX(this,el,en),em.mode||this.modeOption,el);if(em.sharedHist){ek.history=this.history}(this.linked||(this.linked=[])).push({doc:ek,sharedHist:em.sharedHist});ek.linked=[{doc:this,isParent:true,sharedHist:em.sharedHist}];return ek},unlinkDoc:function(em){if(em instanceof K){em=em.doc}if(this.linked){for(var ek=0;ek<this.linked.length;++ek){var el=this.linked[ek];if(el.doc!=em){continue}this.linked.splice(ek,1);em.unlinkDoc(this);break}}if(em.history==this.history){var en=[em.id];bV(em,function(eo){en.push(eo.id)},true);em.history=b8();em.history.done=X(this.history.done,en);em.history.undone=X(this.history.undone,en)}},iterLinkedDocs:function(ek){bV(this,ek)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});al.prototype.eachLine=al.prototype.iter;var ao="iter insert remove copy getEditor".split(" ");for(var c0 in al.prototype){if(al.prototype.hasOwnProperty(c0)&&bk(ao,c0)<0){K.prototype[c0]=(function(ek){return function(){return ek.apply(this.doc,arguments)}})(al.prototype[c0])}}aD(al);function bV(ek,el,en){function em(eo,et,es){if(eo.linked){for(var ep=0;ep<eo.linked.length;++ep){var eq=eo.linked[ep];if(eq.doc==et){continue}var er=es&&eq.sharedHist;if(en&&!er){continue}el(eq.doc,er);em(eq.doc,eo,er)}}}em(ek,null,true)}function h(ek,el){if(el.cm){throw new Error("This document is already in use.")}ek.doc=el;el.cm=ek;aB(ek);bW(ek);if(!ek.options.lineWrapping){S(ek)}ek.options.mode=el.modeOption;c7(ek)}function aW(el,en){en-=el.first;while(!el.lines){for(var em=0;;++em){var ek=el.children[em],eo=ek.chunkSize();if(en<eo){el=ek;break}en-=eo}}return el.lines[en]}function aS(ek,eo,el){var en=[],em=eo.line;ek.iter(eo.line,el.line+1,function(ep){var eq=ep.text;if(em==el.line){eq=eq.slice(0,el.ch)}if(em==eo.line){eq=eq.slice(eo.ch)}en.push(eq);++em});return en}function aX(ek,el,en){var em=[];ek.iter(el,en,function(eo){em.push(eo.text)});return em}function d2(em,el){var ek=el-em.height;for(var en=em;en;en=en.parent){en.height+=ek}}function bQ(en){if(en.parent==null){return null}var el=en.parent,eo=bk(el.lines,en);for(var ek=el.parent;ek;el=ek,ek=ek.parent){for(var em=0;;++em){if(ek.children[em]==el){break}eo+=ek.children[em].chunkSize()}}return eo+el.first}function bJ(em,eo){var es=em.first;outer:do{for(var ep=0,en=em.children.length;ep<en;++ep){var el=em.children[ep],ek=el.height;if(eo<ek){em=el;continue outer}eo-=ek;es+=el.chunkSize()}return es}while(!em.lines);for(var ep=0,en=em.lines.length;ep<en;++ep){var er=em.lines[ep],eq=er.height;if(eo<eq){break}eo-=eq}return es+ep}function bb(el,eq){eq=ea(el.doc,eq);var en=0,ek=eq.parent;for(var eo=0;eo<ek.lines.length;++eo){var ep=ek.lines[eo];if(ep==eq){break}else{en+=ep.height}}for(var er=ek.parent;er;ek=er,er=ek.parent){for(var eo=0;eo<er.children.length;++eo){var em=er.children[eo];if(em==ek){break}else{en+=em.height}}}return en}function a1(ek){var el=ek.order;if(el==null){el=ek.order=l(ek.text)}return el}function b8(ek){return{done:[],undone:[],undoDepth:Infinity,lastTime:0,lastOp:null,lastOrigin:null,generation:ek||1,maxGeneration:ek||1}}function i(el,ek,en,ep){var em=ek["spans_"+el.id],eo=0;el.iter(Math.max(el.first,en),Math.min(el.first+el.size,ep),function(eq){if(eq.markedSpans){(em||(em=ek["spans_"+el.id]={}))[eo]=eq.markedSpans}++eo})}function bf(el,ek){var em={line:ek.from.line,ch:ek.from.ch};var en={from:em,to:x(ek),text:aS(el,ek.from,ek.to)};i(el,en,ek.from.line,ek.to.line+1);bV(el,function(eo){i(eo,en,ek.from.line,ek.to.line+1)},true);return en}function d(em,ek,eq,ep){var en=em.history;en.undone.length=0;var er=+new Date,el=bY(en.done);if(el&&(en.lastOp==ep||en.lastOrigin==ek.origin&&ek.origin&&((ek.origin.charAt(0)=="+"&&em.cm&&en.lastTime>er-em.cm.options.historyEventDelay)||ek.origin.charAt(0)=="*"))){var eo=bY(el.changes);if(cU(ek.from,ek.to)&&cU(ek.from,eo.to)){eo.to=x(ek)}else{el.changes.push(bf(em,ek))}el.anchorAfter=eq.anchor;el.headAfter=eq.head}else{el={changes:[bf(em,ek)],generation:en.generation,anchorBefore:em.sel.anchor,headBefore:em.sel.head,anchorAfter:eq.anchor,headAfter:eq.head};en.done.push(el);en.generation=++en.maxGeneration;while(en.done.length>en.undoDepth){en.done.shift()}}en.lastTime=er;en.lastOp=ep;en.lastOrigin=ek.origin}function db(em){if(!em){return null}for(var ek=0,el;ek<em.length;++ek){if(em[ek].marker.explicitlyCleared){if(!el){el=em.slice(0,ek)}}else{if(el){el.push(em[ek])}}}return !el?em:el.length?el:null}function a0(el,ek){var em=ek["spans_"+el.id];if(!em){return null}for(var en=0,eo=[];en<ek.text.length;++en){eo.push(db(em[en]))}return eo}function X(eo,et){for(var ep=0,em=[];ep<eo.length;++ep){var en=eo[ep],el=en.changes,es=[];em.push({changes:es,anchorBefore:en.anchorBefore,headBefore:en.headBefore,anchorAfter:en.anchorAfter,headAfter:en.headAfter});for(var eq=0;eq<el.length;++eq){var ek=el[eq],er;es.push({from:ek.from,to:ek.to,text:ek.text});if(et){for(var eu in ek){if(er=eu.match(/^spans_(\d+)$/)){if(bk(et,Number(er[1]))>-1){bY(es)[eu]=ek[eu];delete ek[eu]}}}}}}return em}function c5(em,el,en,ek){if(en<em.line){em.line+=ek}else{if(el<em.line){em.line=el;em.ch=0}}}function c4(ek,en,es,em){for(var eo=0;eo<ek.length;++eo){var er=ek[eo],eq=true;for(var ep=0;ep<er.changes.length;++ep){var el=er.changes[ep];if(!er.copied){el.from=Z(el.from);el.to=Z(el.to)}if(es<el.from.line){el.from.line+=em;el.to.line+=em}else{if(en<=el.to.line){eq=false;break}}}if(!er.copied){er.anchorBefore=Z(er.anchorBefore);er.headBefore=Z(er.headBefore);er.anchorAfter=Z(er.anchorAfter);er.readAfter=Z(er.headAfter);er.copied=true}if(!eq){ek.splice(0,eo+1);eo=0}else{c5(er.anchorBefore);c5(er.headBefore);c5(er.anchorAfter);c5(er.headAfter)}}}function c3(en,ek){var em=ek.from.line,eo=ek.to.line,el=ek.text.length-(eo-em)-1;c4(en.done,em,eo,el);c4(en.undone,em,eo,el)}function dN(){au(this)}function c(ek){if(!ek.stop){ek.stop=dN}return ek}function at(ek){if(ek.preventDefault){ek.preventDefault()}else{ek.returnValue=false}}function av(ek){if(ek.stopPropagation){ek.stopPropagation()}else{ek.cancelBubble=true}}function ar(ek){return ek.defaultPrevented!=null?ek.defaultPrevented:ek.returnValue==false}function au(ek){at(ek);av(ek)}K.e_stop=au;K.e_preventDefault=at;K.e_stopPropagation=av;function aw(ek){return ek.target||ek.srcElement}function aq(el){var ek=el.which;if(ek==null){if(el.button&1){ek=1}else{if(el.button&2){ek=3}else{if(el.button&4){ek=2}}}}if(bZ&&el.ctrlKey&&ek==1){ek=3}return ek}function cw(el,eo,em){if(el.addEventListener){el.addEventListener(eo,em,false)}else{if(el.attachEvent){el.attachEvent("on"+eo,em)}else{var en=el._handlers||(el._handlers={});var ek=en[eo]||(en[eo]=[]);ek.push(em)}}}function cv(el,eo,em){if(el.removeEventListener){el.removeEventListener(eo,em,false)}else{if(el.detachEvent){el.detachEvent("on"+eo,em)}else{var ek=el._handlers&&el._handlers[eo];if(!ek){return}for(var en=0;en<ek.length;++en){if(ek[en]==em){ek.splice(en,1);break}}}}}function dB(em,eo){var el=em._handlers&&em._handlers[eo];if(!el){return}var ek=Array.prototype.slice.call(arguments,2);for(var en=0;en<el.length;++en){el[en].apply(null,ek)}}var ai,ah=0;function dD(en,ep){var el=en._handlers&&en._handlers[ep];if(!el){return}var ek=Array.prototype.slice.call(arguments,2);if(!ai){++ah;ai=[];setTimeout(aN,0)}function em(eq){return function(){eq.apply(null,ek)}}for(var eo=0;eo<el.length;++eo){ai.push(em(el[eo]))}}function dC(ek,el,em){dB(ek,em||el.type,ek,el);return ar(el)||el.codemirrorIgnore}function aN(){--ah;var ek=ai;ai=null;for(var el=0;el<ek.length;++el){ek[el]()}}function a9(el,em){var ek=el._handlers&&el._handlers[em];return ek&&ek.length>0}K.on=cw;K.off=cv;K.signal=dB;function aD(ek){ek.prototype.on=function(em,el){cw(this,em,el)};ek.prototype.off=function(em,el){cv(this,em,el)}}var dp=30;var cQ=K.Pass={toString:function(){return"CodeMirror.Pass"}};function ag(){this.id=null}ag.prototype={set:function(el,ek){clearTimeout(this.id);this.id=setTimeout(ek,el)}};function ab(ep,ek,eq,en,eo){if(ek==null){ek=ep.search(/[^\s\u00a0]/);if(ek==-1){ek=ep.length}}for(var el=en||0,em=eo||0;el<ek;++el){if(ep.charAt(el)=="\t"){em+=eq-(em%eq)}else{++em}}return em}K.countColumn=ab;var dH=[""];function dG(ek){while(dH.length<=ek){dH.push(bY(dH)+" ")}return dH[ek]}function bY(ek){return ek[ek.length-1]}function ds(el){if(bp){el.selectionStart=0;el.selectionEnd=el.value.length}else{try{el.select()}catch(ek){}}}function bk(ek,em){if(ek.indexOf){return ek.indexOf(em)}for(var en=0,el=ek.length;en<el;++en){if(ek[en]==em){return en}}return -1}function ac(ek,en){function em(){}em.prototype=ek;var el=new em();if(en){Y(en,el)}return el}function Y(ek,em){if(!em){em={}}for(var el in ek){if(ek.hasOwnProperty(el)){em[el]=ek[el]}}return em}function ay(em){for(var ek=[],el=0;el<em;++el){ek.push(undefined)}return ek}function o(el){var ek=Array.prototype.slice.call(arguments,1);return function(){return el.apply(null,ek)}}var cu=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bv(ek){return/\w/.test(ek)||ek>"\x80"&&(ek.toUpperCase()!=ek.toLowerCase()||cu.test(ek))}function bq(el){for(var ek in el){if(el.hasOwnProperty(ek)&&el[ek]){return false}}return true}var br=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;function ax(ep,el,ek,eo){var em=document.createElement(ep);if(ek){em.className=ek}if(eo){em.style.cssText=eo}if(typeof el=="string"){dy(em,el)}else{if(el){for(var en=0;en<el.length;++en){em.appendChild(el[en])}}}return em}function c9(el){for(var ek=el.childNodes.length;ek>0;--ek){el.removeChild(el.firstChild)}return el}function da(el,ek){return c9(el).appendChild(ek)}function dy(ek,el){if(bi){ek.innerHTML="";ek.appendChild(document.createTextNode(el))}else{ek.textContent=el}}function a2(ek){return ek.getBoundingClientRect()}K.replaceGetRect=function(ek){a2=ek};var ap=function(){if(bi){return false}var ek=ax("div");return"draggable" in ek||"dragDrop" in ek}();function dI(){return false}if(aR){dI=function(el,ek){return el.charCodeAt(ek-1)==36&&el.charCodeAt(ek)==39}}else{if(dj&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)){dI=function(el,ek){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(el.slice(ek-1,ek+1))}}else{if(eb&&/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)){dI=function(em,el){var ek=em.charCodeAt(el-1);return ek>=8208&&ek<=8212}}else{if(eb){dI=function(el,ek){if(ek>1&&el.charCodeAt(ek-1)==45){if(/\w/.test(el.charAt(ek-2))&&/[^\-?\.]/.test(el.charAt(ek))){return true}if(ek>2&&/[\d\.,]/.test(el.charAt(ek-2))&&/[\d\.,]/.test(el.charAt(ek))){return false}}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|[\w~`@#$%\^&*(_=+{[><]/.test(el.slice(ek-1,ek+1))}}}}}var bC;function dm(ek){if(bC!=null){return bC}var el=ax("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");da(ek,el);if(el.offsetWidth){bC=el.offsetHeight-el.clientHeight}return bC||0}var ej;function ei(ek){if(ej==null){var el=ax("span","\u200b");da(ek,ax("span",[el,document.createTextNode("x")]));if(ek.firstChild.offsetHeight!=0){ej=el.offsetWidth<=1&&el.offsetHeight>2&&!bh}}if(ej){return ax("span","\u200b")}else{return ax("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}}var dJ="\n\nb".split(/\n/).length!=3?function(eq){var en=0,eo=[],ek=eq.length;while(en<=ek){var em=eq.indexOf("\n",en);if(em==-1){em=eq.length}var el=eq.slice(en,eq.charAt(em-1)=="\r"?em-1:em);var ep=el.indexOf("\r");if(ep!=-1){eo.push(el.slice(0,ep));en+=ep+1}else{eo.push(el);en=em+1}}return eo}:function(ek){return ek.split(/\r\n?|\n/)};K.splitLines=dJ;var ba=window.getSelection?function(el){try{return el.selectionStart!=el.selectionEnd}catch(ek){return false}}:function(em){try{var el=em.ownerDocument.selection.createRange()}catch(ek){}if(!el||el.parentElement()!=em){return false}return el.compareEndPoints("StartToEnd",el)!=0};var a8=(function(){var ek=ax("div");if("oncopy" in ek){return true}ek.setAttribute("oncopy","return;");return typeof ek.oncopy=="function"})();var bA={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};K.keyNames=bA;(function(){for(var ek=0;ek<10;ek++){bA[ek+48]=String(ek)}for(var ek=65;ek<=90;ek++){bA[ek]=String.fromCharCode(ek)}for(var ek=1;ek<=12;ek++){bA[ek+111]=bA[ek+63235]="F"+ek}})();function bw(eo,em,eq,ek){if(!eo){return ek(em,eq,"ltr")}var el=false;for(var en=0;en<eo.length;++en){var ep=eo[en];if(ep.from<eq&&ep.to>em||em==eq&&ep.to==em){ek(Math.max(ep.from,em),Math.min(ep.to,eq),ep.level==1?"rtl":"ltr");el=true}}if(!el){ek(em,eq,"ltr")}}function k(ek){return ek.level%2?ek.to:ek.from}function n(ek){return ek.level%2?ek.from:ek.to}function bO(ek){var el=a1(ek);return el?k(el[0]):0}function bS(ek){var el=a1(ek);if(!el){return ek.text.length}return n(bY(el))}function bT(el,en){var em=aW(el.doc,en);var ep=ea(el.doc,em);if(ep!=em){en=bQ(ep)}var eo=a1(ep);var ek=!eo?0:eo[0].level%2?bS(ep):bO(ep);return cT(en,ek)}function bL(el,en){var eo,em;while(eo=M(em=aW(el.doc,en))){en=eo.find().to.line}var ep=a1(em);var ek=!ep?em.text.length:ep[0].level%2?bO(em):bS(em);return cT(en,ek)}function P(en,ek,el){var em=en[0].level;if(ek==em){return true}if(el==em){return false}return ek<el}var m;function aT(en,eo){for(var em=0,el;em<en.length;++em){var ek=en[em];if(ek.from<eo&&ek.to>eo){m=null;return em}if(ek.from==eo||ek.to==eo){if(el==null){el=em}else{if(P(en,ek.level,en[el].level)){m=el;return em}else{m=em;return el}}}}m=null;return el}function cp(em,en,el,ek){if(!ek){return en+el}do{en+=el}while(en>0&&br.test(em.text.charAt(en)));return en}function cr(en,eq,em,el){var ek=a1(en);if(!ek){return cq(en,eq,em,el)}var ep=aT(ek,eq),eo=ek[ep];var er=cp(en,eq,eo.level%2?-em:em,el);for(;;){if(er>eo.from&&er<eo.to){return er}if(er==eo.from||er==eo.to){if(aT(ek,er)==ep){return er}eo=ek[ep+=em];return(em>0)==eo.level%2?eo.to:eo.from}else{eo=ek[ep+=em];if(!eo){return null}if((em>0)==eo.level%2){er=cp(en,eo.to,-1,el)}else{er=cp(en,eo.from,1,el)}}}}function cq(em,en,el,ek){var eo=en+el;if(ek){while(eo>0&&br.test(em.text.charAt(eo))){eo+=el}}return eo<0||eo>em.text.length?null:eo}var l=(function(){var er="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL";var ek="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr";function em(et){if(et<=255){return er.charAt(et)}else{if(1424<=et&&et<=1524){return"R"}else{if(1536<=et&&et<=1791){return ek.charAt(et-1536)}else{if(1792<=et&&et<=2220){return"r"}else{return"L"}}}}}var el=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var ep=/[stwN]/,eq=/[LRr]/,en=/[Lb1n]/,eo=/[1n]/;var es="L";return function(eI){if(!el.test(eI)){return false}var eA=eI.length,eK=[];for(var ey=0,eJ;ey<eA;++ey){eK.push(eJ=em(eI.charCodeAt(ey)))}for(var ey=0,eF=es;ey<eA;++ey){var eJ=eK[ey];if(eJ=="m"){eK[ey]=eF}else{eF=eJ}}for(var ey=0,ew=es;ey<eA;++ey){var eJ=eK[ey];if(eJ=="1"&&ew=="r"){eK[ey]="n"}else{if(eq.test(eJ)){ew=eJ;if(eJ=="r"){eK[ey]="R"}}}}for(var ey=1,eF=eK[0];ey<eA-1;++ey){var eJ=eK[ey];if(eJ=="+"&&eF=="1"&&eK[ey+1]=="1"){eK[ey]="1"}else{if(eJ==","&&eF==eK[ey+1]&&(eF=="1"||eF=="n")){eK[ey]=eF}}eF=eJ}for(var ey=0;ey<eA;++ey){var eJ=eK[ey];if(eJ==","){eK[ey]="N"}else{if(eJ=="%"){for(var ex=ey+1;ex<eA&&eK[ex]=="%";++ex){}var eG=(ey&&eK[ey-1]=="!")||(ex<eA-1&&eK[ex]=="1")?"1":"N";for(var ez=ey;ez<ex;++ez){eK[ez]=eG}ey=ex-1}}}for(var ey=0,ew=es;ey<eA;++ey){var eJ=eK[ey];if(ew=="L"&&eJ=="1"){eK[ey]="L"}else{if(eq.test(eJ)){ew=eJ}}}for(var ey=0;ey<eA;++ey){if(ep.test(eK[ey])){for(var ex=ey+1;ex<eA&&ep.test(eK[ex]);++ex){}var ev=(ey?eK[ey-1]:es)=="L";var et=(ex<eA-1?eK[ex]:es)=="L";var eG=ev||et?"L":"R";for(var ez=ey;ez<ex;++ez){eK[ez]=eG}ey=ex-1}}var eD=[],eB;for(var ey=0;ey<eA;){if(en.test(eK[ey])){var eH=ey;for(++ey;ey<eA&&en.test(eK[ey]);++ey){}eD.push({from:eH,to:ey,level:0})}else{var eE=ey,eu=eD.length;for(++ey;ey<eA&&eK[ey]!="L";++ey){}for(var ez=eE;ez<ey;){if(eo.test(eK[ez])){if(eE<ez){eD.splice(eu,0,{from:eE,to:ez,level:1})}var eC=ez;for(++ez;ez<ey&&eo.test(eK[ez]);++ez){}eD.splice(eu,0,{from:eC,to:ez,level:2});eE=ez}else{++ez}}if(eE<ey){eD.splice(eu,0,{from:eE,to:ey,level:1})}}}if(eD[0].level==1&&(eB=eI.match(/^\s+/))){eD[0].from=eB[0].length;eD.unshift({from:0,to:eB[0].length,level:0})}if(bY(eD).level==1&&(eB=eI.match(/\s+$/))){bY(eD).to-=eB[0].length;eD.push({from:eA-eB[0].length,to:eA,level:0})}if(eD[0].level!=bY(eD).level){eD.push({from:eA,to:eA,level:eD[0].level})}return eD}})();K.version="3.16.1";return K})();