(function(b){if(typeof exports==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define(b)}else{var c;try{c=window}catch(a){c=self}c.SparkMD5=b()}}}(function(q){var a=function(r,s){return(r+s)&4294967295},b=function(v,r,u,z,w,y){r=a(a(r,v),a(z,y));return a((r<<w)|(r>>>(32-w)),u)},c=function(r,u,v,w,A,y,z){return b((u&v)|((~u)&w),r,u,A,y,z)},d=function(r,u,v,w,A,y,z){return b((u&w)|(v&(~w)),r,u,A,y,z)},g=function(r,u,v,w,A,y,z){return b(u^v^w,r,u,A,y,z)},h=function(r,u,v,w,A,y,z){return b(v^(u|(~w)),r,u,A,y,z)},n=function(w,v){var r=w[0],s=w[1],t=w[2],u=w[3];r=c(r,s,t,u,v[0],7,-680876936);u=c(u,r,s,t,v[1],12,-389564586);t=c(t,u,r,s,v[2],17,606105819);s=c(s,t,u,r,v[3],22,-1044525330);r=c(r,s,t,u,v[4],7,-176418897);u=c(u,r,s,t,v[5],12,1200080426);t=c(t,u,r,s,v[6],17,-1473231341);s=c(s,t,u,r,v[7],22,-45705983);r=c(r,s,t,u,v[8],7,1770035416);u=c(u,r,s,t,v[9],12,-1958414417);t=c(t,u,r,s,v[10],17,-42063);s=c(s,t,u,r,v[11],22,-1990404162);r=c(r,s,t,u,v[12],7,1804603682);u=c(u,r,s,t,v[13],12,-40341101);t=c(t,u,r,s,v[14],17,-1502002290);s=c(s,t,u,r,v[15],22,1236535329);r=d(r,s,t,u,v[1],5,-165796510);u=d(u,r,s,t,v[6],9,-1069501632);t=d(t,u,r,s,v[11],14,643717713);s=d(s,t,u,r,v[0],20,-373897302);r=d(r,s,t,u,v[5],5,-701558691);u=d(u,r,s,t,v[10],9,38016083);t=d(t,u,r,s,v[15],14,-660478335);s=d(s,t,u,r,v[4],20,-405537848);r=d(r,s,t,u,v[9],5,568446438);u=d(u,r,s,t,v[14],9,-1019803690);t=d(t,u,r,s,v[3],14,-187363961);s=d(s,t,u,r,v[8],20,1163531501);r=d(r,s,t,u,v[13],5,-1444681467);u=d(u,r,s,t,v[2],9,-51403784);t=d(t,u,r,s,v[7],14,1735328473);s=d(s,t,u,r,v[12],20,-1926607734);r=g(r,s,t,u,v[5],4,-378558);u=g(u,r,s,t,v[8],11,-2022574463);t=g(t,u,r,s,v[11],16,1839030562);s=g(s,t,u,r,v[14],23,-35309556);r=g(r,s,t,u,v[1],4,-1530992060);u=g(u,r,s,t,v[4],11,1272893353);t=g(t,u,r,s,v[7],16,-155497632);s=g(s,t,u,r,v[10],23,-1094730640);r=g(r,s,t,u,v[13],4,681279174);u=g(u,r,s,t,v[0],11,-358537222);t=g(t,u,r,s,v[3],16,-722521979);s=g(s,t,u,r,v[6],23,76029189);r=g(r,s,t,u,v[9],4,-640364487);u=g(u,r,s,t,v[12],11,-421815835);t=g(t,u,r,s,v[15],16,530742520);s=g(s,t,u,r,v[2],23,-995338651);r=h(r,s,t,u,v[0],6,-198630844);u=h(u,r,s,t,v[7],10,1126891415);t=h(t,u,r,s,v[14],15,-1416354905);s=h(s,t,u,r,v[5],21,-57434055);r=h(r,s,t,u,v[12],6,1700485571);u=h(u,r,s,t,v[3],10,-1894986606);t=h(t,u,r,s,v[10],15,-1051523);s=h(s,t,u,r,v[1],21,-2054922799);r=h(r,s,t,u,v[8],6,1873313359);u=h(u,r,s,t,v[15],10,-30611744);t=h(t,u,r,s,v[6],15,-1560198380);s=h(s,t,u,r,v[13],21,1309151649);r=h(r,s,t,u,v[4],6,-145523070);u=h(u,r,s,t,v[11],10,-1120210379);t=h(t,u,r,s,v[2],15,718787259);s=h(s,t,u,r,v[9],21,-343485551);w[0]=a(r,w[0]);w[1]=a(s,w[1]);w[2]=a(t,w[2]);w[3]=a(u,w[3])},l=function(u){var t=[],r;for(r=0;r<64;r+=4){t[r>>2]=u.charCodeAt(r)+(u.charCodeAt(r+1)<<8)+(u.charCodeAt(r+2)<<16)+(u.charCodeAt(r+3)<<24)}return t},m=function(r){var t=[],s;for(s=0;s<64;s+=4){t[s>>2]=r[s]+(r[s+1]<<8)+(r[s+2]<<16)+(r[s+3]<<24)}return t},j=function(x){var w=x.length,y=[1732584193,-271733879,-1732584194,271733878],t,u,z,A,v,r;for(t=64;t<=w;t+=64){n(y,l(x.substring(t-64,t)))}x=x.substring(t-64);u=x.length;z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<u;t+=1){z[t>>2]|=x.charCodeAt(t)<<((t%4)<<3)}z[t>>2]|=128<<((t%4)<<3);if(t>55){n(y,z);for(t=0;t<16;t+=1){z[t]=0}}A=w*8;A=A.toString(16).match(/(.*?)(.{0,8})$/);v=parseInt(A[2],16);r=parseInt(A[1],16)||0;z[14]=v;z[15]=r;n(y,z);return y},k=function(r){var w=r.length,x=[1732584193,-271733879,-1732584194,271733878],t,u,y,z,v,s;for(t=64;t<=w;t+=64){n(x,m(r.subarray(t-64,t)))}r=(t-64)<w?r.subarray(t-64):new Uint8Array(0);u=r.length;y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<u;t+=1){y[t>>2]|=r[t]<<((t%4)<<3)}y[t>>2]|=128<<((t%4)<<3);if(t>55){n(x,y);for(t=0;t<16;t+=1){y[t]=0}}z=w*8;z=z.toString(16).match(/(.*?)(.{0,8})$/);v=parseInt(z[2],16);s=parseInt(z[1],16)||0;y[14]=v;y[15]=s;n(x,y);return x},f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],o=function(t){var u="",r;for(r=0;r<4;r+=1){u+=f[(t>>(r*8+4))&15]+f[(t>>(r*8))&15]}return u},e=function(s){var r;for(r=0;r<s.length;r+=1){s[r]=o(s[r])}return s.join("")},i=function(r){return e(j(r))},p=function(){this.reset()};if(i("hello")!=="5d41402abc4b2a76b9719d911017c592"){a=function(t,u){var r=(t&65535)+(u&65535),s=(t>>16)+(u>>16)+(r>>16);return(s<<16)|(r&65535)}}p.prototype.append=function(r){if(/[\u0080-\uFFFF]/.test(r)){r=unescape(encodeURIComponent(r))}this.appendBinary(r);return this};p.prototype.appendBinary=function(r){this._buff+=r;this._length+=r.length;var t=this._buff.length,s;for(s=64;s<=t;s+=64){n(this._state,l(this._buff.substring(s-64,s)))}this._buff=this._buff.substr(s-64);return this};p.prototype.end=function(u){var r=this._buff,t=r.length,s,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v;for(s=0;s<t;s+=1){w[s>>2]|=r.charCodeAt(s)<<((s%4)<<3)}this._finish(w,t);v=!!u?this._state:e(this._state);this.reset();return v};p.prototype._finish=function(v,t){var s=t,w,u,r;v[s>>2]|=128<<((s%4)<<3);if(s>55){n(this._state,v);for(s=0;s<16;s+=1){v[s]=0}}w=this._length*8;w=w.toString(16).match(/(.*?)(.{0,8})$/);u=parseInt(w[2],16);r=parseInt(w[1],16)||0;v[14]=u;v[15]=r;n(this._state,v)};p.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};p.prototype.destroy=function(){delete this._state;delete this._buff;delete this._length};p.prototype.hash=function(t,s){if(/[\u0080-\uFFFF]/.test(t)){t=unescape(encodeURIComponent(t))}var r=j(t);return !!s?r:e(r)};p.prototype.hashBinary=function(r,t){var s=j(r);return !!t?s:e(s)};p.ArrayBuffer=function(){this.reset()};p.ArrayBuffer.prototype.append=function(r){var s=this._concatArrayBuffer(this._buff,r),u=s.length,t;this._length+=r.byteLength;for(t=64;t<=u;t+=64){n(this._state,m(s.subarray(t-64,t)))}this._buff=(t-64)<u?s.subarray(t-64):new Uint8Array(0);return this};p.ArrayBuffer.prototype.end=function(u){var r=this._buff,t=r.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s,v;for(s=0;s<t;s+=1){w[s>>2]|=r[s]<<((s%4)<<3)}this._finish(w,t);v=!!u?this._state:e(this._state);this.reset();return v};p.ArrayBuffer.prototype._finish=p.prototype._finish;p.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};p.ArrayBuffer.prototype.destroy=p.prototype.destroy;p.ArrayBuffer.prototype._concatArrayBuffer=function(r,u){var s=r.length,t=new Uint8Array(s+u.byteLength);t.set(r);t.set(new Uint8Array(u),s);return t};p.ArrayBuffer.hash=function(r,t){var s=k(new Uint8Array(r));return !!t?s:e(s)};return p}));