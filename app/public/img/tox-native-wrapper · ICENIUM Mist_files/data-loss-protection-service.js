define(function(d){var c=d("kendo");var a=window;var b=c.Observable.extend({events:{APP_BEFORE_UNLOAD:a.APP_BEFORE_UNLOAD},init:function(){var e=this;c.Observable.fn.init.apply(this,arguments);$(window).bind("beforeunload.dataLossProtectionService",$.proxy(e.onBeforeUnload,e));$(window).bind("unload.dataLossProtectionService",$.proxy(e.onUnload,e))},onBeforeUnload:function(f){var i=this,h=[],g=f.originalEvent||window.event;i.trigger(i.events.APP_BEFORE_UNLOAD,{objections:h});if(h.length){if(g){g.returnValue=h.join("")}return h.join("")}},onUnload:function(){var e=this;e.trigger(a.APP_UNLOAD)},suspend:function(){var e=this;$(window).unbind("beforeunload.dataLossProtectionService",$.proxy(e.onBeforeUnload,this))},suspendOnce:function(){var e=this;$(window).unbind("beforeunload.dataLossProtectionService",$.proxy(e.onBeforeUnload,e));$(window).one("beforeunload.dataLossProtectionService",function(){e.resume()})},resume:function(){var e=this;$(window).bind("beforeunload.dataLossProtectionService",$.proxy(e.onBeforeUnload,e))}});return new b()});